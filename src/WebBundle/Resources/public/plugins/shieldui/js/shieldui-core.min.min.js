function a(j){this.ok=!1,"#"==j.charAt(0)&&(j=j.substr(1,6)),j=j.replace(/ /g,""),j=j.toLowerCase();var o={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var n in o){j==n&&(j=o[n])}for(var q=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(b){return[parseInt(b[1]),parseInt(b[2]),parseInt(b[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(b){return[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(b){return[parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16)]}}],p=0;p<q.length;p++){var l=q[p].re,k=q[p].process,m=l.exec(j);m&&(channels=k(m),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),d=this.g.toString(16),f=this.b.toString(16);return 1==e.length&&(e="0"+e),1==d.length&&(d="0"+d),1==f.length&&(f="0"+f),"#"+e+d+f},this.getHelpXML=function(){for(var z=new Array,y=0;y<q.length;y++){for(var s=q[y].example,w=0;w<s.length;w++){z[z.length]=s[w]}}for(var r in o){z[z.length]=r}var v=document.createElement("ul");v.setAttribute("id","rgbcolor-examples");for(var y=0;y<z.length;y++){try{var t=document.createElement("li"),x=new a(z[y]),u=document.createElement("div");u.style.cssText="margin: 3px; border: 1px solid black; background:"+x.toHex()+"; color:"+x.toHex(),u.appendChild(document.createTextNode("test"));var e=document.createTextNode(" "+z[y]+" -> "+x.toRGB()+" -> "+x.toHex());t.appendChild(u),t.appendChild(e),v.appendChild(t)}catch(c){}}return v}}!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b:b(jQuery)}(function(v){function q(x){var A=x||window.event,e=l.call(arguments,1),w=0,y=0,z=0,k=0,d=0,b=0;if(x=v.event.fix(A),x.type="mousewheel","detail" in A&&(z=-1*A.detail),"wheelDelta" in A&&(z=A.wheelDelta),"wheelDeltaY" in A&&(z=A.wheelDeltaY),"wheelDeltaX" in A&&(y=-1*A.wheelDeltaX),"axis" in A&&A.axis===A.HORIZONTAL_AXIS&&(y=-1*z,z=0),w=0===z?y:z,"deltaY" in A&&(z=-1*A.deltaY,w=z),"deltaX" in A&&(y=A.deltaX,0===z&&(w=-1*y)),0!==z||0!==y){if(1===A.deltaMode){var j=v.data(this,"mousewheel-line-height");w*=j,z*=j,y*=j}else{if(2===A.deltaMode){var g=v.data(this,"mousewheel-page-height");w*=g,z*=g,y*=g}}if(k=Math.max(Math.abs(z),Math.abs(y)),(!u||u>k)&&(u=k,p(A,k)&&(u/=40)),p(A,k)&&(w/=40,y/=40,z/=40),w=Math[w>=1?"floor":"ceil"](w/u),y=Math[y>=1?"floor":"ceil"](y/u),z=Math[z>=1?"floor":"ceil"](z/u),s.settings.normalizeOffset&&this.getBoundingClientRect){var B=this.getBoundingClientRect();d=x.clientX-B.left,b=x.clientY-B.top}return x.deltaX=y,x.deltaY=z,x.deltaFactor=u,x.offsetX=d,x.offsetY=b,x.deltaMode=0,e.unshift(x,w,y,z),r&&clearTimeout(r),r=setTimeout(m,200),(v.event.dispatch||v.event.handle).apply(this,e)}}function m(){u=null}function p(d,c){return s.settings.adjustOldDeltas&&"mousewheel"===d.type&&c%120===0}var r,u,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],t="onwheel" in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(v.event.fixHooks){for(var n=o.length;n;){v.event.fixHooks[o[--n]]=v.event.mouseHooks}}var s=v.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener){for(var c=t.length;c;){this.addEventListener(t[--c],q,!1)}}else{this.onmousewheel=q}v.data(this,"mousewheel-line-height",s.getLineHeight(this)),v.data(this,"mousewheel-page-height",s.getPageHeight(this))},teardown:function(){if(this.removeEventListener){for(var c=t.length;c;){this.removeEventListener(t[--c],q,!1)}}else{this.onmousewheel=null}v.removeData(this,"mousewheel-line-height"),v.removeData(this,"mousewheel-page-height")},getLineHeight:function(f){var g=v(f),e=g["offsetParent" in v.fn?"offsetParent":"parent"]();return e.length||(e=v("body")),parseInt(e.css("fontSize"),10)||parseInt(g.css("fontSize"),10)||16},getPageHeight:function(c){return v(c).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};v.fn.extend({mousewheel:function(b){return b?this.bind("mousewheel",b):this.trigger("mousewheel")},unmousewheel:function(b){return this.unbind("mousewheel",b)}})}),function(){function c(){var d={};return d.FRAMERATE=30,d.MAX_VIRTUAL_PIXELS=30000,d.init=function(b){d.Definitions={},d.Styles={},d.Animations=[],d.Images=[],d.ctx=b,d.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(f,e){this.viewPorts.push({width:f,height:e})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(e){return null!=e&&"number"==typeof e?e:"x"==e?this.width():"y"==e?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},d.init(),d.ImagesLoaded=function(){for(var b=0;b<d.Images.length;b++){if(!d.Images[b].loaded){return !1}}return !0},d.trim=function(b){return b.replace(/^\s+|\s+$/g,"")},d.compressSpaces=function(b){return b.replace(/[\s\r\t\n]+/gm," ")},d.ajax=function(e){var f;return f=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),f?(f.open("GET",e,!1),f.send(null),f.responseText):null},d.parseXml=function(f){if(window.DOMParser){var g=new DOMParser;return g.parseFromString(f,"text/xml")}f=f.replace(/<!DOCTYPE svg[^>]*>/,"");var e=new ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(f),e},d.Property=function(f,e){this.name=f,this.value=e},d.Property.prototype.getValue=function(){return this.value},d.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},d.Property.prototype.numValue=function(){if(!this.hasValue()){return 0}var b=parseFloat(this.value);return(this.value+"").match(/%$/)&&(b/=100),b},d.Property.prototype.valueOrDefault=function(b){return this.hasValue()?this.value:b},d.Property.prototype.numValueOrDefault=function(b){return this.hasValue()?this.numValue():b},d.Property.prototype.addOpacity=function(f){var b=this.value;if(null!=f&&""!=f&&"string"==typeof this.value){var g=new a(this.value);g.ok&&(b="rgba("+g.r+", "+g.g+", "+g.b+", "+f+")")}return new d.Property(this.name,b)},d.Property.prototype.getDefinition=function(){var b=this.value.match(/#([^\)']+)/);return b&&(b=b[1]),b||(b=this.value),d.Definitions[b]},d.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},d.Property.prototype.getFillStyleDefinition=function(f,e){var b=this.getDefinition();return null!=b&&b.createGradient?b.createGradient(d.ctx,f,e):null!=b&&b.createPattern?b.createPattern(d.ctx,f):null},d.Property.prototype.getDPI=function(b){return 96},d.Property.prototype.getEM=function(e){var b=12,f=new d.Property("fontSize",d.Font.Parse(d.ctx.font).fontSize);return f.hasValue()&&(b=f.toPixels(e)),b},d.Property.prototype.getUnits=function(){var b=this.value+"";return b.replace(/[0-9\.\-]/g,"")},d.Property.prototype.toPixels=function(h,f){if(!this.hasValue()){return 0}var b=this.value+"";if(b.match(/em$/)){return this.numValue()*this.getEM(h)}if(b.match(/ex$/)){return this.numValue()*this.getEM(h)/2}if(b.match(/px$/)){return this.numValue()}if(b.match(/pt$/)){return this.numValue()*this.getDPI(h)*(1/72)}if(b.match(/pc$/)){return 15*this.numValue()}if(b.match(/cm$/)){return this.numValue()*this.getDPI(h)/2.54}if(b.match(/mm$/)){return this.numValue()*this.getDPI(h)/25.4}if(b.match(/in$/)){return this.numValue()*this.getDPI(h)}if(b.match(/%$/)){return this.numValue()*d.ViewPort.ComputeSize(h)}var g=this.numValue();return f&&1>g?g*d.ViewPort.ComputeSize(h):g},d.Property.prototype.toMilliseconds=function(){if(!this.hasValue()){return 0}var b=this.value+"";return b.match(/s$/)?1000*this.numValue():b.match(/ms$/)?this.numValue():this.numValue()},d.Property.prototype.toRadians=function(){if(!this.hasValue()){return 0}var b=this.value+"";return b.match(/deg$/)?this.numValue()*(Math.PI/180):b.match(/grad$/)?this.numValue()*(Math.PI/200):b.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)},d.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(o,n,m,l,k,p){var j=null!=p?this.Parse(p):this.CreateFont("","","","","",d.ctx.font);return{fontFamily:k||j.fontFamily,fontSize:l||j.fontSize,fontStyle:o||j.fontStyle,fontWeight:m||j.fontWeight,fontVariant:n||j.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var b=this;this.Parse=function(j){for(var l={},n=d.trim(d.compressSpaces(j||"")).split(" "),m={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},k="",o=0;o<n.length;o++){m.fontStyle||-1==b.Styles.indexOf(n[o])?m.fontVariant||-1==b.Variants.indexOf(n[o])?m.fontWeight||-1==b.Weights.indexOf(n[o])?m.fontSize?"inherit"!=n[o]&&(k+=n[o]):("inherit"!=n[o]&&(l.fontSize=n[o].split("/")[0]),m.fontStyle=m.fontVariant=m.fontWeight=m.fontSize=!0):("inherit"!=n[o]&&(l.fontWeight=n[o]),m.fontStyle=m.fontVariant=m.fontWeight=!0):("inherit"!=n[o]&&(l.fontVariant=n[o]),m.fontStyle=m.fontVariant=!0):("inherit"!=n[o]&&(l.fontStyle=n[o]),m.fontStyle=!0)}return""!=k&&(l.fontFamily=k),l}},d.ToNumberArray=function(e){for(var b=d.trim(d.compressSpaces((e||"").replace(/,/g," "))).split(" "),f=0;f<b.length;f++){b[f]=parseFloat(b[f])}return b},d.Point=function(f,e){this.x=f,this.y=e},d.Point.prototype.angleTo=function(b){return Math.atan2(b.y-this.y,b.x-this.x)},d.Point.prototype.applyTransform=function(f){var e=this.x*f[0]+this.y*f[2]+f[4],g=this.x*f[1]+this.y*f[3]+f[5];this.x=e,this.y=g},d.CreatePoint=function(e){var b=d.ToNumberArray(e);return new d.Point(b[0],b[1])},d.CreatePath=function(f){for(var h=d.ToNumberArray(f),g=[],b=0;b<h.length;b+=2){g.push(new d.Point(h[b],h[b+1]))}return g},d.BoundingBox=function(f,e,h,g){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(k,j){null!=k&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=k,this.x2=k),k<this.x1&&(this.x1=k),k>this.x2&&(this.x2=k)),null!=j&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=j,this.y2=j),j<this.y1&&(this.y1=j),j>this.y2&&(this.y2=j))},this.addX=function(b){this.addPoint(b,null)},this.addY=function(b){this.addPoint(null,b)},this.addBoundingBox=function(b){this.addPoint(b.x1,b.y1),this.addPoint(b.x2,b.y2)},this.addQuadraticCurve=function(t,s,n,m,r,q){var p=t+2/3*(n-t),o=s+2/3*(m-s),l=p+1/3*(r-t),k=o+1/3*(q-s);this.addBezierCurve(t,s,p,l,o,k,r,q)},this.addBezierCurve=function(v,C,w,x,y,z,A,B){var N=[v,C],H=[w,x],F=[y,z],G=[A,B];for(this.addPoint(N[0],N[1]),this.addPoint(G[0],G[1]),i=0;i<=1;i++){var O=function(b){return Math.pow(1-b,3)*N[i]+3*Math.pow(1-b,2)*b*H[i]+3*(1-b)*Math.pow(b,2)*F[i]+Math.pow(b,3)*G[i]},M=6*N[i]-12*H[i]+6*F[i],I=-3*N[i]+9*H[i]-9*F[i]+3*G[i],D=3*H[i]-3*N[i];if(0!=I){var E=Math.pow(M,2)-4*D*I;if(!(0>E)){var J=(-M+Math.sqrt(E))/(2*I);J>0&&1>J&&(0==i&&this.addX(O(J)),1==i&&this.addY(O(J)));var K=(-M-Math.sqrt(E))/(2*I);K>0&&1>K&&(0==i&&this.addX(O(K)),1==i&&this.addY(O(K)))}}else{if(0==M){continue}var L=-D/M;L>0&&1>L&&(0==i&&this.addX(O(L)),1==i&&this.addY(O(L)))}}},this.isPointInBox=function(k,j){return this.x1<=k&&k<=this.x2&&this.y1<=j&&j<=this.y2},this.addPoint(f,e),this.addPoint(h,g)},d.Transform=function(k){var o=this;this.Type={},this.Type.translate=function(e){this.p=d.CreatePoint(e),this.apply=function(f){f.translate(this.p.x||0,this.p.y||0)},this.applyToPoint=function(f){f.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(f){var e=d.ToNumberArray(f);this.angle=new d.Property("angle",e[0]),this.cx=e[1]||0,this.cy=e[2]||0,this.apply=function(g){g.translate(this.cx,this.cy),g.rotate(this.angle.toRadians()),g.translate(-this.cx,-this.cy)},this.applyToPoint=function(g){var h=this.angle.toRadians();g.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),g.applyTransform([Math.cos(h),Math.sin(h),-Math.sin(h),Math.cos(h),0,0]),g.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(e){this.p=d.CreatePoint(e),this.apply=function(f){f.scale(this.p.x||1,this.p.y||this.p.x||1)},this.applyToPoint=function(f){f.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(e){this.m=d.ToNumberArray(e),this.apply=function(f){f.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.applyToPoint=function(f){f.applyTransform(this.m)}},this.Type.SkewBase=function(e){this.base=o.Type.matrix,this.base(e),this.angle=new d.Property("angle",e)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(e){this.base=o.Type.SkewBase,this.base(e),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(e){this.base=o.Type.SkewBase,this.base(e),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(e){for(var f=0;f<this.transforms.length;f++){this.transforms[f].apply(e)}},this.applyToPoint=function(e){for(var f=0;f<this.transforms.length;f++){this.transforms[f].applyToPoint(e)}};for(var n=d.trim(d.compressSpaces(k)).replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),b=0;b<n.length;b++){var m=n[b].split("(")[0],j=n[b].split("(")[1].replace(")",""),l=new this.Type[m](j);l.type=m,this.transforms.push(l)}},d.AspectRatio=function(D,z,t,w,s,x,b,r,v,u){z=d.compressSpaces(z),z=z.replace(/^defer\s/,"");var y=z.split(" ")[0]||"xMidYMid",F=z.split(" ")[1]||"meet",A=t/w,B=s/x,E=Math.min(A,B),C=Math.max(A,B);"meet"==F&&(w*=E,x*=E),"slice"==F&&(w*=C,x*=C),v=new d.Property("refX",v),u=new d.Property("refY",u),v.hasValue()&&u.hasValue()?D.translate(-E*v.toPixels("x"),-E*u.toPixels("y")):(y.match(/^xMid/)&&("meet"==F&&E==B||"slice"==F&&C==B)&&D.translate(t/2-w/2,0),y.match(/YMid$/)&&("meet"==F&&E==A||"slice"==F&&C==A)&&D.translate(0,s/2-x/2),y.match(/^xMax/)&&("meet"==F&&E==B||"slice"==F&&C==B)&&D.translate(t-w,0),y.match(/YMax$/)&&("meet"==F&&E==A||"slice"==F&&C==A)&&D.translate(0,s-x)),"none"==y?D.scale(A,B):"meet"==F?D.scale(E,E):"slice"==F&&D.scale(C,C),D.translate(null==b?0:-b,null==r?0:-r)},d.Element={},d.EmptyProperty=new d.Property("EMPTY",""),d.Element.ElementBase=function(q){if(this.attributes={},this.styles={},this.children=[],this.attribute=function(g,f){var e=this.attributes[g];return null!=e?e:(1==f&&(e=new d.Property(g,""),this.attributes[g]=e),e||d.EmptyProperty)},this.style=function(h,j){var w=this.styles[h];if(null!=w){return w}var v=this.attribute(h);if(null!=v&&v.hasValue()){return this.styles[h]=v,v}var k=this.parent;if(null!=k){var u=k.style(h);if(null!=u&&u.hasValue()){return u}}return 1==j&&(w=new d.Property(h,""),this.styles[h]=w),w||d.EmptyProperty},this.render=function(f){if("none"!=this.style("display").value&&"hidden"!=this.attribute("visibility").value){if(f.save(),this.attribute("mask").hasValue()){var e=this.attribute("mask").getDefinition();null!=e&&e.apply(f,this)}else{if(this.style("filter").hasValue()){var g=this.style("filter").getDefinition();null!=g&&g.apply(f,this)}else{this.setContext(f),this.renderChildren(f),this.clearContext(f)}}f.restore()}},this.setContext=function(e){},this.clearContext=function(e){},this.renderChildren=function(e){for(var f=0;f<this.children.length;f++){this.children[f].render(e)}},this.addChild=function(g,f){var e=g;f&&(e=d.CreateElement(g)),e.parent=this,this.children.push(e)},null!=q&&1==q.nodeType){for(var s=0;s<q.childNodes.length;s++){var p=q.childNodes[s];1==p.nodeType&&this.addChild(p,!0),this.captureTextNodes&&3==p.nodeType&&this.addChild(new d.Element.tspan(p),!1)}for(var s=0;s<q.attributes.length;s++){var n=q.attributes[s];this.attributes[n.nodeName]=new d.Property(n.nodeName,n.nodeValue)}var t=d.Styles[q.nodeName];if(null!=t){for(var r in t){this.styles[r]=t[r]}}if(this.attribute("class").hasValue()){for(var m=d.compressSpaces(this.attribute("class").value).split(" "),o=0;o<m.length;o++){if(t=d.Styles["."+m[o]],null!=t){for(var r in t){this.styles[r]=t[r]}}if(t=d.Styles[q.nodeName+"."+m[o]],null!=t){for(var r in t){this.styles[r]=t[r]}}}}if(this.attribute("id").hasValue()){var t=d.Styles["#"+this.attribute("id").value];if(null!=t){for(var r in t){this.styles[r]=t[r]}}}if(this.attribute("style").hasValue()){for(var t=this.attribute("style").value.split(";"),s=0;s<t.length;s++){if(""!=d.trim(t[s])){var l=t[s].split(":"),r=d.trim(l[0]),b=d.trim(l[1]);this.styles[r]=new d.Property(r,b)}}}this.attribute("id").hasValue()&&null==d.Definitions[this.attribute("id").value]&&(d.Definitions[this.attribute("id").value]=this)}},d.Element.RenderedElementBase=function(b){this.base=d.Element.ElementBase,this.base(b),this.setContext=function(j){if(this.style("fill").isUrlDefinition()){var n=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity"));null!=n&&(j.fillStyle=n)}else{if(this.style("fill").hasValue()){var p=this.style("fill");"currentColor"==p.value&&(p.value=this.style("color").value),j.fillStyle="none"==p.value?"rgba(0,0,0,0)":p.value}}if(this.style("fill-opacity").hasValue()){var p=new d.Property("fill",j.fillStyle);p=p.addOpacity(this.style("fill-opacity").value),j.fillStyle=p.value}if(this.style("stroke").isUrlDefinition()){var n=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity"));null!=n&&(j.strokeStyle=n)}else{if(this.style("stroke").hasValue()){var o=this.style("stroke");"currentColor"==o.value&&(o.value=this.style("color").value),j.strokeStyle="none"==o.value?"rgba(0,0,0,0)":o.value}}if(this.style("stroke-opacity").hasValue()){var o=new d.Property("stroke",j.strokeStyle);o=o.addOpacity(this.style("stroke-opacity").value),j.strokeStyle=o.value}if(this.style("stroke-width").hasValue()){var m=this.style("stroke-width").toPixels();j.lineWidth=0==m?0.001:m}if(this.style("stroke-linecap").hasValue()&&(j.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(j.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(j.miterLimit=this.style("stroke-miterlimit").value),"undefined"!=typeof j.font&&(j.font=d.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()),this.attribute("transform").hasValue()){var k=new d.Transform(this.attribute("transform").value);k.apply(j)}if(this.attribute("clip-path").hasValue()){var l=this.attribute("clip-path").getDefinition();null!=l&&l.apply(j)}this.style("opacity").hasValue()&&(j.globalAlpha=this.style("opacity").numValue())}},d.Element.RenderedElementBase.prototype=new d.Element.ElementBase,d.Element.PathElementBase=function(b){this.base=d.Element.RenderedElementBase,this.base(b),this.path=function(e){return null!=e&&e.beginPath(),new d.BoundingBox},this.renderChildren=function(j){this.path(j),d.Mouse.checkPath(this,j),""!=j.fillStyle&&j.fill(),""!=j.strokeStyle&&j.stroke();var f=this.getMarkers();if(null!=f){if(this.style("marker-start").isUrlDefinition()){var g=this.style("marker-start").getDefinition();g.render(j,f[0][0],f[0][1])}if(this.style("marker-mid").isUrlDefinition()){for(var g=this.style("marker-mid").getDefinition(),h=1;h<f.length-1;h++){g.render(j,f[h][0],f[h][1])}}if(this.style("marker-end").isUrlDefinition()){var g=this.style("marker-end").getDefinition();g.render(j,f[f.length-1][0],f[f.length-1][1])}}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},d.Element.PathElementBase.prototype=new d.Element.RenderedElementBase,d.Element.svg=function(b){this.base=d.Element.RenderedElementBase,this.base(b),this.baseClearContext=this.clearContext,this.clearContext=function(e){this.baseClearContext(e),d.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(j){j.strokeStyle="rgba(0,0,0,0)",j.lineCap="butt",j.lineJoin="miter",j.miterLimit=4,this.baseSetContext(j),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),j.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var q=d.ViewPort.width(),p=d.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),"undefined"==typeof this.root){q=this.attribute("width").toPixels("x"),p=this.attribute("height").toPixels("y");var n=0,m=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(n=-this.attribute("refX").toPixels("x"),m=-this.attribute("refY").toPixels("y")),j.beginPath(),j.moveTo(n,m),j.lineTo(q,m),j.lineTo(q,p),j.lineTo(n,p),j.closePath(),j.clip()}if(d.ViewPort.SetCurrent(q,p),this.attribute("viewBox").hasValue()){var o=d.ToNumberArray(this.attribute("viewBox").value),l=o[0],k=o[1];q=o[2],p=o[3],d.AspectRatio(j,this.attribute("preserveAspectRatio").value,d.ViewPort.width(),q,d.ViewPort.height(),p,l,k,this.attribute("refX").value,this.attribute("refY").value),d.ViewPort.RemoveCurrent(),d.ViewPort.SetCurrent(o[2],o[3])}}},d.Element.svg.prototype=new d.Element.RenderedElementBase,d.Element.rect=function(b){this.base=d.Element.PathElementBase,this.base(b),this.path=function(o){var j=this.attribute("x").toPixels("x"),p=this.attribute("y").toPixels("y"),m=this.attribute("width").toPixels("x"),l=this.attribute("height").toPixels("y"),n=this.attribute("rx").toPixels("x"),k=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(k=n),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(n=k),n=Math.min(n,m/2),k=Math.min(k,l/2),null!=o&&(o.beginPath(),o.moveTo(j+n,p),o.lineTo(j+m-n,p),o.quadraticCurveTo(j+m,p,j+m,p+k),o.lineTo(j+m,p+l-k),o.quadraticCurveTo(j+m,p+l,j+m-n,p+l),o.lineTo(j+n,p+l),o.quadraticCurveTo(j,p+l,j,p+l-k),o.lineTo(j,p+k),o.quadraticCurveTo(j,p,j+n,p),o.closePath()),new d.BoundingBox(j,p,j+m,p+l)}},d.Element.rect.prototype=new d.Element.PathElementBase,d.Element.circle=function(b){this.base=d.Element.PathElementBase,this.base(b),this.path=function(j){var h=this.attribute("cx").toPixels("x"),g=this.attribute("cy").toPixels("y"),f=this.attribute("r").toPixels();return null!=j&&(j.beginPath(),j.arc(h,g,f,0,2*Math.PI,!0),j.closePath()),new d.BoundingBox(h-f,g-f,h+f,g+f)}},d.Element.circle.prototype=new d.Element.PathElementBase,d.Element.ellipse=function(b){this.base=d.Element.PathElementBase,this.base(b),this.path=function(k){var j=4*((Math.sqrt(2)-1)/3),l=this.attribute("rx").toPixels("x"),m=this.attribute("ry").toPixels("y"),h=this.attribute("cx").toPixels("x"),n=this.attribute("cy").toPixels("y");return null!=k&&(k.beginPath(),k.moveTo(h,n-m),k.bezierCurveTo(h+j*l,n-m,h+l,n-j*m,h+l,n),k.bezierCurveTo(h+l,n+j*m,h+j*l,n+m,h,n+m),k.bezierCurveTo(h-j*l,n+m,h-l,n+j*m,h-l,n),k.bezierCurveTo(h-l,n-j*m,h-j*l,n-m,h,n-m),k.closePath()),new d.BoundingBox(h-l,n-m,h+l,n+m)}},d.Element.ellipse.prototype=new d.Element.PathElementBase,d.Element.line=function(b){this.base=d.Element.PathElementBase,this.base(b),this.getPoints=function(){return[new d.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new d.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(f){var e=this.getPoints();return null!=f&&(f.beginPath(),f.moveTo(e[0].x,e[0].y),f.lineTo(e[1].x,e[1].y)),new d.BoundingBox(e[0].x,e[0].y,e[1].x,e[1].y)},this.getMarkers=function(){var f=this.getPoints(),e=f[0].angleTo(f[1]);return[[f[0],e],[f[1],e]]}},d.Element.line.prototype=new d.Element.PathElementBase,d.Element.polyline=function(b){this.base=d.Element.PathElementBase,this.base(b),this.points=d.CreatePath(this.attribute("points").value),this.path=function(g){var f=new d.BoundingBox(this.points[0].x,this.points[0].y);null!=g&&(g.beginPath(),g.moveTo(this.points[0].x,this.points[0].y));for(var e=1;e<this.points.length;e++){f.addPoint(this.points[e].x,this.points[e].y),null!=g&&g.lineTo(this.points[e].x,this.points[e].y)}return f},this.getMarkers=function(){for(var f=[],e=0;e<this.points.length-1;e++){f.push([this.points[e],this.points[e].angleTo(this.points[e+1])])}return f.push([this.points[this.points.length-1],f[f.length-1][1]]),f}},d.Element.polyline.prototype=new d.Element.PathElementBase,d.Element.polygon=function(b){this.base=d.Element.polyline,this.base(b),this.basePath=this.path,this.path=function(f){var e=this.basePath(f);return null!=f&&(f.lineTo(this.points[0].x,this.points[0].y),f.closePath()),e}},d.Element.polygon.prototype=new d.Element.polyline,d.Element.path=function(e){this.base=d.Element.PathElementBase,this.base(e);var b=this.attribute("d").value;b=b.replace(/,/gm," "),b=b.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),b=b.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),b=b.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2"),b=b.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),b=b.replace(/([0-9])([+\-])/gm,"$1 $2"),b=b.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),b=b.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),b=d.compressSpaces(b),b=d.trim(b),this.PathParser=new function(f){this.tokens=f.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new d.Point(0,0),this.control=new d.Point(0,0),this.current=new d.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return this.isEnd()?!0:null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return !0}return !1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var g=new d.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(g)},this.getAsControlPoint=function(){var g=this.getPoint();return this.control=g,g},this.getAsCurrentPoint=function(){var g=this.getPoint();return this.current=g,g},this.getReflectedControlPoint=function(){if("c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()){return this.current}var g=new d.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return g},this.makeAbsolute=function(g){return this.isRelativeCommand()&&(g.x+=this.current.x,g.y+=this.current.y),g},this.addMarker=function(h,g,j){null!=j&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(j)),this.addMarkerAngle(h,null==g?null:g.angleTo(h))},this.addMarkerAngle=function(h,g){this.points.push(h),this.angles.push(g)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var h=0;h<this.angles.length;h++){if(null==this.angles[h]){for(var g=h+1;g<this.angles.length;g++){if(null!=this.angles[g]){this.angles[h]=this.angles[g];break}}}}return this.angles}}(b),this.path=function(al){var am=this.PathParser;am.reset();var ad=new d.BoundingBox;for(null!=al&&al.beginPath();!am.isEnd();){switch(am.nextCommand(),am.command){case"M":case"m":var ag=am.getAsCurrentPoint();for(am.addMarker(ag),ad.addPoint(ag.x,ag.y),null!=al&&al.moveTo(ag.x,ag.y),am.start=am.current;!am.isCommandOrEnd();){var ag=am.getAsCurrentPoint();am.addMarker(ag,am.start),ad.addPoint(ag.x,ag.y),null!=al&&al.lineTo(ag.x,ag.y)}break;case"L":case"l":for(;!am.isCommandOrEnd();){var O=am.current,ag=am.getAsCurrentPoint();am.addMarker(ag,O),ad.addPoint(ag.x,ag.y),null!=al&&al.lineTo(ag.x,ag.y)}break;case"H":case"h":for(;!am.isCommandOrEnd();){var U=new d.Point((am.isRelativeCommand()?am.current.x:0)+am.getScalar(),am.current.y);am.addMarker(U,am.current),am.current=U,ad.addPoint(am.current.x,am.current.y),null!=al&&al.lineTo(am.current.x,am.current.y)}break;case"V":case"v":for(;!am.isCommandOrEnd();){var U=new d.Point(am.current.x,(am.isRelativeCommand()?am.current.y:0)+am.getScalar());am.addMarker(U,am.current),am.current=U,ad.addPoint(am.current.x,am.current.y),null!=al&&al.lineTo(am.current.x,am.current.y)}break;case"C":case"c":for(;!am.isCommandOrEnd();){var ae=am.current,aa=am.getPoint(),aj=am.getAsControlPoint(),ak=am.getAsCurrentPoint();am.addMarker(ak,aj,aa),ad.addBezierCurve(ae.x,ae.y,aa.x,aa.y,aj.x,aj.y,ak.x,ak.y),null!=al&&al.bezierCurveTo(aa.x,aa.y,aj.x,aj.y,ak.x,ak.y)}break;case"S":case"s":for(;!am.isCommandOrEnd();){var ae=am.current,aa=am.getReflectedControlPoint(),aj=am.getAsControlPoint(),ak=am.getAsCurrentPoint();am.addMarker(ak,aj,aa),ad.addBezierCurve(ae.x,ae.y,aa.x,aa.y,aj.x,aj.y,ak.x,ak.y),null!=al&&al.bezierCurveTo(aa.x,aa.y,aj.x,aj.y,ak.x,ak.y)}break;case"Q":case"q":for(;!am.isCommandOrEnd();){var ae=am.current,aj=am.getAsControlPoint(),ak=am.getAsCurrentPoint();am.addMarker(ak,aj,aj),ad.addQuadraticCurve(ae.x,ae.y,aj.x,aj.y,ak.x,ak.y),null!=al&&al.quadraticCurveTo(aj.x,aj.y,ak.x,ak.y)}break;case"T":case"t":for(;!am.isCommandOrEnd();){var ae=am.current,aj=am.getReflectedControlPoint();am.control=aj;var ak=am.getAsCurrentPoint();am.addMarker(ak,aj,aj),ad.addQuadraticCurve(ae.x,ae.y,aj.x,aj.y,ak.x,ak.y),null!=al&&al.quadraticCurveTo(aj.x,aj.y,ak.x,ak.y)}break;case"A":case"a":for(;!am.isCommandOrEnd();){var ae=am.current,ai=am.getScalar(),ah=am.getScalar(),ab=am.getScalar()*(Math.PI/180),Q=am.getScalar(),M=am.getScalar(),ak=am.getAsCurrentPoint(),af=new d.Point(Math.cos(ab)*(ae.x-ak.x)/2+Math.sin(ab)*(ae.y-ak.y)/2,-Math.sin(ab)*(ae.x-ak.x)/2+Math.cos(ab)*(ae.y-ak.y)/2),K=Math.pow(af.x,2)/Math.pow(ai,2)+Math.pow(af.y,2)/Math.pow(ah,2);K>1&&(ai*=Math.sqrt(K),ah*=Math.sqrt(K));var W=(Q==M?-1:1)*Math.sqrt((Math.pow(ai,2)*Math.pow(ah,2)-Math.pow(ai,2)*Math.pow(af.y,2)-Math.pow(ah,2)*Math.pow(af.x,2))/(Math.pow(ai,2)*Math.pow(af.y,2)+Math.pow(ah,2)*Math.pow(af.x,2)));isNaN(W)&&(W=0);var ac=new d.Point(W*ai*af.y/ah,W*-ah*af.x/ai),Z=new d.Point((ae.x+ak.x)/2+Math.cos(ab)*ac.x-Math.sin(ab)*ac.y,(ae.y+ak.y)/2+Math.sin(ab)*ac.x+Math.cos(ab)*ac.y),V=function(f){return Math.sqrt(Math.pow(f[0],2)+Math.pow(f[1],2))},P=function(g,f){return(g[0]*f[0]+g[1]*f[1])/(V(g)*V(f))},Y=function(g,f){return(g[0]*f[1]<g[1]*f[0]?-1:1)*Math.acos(P(g,f))},I=Y([1,0],[(af.x-ac.x)/ai,(af.y-ac.y)/ah]),H=[(af.x-ac.x)/ai,(af.y-ac.y)/ah],J=[(-af.x-ac.x)/ai,(-af.y-ac.y)/ah],S=Y(H,J);P(H,J)<=-1&&(S=Math.PI),P(H,J)>=1&&(S=0);var N=1-M?1:-1,X=I+N*(S/2),L=new d.Point(Z.x+ai*Math.cos(X),Z.y+ah*Math.sin(X));if(am.addMarkerAngle(L,X-N*Math.PI/2),am.addMarkerAngle(ak,X-N*Math.PI),ad.addPoint(ak.x,ak.y),null!=al){var P=ai>ah?ai:ah,T=ai>ah?1:ai/ah,R=ai>ah?ah/ai:1;al.translate(Z.x,Z.y),al.rotate(ab),al.scale(T,R),al.arc(0,0,P,I,I+S,1-M),al.scale(1/T,1/R),al.rotate(-ab),al.translate(-Z.x,-Z.y)}}break;case"Z":case"z":null!=al&&al.closePath(),am.current=am.start}}return ad},this.getMarkers=function(){for(var f=this.PathParser.getMarkerPoints(),h=this.PathParser.getMarkerAngles(),j=[],g=0;g<f.length;g++){j.push([f[g],h[g]])}return j}},d.Element.path.prototype=new d.Element.PathElementBase,d.Element.pattern=function(b){this.base=d.Element.ElementBase,this.base(b),this.createPattern=function(n,l){var p=this.attribute("width").toPixels("x",!0),o=this.attribute("height").toPixels("y",!0),u=new d.Element.svg;u.attributes.viewBox=new d.Property("viewBox",this.attribute("viewBox").value),u.attributes.width=new d.Property("width",p+"px"),u.attributes.height=new d.Property("height",o+"px"),u.attributes.transform=new d.Property("transform",this.attribute("patternTransform").value),u.children=this.children;var t=document.createElement("canvas");t.width=p,t.height=o;var s=t.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&s.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(var r=-1;1>=r;r++){for(var q=-1;1>=q;q++){s.save(),s.translate(r*t.width,q*t.height),u.render(s),s.restore()}}var m=n.createPattern(t,"repeat");return m}},d.Element.pattern.prototype=new d.Element.ElementBase,d.Element.marker=function(b){this.base=d.Element.ElementBase,this.base(b),this.baseRender=this.render,this.render=function(f,h,g){f.translate(h.x,h.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&f.rotate(g),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&f.scale(f.lineWidth,f.lineWidth),f.save();var j=new d.Element.svg;j.attributes.viewBox=new d.Property("viewBox",this.attribute("viewBox").value),j.attributes.refX=new d.Property("refX",this.attribute("refX").value),j.attributes.refY=new d.Property("refY",this.attribute("refY").value),j.attributes.width=new d.Property("width",this.attribute("markerWidth").value),j.attributes.height=new d.Property("height",this.attribute("markerHeight").value),j.attributes.fill=new d.Property("fill",this.attribute("fill").valueOrDefault("black")),j.attributes.stroke=new d.Property("stroke",this.attribute("stroke").valueOrDefault("none")),j.children=this.children,j.render(f),f.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&f.scale(1/f.lineWidth,1/f.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&f.rotate(-g),f.translate(-h.x,-h.y)}},d.Element.marker.prototype=new d.Element.ElementBase,d.Element.defs=function(b){this.base=d.Element.ElementBase,this.base(b),this.render=function(e){}},d.Element.defs.prototype=new d.Element.ElementBase,d.Element.GradientBase=function(e){this.base=d.Element.ElementBase,this.base(e),this.gradientUnits=this.attribute("gradientUnits").valueOrDefault("objectBoundingBox"),this.stops=[];for(var b=0;b<this.children.length;b++){var f=this.children[b];"stop"==f.type&&this.stops.push(f)}this.getGradient=function(){},this.createGradient=function(o,p,q){var A=this;this.attribute("xlink:href").hasValue()&&(A=this.attribute("xlink:href").getDefinition());var r=function(g){if(q.hasValue()){var h=new d.Property("color",g);return h.addOpacity(q.value).value}return g},v=this.getGradient(o,p);if(null==v){return r(A.stops[A.stops.length-1].color)}for(var x=0;x<A.stops.length;x++){v.addColorStop(A.stops[x].offset,r(A.stops[x].color))}if(this.attribute("gradientTransform").hasValue()){var u=d.ViewPort.viewPorts[0],y=new d.Element.rect;y.attributes.x=new d.Property("x",-d.MAX_VIRTUAL_PIXELS/3),y.attributes.y=new d.Property("y",-d.MAX_VIRTUAL_PIXELS/3),y.attributes.width=new d.Property("width",d.MAX_VIRTUAL_PIXELS),y.attributes.height=new d.Property("height",d.MAX_VIRTUAL_PIXELS);var s=new d.Element.g;s.attributes.transform=new d.Property("transform",this.attribute("gradientTransform").value),s.children=[y];var z=new d.Element.svg;z.attributes.x=new d.Property("x",0),z.attributes.y=new d.Property("y",0),z.attributes.width=new d.Property("width",u.width),z.attributes.height=new d.Property("height",u.height),z.children=[s];var w=document.createElement("canvas");w.width=u.width,w.height=u.height;var t=w.getContext("2d");return t.fillStyle=v,z.render(t),t.createPattern(w,"no-repeat")}return v}},d.Element.GradientBase.prototype=new d.Element.ElementBase,d.Element.linearGradient=function(b){this.base=d.Element.GradientBase,this.base(b),this.getGradient=function(l,k){var j=k.getBoundingBox();this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var h="objectBoundingBox"==this.gradientUnits?j.x()+j.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),o="objectBoundingBox"==this.gradientUnits?j.y()+j.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),n="objectBoundingBox"==this.gradientUnits?j.x()+j.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),m="objectBoundingBox"==this.gradientUnits?j.y()+j.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return h==n&&o==m?null:l.createLinearGradient(h,o,n,m)}},d.Element.linearGradient.prototype=new d.Element.GradientBase,d.Element.radialGradient=function(b){this.base=d.Element.GradientBase,this.base(b),this.getGradient=function(n,m){var k=m.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var j="objectBoundingBox"==this.gradientUnits?k.x()+k.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),q="objectBoundingBox"==this.gradientUnits?k.y()+k.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),p=j,o=q;this.attribute("fx").hasValue()&&(p="objectBoundingBox"==this.gradientUnits?k.x()+k.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(o="objectBoundingBox"==this.gradientUnits?k.y()+k.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var l="objectBoundingBox"==this.gradientUnits?(k.width()+k.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return n.createRadialGradient(p,o,0,j,q,l)}},d.Element.radialGradient.prototype=new d.Element.GradientBase,d.Element.stop=function(e){this.base=d.Element.ElementBase,this.base(e),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),this.offset>1&&(this.offset=1);var b=this.style("stop-color");this.style("stop-opacity").hasValue()&&(b=b.addOpacity(this.style("stop-opacity").value)),this.color=b.value},d.Element.stop.prototype=new d.Element.ElementBase,d.Element.AnimateBase=function(b){this.base=d.Element.ElementBase,this.base(b),d.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var e=this.attribute("attributeType").value,f=this.attribute("attributeName").value;return"CSS"==e?this.parent.style(f,!0):this.parent.attribute(f,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(h){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"!=this.attribute("repeatCount").value&&"indefinite"!=this.attribute("repeatDur").value){return"remove"!=this.attribute("fill").valueOrDefault("remove")||this.removed?!1:(this.removed=!0,this.getProperty().value=this.initialValue,!0)}this.duration=0}this.duration=this.duration+h;var e=!1;if(this.begin<this.duration){var f=this.calcValue();if(this.attribute("type").hasValue()){var g=this.attribute("type").value;f=g+"("+f+")"}this.getProperty().value=f,e=!0}return e},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var f={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var j=f.progress*(this.values.value.length-1),h=Math.floor(j),g=Math.ceil(j);f.from=new d.Property("from",parseFloat(this.values.value[h])),f.to=new d.Property("to",parseFloat(this.values.value[g])),f.progress=(j-h)/(g-h)}else{f.from=this.from,f.to=this.to}return f}},d.Element.AnimateBase.prototype=new d.Element.ElementBase,d.Element.animate=function(b){this.base=d.Element.AnimateBase,this.base(b),this.calcValue=function(){var f=this.progress(),e=f.from.numValue()+(f.to.numValue()-f.from.numValue())*f.progress;return e+this.initialUnits}},d.Element.animate.prototype=new d.Element.AnimateBase,d.Element.animateColor=function(b){this.base=d.Element.AnimateBase,this.base(b),this.calcValue=function(){var n=this.progress(),h=new a(n.from.value),m=new a(n.to.value);if(h.ok&&m.ok){var l=h.r+(m.r-h.r)*n.progress,k=h.g+(m.g-h.g)*n.progress,j=h.b+(m.b-h.b)*n.progress;return"rgb("+parseInt(l,10)+","+parseInt(k,10)+","+parseInt(j,10)+")"}return this.attribute("from").value}},d.Element.animateColor.prototype=new d.Element.AnimateBase,d.Element.animateTransform=function(b){this.base=d.Element.AnimateBase,this.base(b),this.calcValue=function(){for(var l=this.progress(),k=d.ToNumberArray(l.from.value),h=d.ToNumberArray(l.to.value),j="",g=0;g<k.length;g++){j+=k[g]+(h[g]-k[g])*l.progress+" "}return j}},d.Element.animateTransform.prototype=new d.Element.animate,d.Element.font=function(e){this.base=d.Element.ElementBase,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var f=0;f<this.children.length;f++){var b=this.children[f];"font-face"==b.type?(this.fontFace=b,b.style("font-family").hasValue()&&(d.Definitions[b.style("font-family").value]=this)):"missing-glyph"==b.type?this.missingGlyph=b:"glyph"==b.type&&(""!=b.arabicForm?(this.isRTL=!0,this.isArabic=!0,"undefined"==typeof this.glyphs[b.unicode]&&(this.glyphs[b.unicode]=[]),this.glyphs[b.unicode][b.arabicForm]=b):this.glyphs[b.unicode]=b)}},d.Element.font.prototype=new d.Element.ElementBase,d.Element.fontface=function(b){this.base=d.Element.ElementBase,this.base(b),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},d.Element.fontface.prototype=new d.Element.ElementBase,d.Element.missingglyph=function(b){this.base=d.Element.path,this.base(b),this.horizAdvX=0},d.Element.missingglyph.prototype=new d.Element.path,d.Element.glyph=function(b){this.base=d.Element.path,this.base(b),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},d.Element.glyph.prototype=new d.Element.path,d.Element.text=function(b){this.captureTextNodes=!0,this.base=d.Element.RenderedElementBase,this.base(b),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),this.style("dominant-baseline").hasValue()&&(e.textBaseline=this.style("dominant-baseline").value),this.style("alignment-baseline").hasValue()&&(e.textBaseline=this.style("alignment-baseline").value)},this.renderChildren=function(e){this.textAnchor=this.style("text-anchor").valueOrDefault("start"),this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y");for(var f=0;f<this.children.length;f++){this.renderChild(e,this,f)}},this.renderChild=function(q,l,j){var k=l.children[j];k.attribute("x").hasValue()?k.x=k.attribute("x").toPixels("x"):(this.attribute("dx").hasValue()&&(this.y+=this.attribute("dx").toPixels("x")),k.attribute("dx").hasValue()&&(this.x+=k.attribute("dx").toPixels("x")),k.x=this.x);var n=k.measureText(q);if("start"!=this.textAnchor&&(0==j||k.attribute("x").hasValue())){for(var p=n,o=j+1;o<this.children.length;o++){var m=this.children[o];if(m.attribute("x").hasValue()){break}p+=m.measureText(q)}k.x-="end"==this.textAnchor?p:p/2}this.x=k.x+n,k.attribute("y").hasValue()?k.y=k.attribute("y").toPixels("y"):(this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),k.attribute("dy").hasValue()&&(this.y+=k.attribute("dy").toPixels("y")),k.y=this.y),this.y=k.y,k.render(q);for(var j=0;j<k.children.length;j++){this.renderChild(q,k,j)}}},d.Element.text.prototype=new d.Element.RenderedElementBase,d.Element.TextElementBase=function(b){this.base=d.Element.RenderedElementBase,this.base(b),this.getGlyph=function(m,g,h){var k=g[h],l=null;if(m.isArabic){var j="isolated";(0==h||" "==g[h-1])&&h<g.length-2&&" "!=g[h+1]&&(j="terminal"),h>0&&" "!=g[h-1]&&h<g.length-2&&" "!=g[h+1]&&(j="medial"),h>0&&" "!=g[h-1]&&(h==g.length-1||" "==g[h+1])&&(j="initial"),"undefined"!=typeof m.glyphs[k]&&(l=m.glyphs[k][j],null==l&&"glyph"==m.glyphs[k].type&&(l=m.glyphs[k]))}else{l=m.glyphs[k]}return null==l&&(l=m.missingGlyph),l},this.renderChildren=function(u){var t=this.parent.style("font-family").getDefinition();if(null==t){""!=u.fillStyle&&u.fillText(d.compressSpaces(this.getText()),this.x,this.y),""!=u.strokeStyle&&u.strokeText(d.compressSpaces(this.getText()),this.x,this.y)}else{var p=this.parent.style("font-size").numValueOrDefault(d.Font.Parse(d.ctx.font).fontSize),n=this.parent.style("font-style").valueOrDefault(d.Font.Parse(d.ctx.font).fontStyle),r=this.getText();t.isRTL&&(r=r.split("").reverse().join(""));for(var o=d.ToNumberArray(this.parent.attribute("dx").value),s=0;s<r.length;s++){var m=this.getGlyph(t,r,s),q=p/t.fontFace.unitsPerEm;u.translate(this.x,this.y),u.scale(q,-q);var l=u.lineWidth;u.lineWidth=u.lineWidth*t.fontFace.unitsPerEm/p,"italic"==n&&u.transform(1,0,0.4,1,0,0),m.render(u),"italic"==n&&u.transform(1,0,-0.4,1,0,0),u.lineWidth=l,u.scale(1/q,-1/q),u.translate(-this.x,-this.y),this.x+=p*(m.horizAdvX||t.horizAdvX)/t.fontFace.unitsPerEm,"undefined"==typeof o[s]||isNaN(o[s])||(this.x+=o[s])}}},this.getText=function(){},this.measureText=function(t){var s=this.parent.style("font-family").getDefinition();if(null!=s){var n=this.parent.style("font-size").numValueOrDefault(d.Font.Parse(d.ctx.font).fontSize),q=0,r=this.getText();s.isRTL&&(r=r.split("").reverse().join(""));for(var p=d.ToNumberArray(this.parent.attribute("dx").value),u=0;u<r.length;u++){var m=this.getGlyph(s,r,u);q+=(m.horizAdvX||s.horizAdvX)*n/s.fontFace.unitsPerEm,"undefined"==typeof p[u]||isNaN(p[u])||(q+=p[u])}return q}var o=d.compressSpaces(this.getText());if(!t.measureText){return 10*o.length}t.save(),this.setContext(t);var l=t.measureText(o).width;return t.restore(),l}},d.Element.TextElementBase.prototype=new d.Element.RenderedElementBase,d.Element.tspan=function(b){this.captureTextNodes=!0,this.base=d.Element.TextElementBase,this.base(b),this.text=b.nodeValue||b.text||"",this.getText=function(){return this.text}},d.Element.tspan.prototype=new d.Element.TextElementBase,d.Element.tref=function(b){this.base=d.Element.TextElementBase,this.base(b),this.getText=function(){var e=this.attribute("xlink:href").getDefinition();return null!=e?e.children[0].getText():void 0}},d.Element.tref.prototype=new d.Element.TextElementBase,d.Element.a=function(b){this.base=d.Element.TextElementBase,this.base(b),this.hasText=!0;for(var e=0;e<b.childNodes.length;e++){3!=b.childNodes[e].nodeType&&(this.hasText=!1)}this.text=this.hasText?b.childNodes[0].nodeValue:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(f){if(this.hasText){this.baseRenderChildren(f);var g=new d.Property("fontSize",d.Font.Parse(d.ctx.font).fontSize);d.Mouse.checkBoundingBox(this,new d.BoundingBox(this.x,this.y-g.toPixels("y"),this.x+this.measureText(f),this.y))}else{var h=new d.Element.g;h.children=this.children,h.parent=this,h.render(f)}},this.onclick=function(){window.open(this.attribute("xlink:href").value)},this.onmousemove=function(){d.ctx.canvas.style.cursor="pointer"}},d.Element.a.prototype=new d.Element.TextElementBase,d.Element.image=function(f){this.base=d.Element.RenderedElementBase,this.base(f);var b=this.attribute("xlink:href").value,h=b.match(/\.svg$/);if(d.Images.push(this),this.loaded=!1,h){this.img=d.ajax(b),this.loaded=!0}else{this.img=document.createElement("img");var g=this;this.img.onload=function(){g.loaded=!0},this.img.onerror=function(){console&&console.log('ERROR: image "'+b+'" not found'),g.loaded=!0},this.img.src=b}this.renderChildren=function(j){var l=this.attribute("x").toPixels("x"),k=this.attribute("y").toPixels("y"),n=this.attribute("width").toPixels("x"),m=this.attribute("height").toPixels("y");0!=n&&0!=m&&(j.save(),h?j.drawSvg(this.img,l,k,n,m):(j.translate(l,k),d.AspectRatio(j,this.attribute("preserveAspectRatio").value,n,this.img.width,m,this.img.height,0,0),j.drawImage(this.img,0,0)),j.restore())},this.getBoundingBox=function(){var j=this.attribute("x").toPixels("x"),m=this.attribute("y").toPixels("y"),l=this.attribute("width").toPixels("x"),k=this.attribute("height").toPixels("y");return new d.BoundingBox(j,m,j+l,m+k)}},d.Element.image.prototype=new d.Element.RenderedElementBase,d.Element.g=function(b){this.base=d.Element.RenderedElementBase,this.base(b),this.getBoundingBox=function(){for(var f=new d.BoundingBox,e=0;e<this.children.length;e++){f.addBoundingBox(this.children[e].getBoundingBox())}return f}},d.Element.g.prototype=new d.Element.RenderedElementBase,d.Element.symbol=function(b){this.base=d.Element.RenderedElementBase,this.base(b),this.baseSetContext=this.setContext,this.setContext=function(j){if(this.baseSetContext(j),this.attribute("viewBox").hasValue()){var f=d.ToNumberArray(this.attribute("viewBox").value),h=f[0],g=f[1];width=f[2],height=f[3],d.AspectRatio(j,this.attribute("preserveAspectRatio").value,this.attribute("width").toPixels("x"),width,this.attribute("height").toPixels("y"),height,h,g),d.ViewPort.SetCurrent(f[2],f[3])}}},d.Element.symbol.prototype=new d.Element.RenderedElementBase,d.Element.style=function(I){this.base=d.Element.ElementBase,this.base(I);for(var T="",V=0;V<I.childNodes.length;V++){T+=I.childNodes[V].nodeValue}T=T.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,""),T=d.compressSpaces(T);for(var M=T.split("}"),V=0;V<M.length;V++){if(""!=d.trim(M[V])){for(var D=M[V].split("{"),F=D[0].split(","),R=D[1].split(";"),H=0;H<F.length;H++){var N=d.trim(F[H]);if(""!=N){for(var P={},U=0;U<R.length;U++){var K=R[U].indexOf(":"),O=R[U].substr(0,K),G=R[U].substr(K+1,R[U].length-K);null!=O&&null!=G&&(P[d.trim(O)]=new d.Property(d.trim(O),d.trim(G)))}if(d.Styles[N]=P,"@font-face"==N){for(var C=P["font-family"].value.replace(/"/g,""),Q=P.src.value.split(","),S=0;S<Q.length;S++){if(Q[S].indexOf('format("svg")')>0){for(var J=Q[S].indexOf("url"),B=Q[S].indexOf(")",J),A=Q[S].substr(J+5,B-J-6),z=d.parseXml(d.ajax(A)),E=z.getElementsByTagName("font"),L=0;L<E.length;L++){var b=d.CreateElement(E[L]);d.Definitions[C]=b}}}}}}}}},d.Element.style.prototype=new d.Element.ElementBase,d.Element.use=function(b){this.base=d.Element.RenderedElementBase,this.base(b),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),this.attribute("x").hasValue()&&e.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&e.translate(0,this.attribute("y").toPixels("y"))},this.getDefinition=function(){var e=this.attribute("xlink:href").getDefinition();return this.attribute("width").hasValue()&&(e.attribute("width",!0).value=this.attribute("width").value),this.attribute("height").hasValue()&&(e.attribute("height",!0).value=this.attribute("height").value),e},this.path=function(e){var f=this.getDefinition();null!=f&&f.path(e)},this.renderChildren=function(e){var f=this.getDefinition();if(null!=f){var g=f.parent;f.parent=null,f.render(e),f.parent=g}}},d.Element.use.prototype=new d.Element.RenderedElementBase,d.Element.mask=function(b){this.base=d.Element.ElementBase,this.base(b),this.apply=function(m,q){var t=this.attribute("x").toPixels("x"),s=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),u=this.attribute("height").toPixels("y"),l=q.attribute("mask").value;q.attribute("mask").value="";var o=document.createElement("canvas");o.width=t+r,o.height=s+u;var n=o.getContext("2d");this.renderChildren(n);var p=document.createElement("canvas");p.width=t+r,p.height=s+u;var v=p.getContext("2d");q.render(v),v.globalCompositeOperation="destination-in",v.fillStyle=n.createPattern(o,"no-repeat"),v.fillRect(0,0,t+r,s+u),m.fillStyle=v.createPattern(p,"no-repeat"),m.fillRect(0,0,t+r,s+u),q.attribute("mask").value=l},this.render=function(e){}},d.Element.mask.prototype=new d.Element.ElementBase,d.Element.clipPath=function(b){this.base=d.Element.ElementBase,this.base(b),this.apply=function(e){for(var f=0;f<this.children.length;f++){this.children[f].path&&(this.children[f].path(e),e.clip())}},this.render=function(e){}},d.Element.clipPath.prototype=new d.Element.ElementBase,d.Element.filter=function(b){this.base=d.Element.ElementBase,this.base(b),this.apply=function(p,B){var u=B.getBoundingBox(),w=this.attribute("x").toPixels("x"),v=this.attribute("y").toPixels("y");("image"==B.type||0==w||0==v)&&(w=u.x1,v=u.y1);var A=this.attribute("width").toPixels("x"),z=this.attribute("height").toPixels("y");("image"==B.type||0==A||0==z)&&(A=u.width(),z=u.height());var o=B.style("filter").value;B.style("filter").value="";var q="image"==B.type?0:0.2,y=q*A,x=q*z,t=document.createElement("canvas");t.width=A+2*y,t.height=z+2*x;var r=t.getContext("2d");r.translate(-w+y,-v+x),B.render(r);for(var s=0;s<this.children.length;s++){this.children[s].apply(r,0,0,A+2*y,z+2*x)}p.drawImage(t,0,0,A+2*y,z+2*x,w-y,v-x,A+2*y,z+2*x),B.style("filter",!0).value=o},this.render=function(e){}},d.Element.filter.prototype=new d.Element.ElementBase,d.Element.feColorMatrix=function(e){function b(h,g,m,l,j,k){return h[m*l*4+4*g+k]}function f(j,h,o,n,k,m,l){j[o*n*4+4*h+m]=l}this.base=d.Element.ElementBase,this.base(e),this.apply=function(q,t,s,v,u){for(var r=q.getImageData(0,0,v,u),s=0;u>s;s++){for(var t=0;v>t;t++){var o=b(r.data,t,s,v,u,0),n=b(r.data,t,s,v,u,1),m=b(r.data,t,s,v,u,2),p=(o+n+m)/3;f(r.data,t,s,v,u,0,p),f(r.data,t,s,v,u,1,p),f(r.data,t,s,v,u,2,p)}}q.clearRect(0,0,v,u),q.putImageData(r,0,0)}},d.Element.filter.prototype=new d.Element.feColorMatrix,d.Element.feGaussianBlur=function(n){function m(f){f=Math.max(f,0.01);var g=Math.ceil(4*f)+1;mask=[];for(var e=0;g>e;e++){mask[e]=Math.exp(-0.5*(e/f)*(e/f))}return mask}function l(f){for(var g=0,e=1;e<f.length;e++){g+=Math.abs(f[e])}g=2*g+Math.abs(f[0]);for(var e=0;e<f.length;e++){f[e]/=g}return f}function o(u,g,s,A,w){for(var y=0;w>y;y++){for(var z=0;A>z;z++){for(var t=b(u,z,y,A,w,3)/255,x=0;4>x;x++){for(var p=s[0]*(0==t?255:b(u,z,y,A,w,x))*(0==t||3==x?1:t),v=1;v<s.length;v++){var r=b(u,Math.max(z-v,0),y,A,w,3)/255,q=b(u,Math.min(z+v,A-1),y,A,w,3)/255;p+=s[v]*((0==r?255:b(u,Math.max(z-v,0),y,A,w,x))*(0==r||3==x?1:r)+(0==q?255:b(u,Math.min(z+v,A-1),y,A,w,x))*(0==q||3==x?1:q))}k(g,y,z,w,A,x,p)}}}}function b(h,g,s,r,p,q){return h[s*r*4+4*g+q]}function k(p,h,u,t,q,s,r){p[u*t*4+4*h+s]=r}function j(r,f,e,p){var q=r.getImageData(0,0,f,e),s=m(p);s=l(s),tmp=[],o(q.data,tmp,s,f,e),o(tmp,q.data,s,e,f),r.clearRect(0,0,f,e),r.putImageData(q,0,0)}this.base=d.Element.ElementBase,this.base(n),this.apply=function(g,p,h,f,q){j(g,f,q,this.attribute("stdDeviation").numValue())}},d.Element.filter.prototype=new d.Element.feGaussianBlur,d.Element.title=function(b){},d.Element.title.prototype=new d.Element.ElementBase,d.Element.desc=function(b){},d.Element.desc.prototype=new d.Element.ElementBase,d.Element.MISSING=function(b){console&&console.log("ERROR: Element '"+b.nodeName+"' not yet implemented.")},d.Element.MISSING.prototype=new d.Element.ElementBase,d.CreateElement=function(b){var f=b.nodeName.replace(/^[^:]+:/,"");f=f.replace(/\-/g,"");var e=null;return e="undefined"!=typeof d.Element[f]?new d.Element[f](b):new d.Element.MISSING(b),e.type=b.nodeName,e},d.load=function(b,e){d.loadXml(b,d.ajax(e))},d.loadXml=function(b,e){d.loadXmlDoc(b,d.parseXml(e))},d.loadXmlDoc=function(o,j){d.init(o);var m=function(f){for(var e=o.canvas;e;){f.x-=e.offsetLeft,f.y-=e.offsetTop,e=e.offsetParent}return window.scrollX&&(f.x+=window.scrollX),window.scrollY&&(f.y+=window.scrollY),f};1!=d.opts.ignoreMouse&&(o.canvas.onclick=function(e){var f=m(new d.Point(null!=e?e.clientX:event.clientX,null!=e?e.clientY:event.clientY));d.Mouse.onclick(f.x,f.y)},o.canvas.onmousemove=function(e){var f=m(new d.Point(null!=e?e.clientX:event.clientX,null!=e?e.clientY:event.clientY));d.Mouse.onmousemove(f.x,f.y)});var b=d.CreateElement(j.documentElement);b.root=!0;var l=!0,k=function(){d.ViewPort.Clear(),o.canvas.parentNode&&d.ViewPort.SetCurrent(o.canvas.parentNode.clientWidth,o.canvas.parentNode.clientHeight),1!=d.opts.ignoreDimensions&&(b.style("width").hasValue()&&(o.canvas.width=b.style("width").toPixels("x"),o.canvas.style.width=o.canvas.width+"px"),b.style("height").hasValue()&&(o.canvas.height=b.style("height").toPixels("y"),o.canvas.style.height=o.canvas.height+"px"));var s=o.canvas.clientWidth||o.canvas.width,r=o.canvas.clientHeight||o.canvas.height;if(1==d.opts.ignoreDimensions&&b.style("width").hasValue()&&b.style("height").hasValue()&&(s=b.style("width").toPixels("x"),r=b.style("height").toPixels("y")),d.ViewPort.SetCurrent(s,r),null!=d.opts.offsetX&&(b.attribute("x",!0).value=d.opts.offsetX),null!=d.opts.offsetY&&(b.attribute("y",!0).value=d.opts.offsetY),null!=d.opts.scaleWidth&&null!=d.opts.scaleHeight){var p=1,f=1,q=d.ToNumberArray(b.attribute("viewBox").value);b.attribute("width").hasValue()?p=b.attribute("width").toPixels("x")/d.opts.scaleWidth:isNaN(q[2])||(p=q[2]/d.opts.scaleWidth),b.attribute("height").hasValue()?f=b.attribute("height").toPixels("y")/d.opts.scaleHeight:isNaN(q[3])||(f=q[3]/d.opts.scaleHeight),b.attribute("width",!0).value=d.opts.scaleWidth,b.attribute("height",!0).value=d.opts.scaleHeight,b.attribute("viewBox",!0).value="0 0 "+s*p+" "+r*f,b.attribute("preserveAspectRatio",!0).value="none"}1!=d.opts.ignoreClear&&o.clearRect(0,0,s,r),b.render(o),l&&(l=!1,"function"==typeof d.opts.renderCallback&&d.opts.renderCallback())},n=!0;d.ImagesLoaded()&&(n=!1,k()),d.intervalID=setInterval(function(){var e=!1;if(n&&d.ImagesLoaded()&&(n=!1,e=!0),1!=d.opts.ignoreMouse&&(e|=d.Mouse.hasEvents()),1!=d.opts.ignoreAnimation){for(var f=0;f<d.Animations.length;f++){e|=d.Animations[f].update(1000/d.FRAMERATE)}}"function"==typeof d.opts.forceRedraw&&1==d.opts.forceRedraw()&&(e=!0),e&&(k(),d.Mouse.runEvents())},1000/d.FRAMERATE)},d.stop=function(){d.intervalID&&clearInterval(d.intervalID)},d.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(f,e){this.events.push({type:"onclick",x:f,y:e,run:function(b){b.onclick&&b.onclick()}})},this.onmousemove=function(f,e){this.events.push({type:"onmousemove",x:f,y:e,run:function(b){b.onmousemove&&b.onmousemove()}})},this.eventElements=[],this.checkPath=function(g,e){for(var f=0;f<this.events.length;f++){var h=this.events[f];e.isPointInPath&&e.isPointInPath(h.x,h.y)&&(this.eventElements[f]=g)}},this.checkBoundingBox=function(h,g){for(var f=0;f<this.events.length;f++){var e=this.events[f];g.isPointInBox(e.x,e.y)&&(this.eventElements[f]=h)}},this.runEvents=function(){d.ctx.canvas.style.cursor="";for(var b=0;b<this.events.length;b++){for(var e=this.events[b],f=this.eventElements[b];f;){e.run(f),f=f.parent}}this.events=[],this.eventElements=[]}},d}this.canvg=function(t,r,p){if(null!=t||null!=r||null!=p){p=p||{},"string"==typeof t&&(t=document.getElementById(t)),null!=t.svg&&t.svg.stop();var q=c();(1!=t.childNodes.length||"OBJECT"!=t.childNodes[0].nodeName)&&(t.svg=q),q.opts=p;var n=t.getContext("2d");"undefined"!=typeof r.documentElement?q.loadXmlDoc(n,r):"<"==r.substr(0,1)?q.loadXml(n,r):q.load(n,r)}else{for(var l=document.getElementsByTagName("svg"),m=0;m<l.length;m++){var s=l[m],o=document.createElement("canvas");o.width=s.clientWidth,o.height=s.clientHeight,s.parentNode.insertBefore(o,s),s.parentNode.removeChild(s);var b=document.createElement("div");b.appendChild(s),canvg(o,b.innerHTML)}}}}(),window.CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(g,f,k,j,h){canvg(this.canvas,g,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:f,offsetY:k,scaleWidth:j,scaleHeight:h})}),function(A,B){var Z,D,H,E,C,X,S,M,Q,G,L,W,Y,N,V,P,K,J,F,I,T,R,O,U;Z=function(c){return new Z.prototype.init(c)},"undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=Z:A.Globalize=Z,Z.cultures={},Z.prototype={constructor:Z,init:function(c){return this.cultures=Z.cultures,this.cultureSelector=c,this}},Z.prototype.init.prototype=Z.prototype,Z.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},Z.cultures["default"].calendar=Z.cultures["default"].calendars.standard,Z.cultures.en=Z.cultures["default"],Z.cultureSelector="en",D=/^0x[a-f0-9]+$/i,H=/^[+\-]?infinity$/i,E=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,C=/^\s+|\s+$/g,X=function(f,h){if(f.indexOf){return f.indexOf(h)}for(var e=0,g=f.length;g>e;e++){if(f[e]===h){return e}}return -1},S=function(d,c){return d.substr(d.length-c.length)===c},M=function(){var o,q,r,s,n,m,t=arguments[0]||{},p=1,j=arguments.length,l=!1;for("boolean"==typeof t&&(l=t,t=arguments[1]||{},p=2),"object"==typeof t||G(t)||(t={});j>p;p++){if(null!=(o=arguments[p])){for(q in o){r=t[q],s=o[q],t!==s&&(l&&s&&(L(s)||(n=Q(s)))?(n?(n=!1,m=r&&Q(r)?r:[]):m=r&&L(r)?r:{},t[q]=M(l,m,s)):s!==B&&(t[q]=s))}}}return t},Q=Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)},G=function(b){return"[object Function]"===Object.prototype.toString.call(b)},L=function(b){return"[object Object]"===Object.prototype.toString.call(b)},W=function(d,c){return 0===d.indexOf(c)},Y=function(b){return(b+"").replace(C,"")},N=function(b){return isNaN(b)?NaN:Math[0>b?"ceil":"floor"](b)},V=function(f,h,g){var e;for(e=f.length;h>e;e+=1){f=g?"0"+f:f+"0"}return f},P=function(n,h){for(var m=0,j=!1,o=0,k=n.length;k>o;o++){var l=n.charAt(o);switch(l){case"'":j?h.push("'"):m++,j=!1;break;case"\\":j&&h.push("\\"),j=!j;break;default:h.push(l),j=!1}}return m},K=function(j,g){g=g||"F";var f,h=j.patterns,k=g.length;if(1===k){if(f=h[g],!f){throw"Invalid date format string '"+g+"'."}g=f}else{2===k&&"%"===g.charAt(0)&&(g=g.charAt(1))}return g},J=function(aw,ar,al){function at(h,f){var e,j=h+"";return f>1&&j.length<f?(e=ai[f-2]+j,e.substr(e.length-f,f)):e=j}function aj(){return ao||ab?ao:(ao=ae.test(ar),ab=!0,ao)}function af(d,c){if(am){return am[c]}switch(c){case 0:return d.getFullYear();case 1:return d.getMonth();case 2:return d.getDate();default:throw"Invalid part value "+c}}var ax,av=al.calendar,ah=av.convert;if(!ar||!ar.length||"i"===ar){if(al&&al.name.length){if(ah){ax=J(aw,av.patterns.F,al)}else{var r=new Date(aw.getTime()),ad=T(aw,av.eras);r.setFullYear(R(aw,av,ad)),ax=r.toLocaleString()}}else{ax=aw.toString()}return ax}var ak=av.eras,g="s"===ar;ar=K(av,ar),ax=[];var aq,ao,ab,am,ai=["0","00","000"],ae=/([^d]|^)(d|dd)([^d]|$)/g,p=0,k=I();for(!g&&ah&&(am=ah.fromGregorian(aw));;){var q=k.lastIndex,an=k.exec(ar),ag=ar.slice(q,an?an.index:ar.length);if(p+=P(ag,ax),!an){break}if(p%2){ax.push(an[0])}else{var ac=an[0],au=ac.length;switch(ac){case"ddd":case"dddd":var aa=3===au?av.days.namesAbbr:av.days.names;ax.push(aa[aw.getDay()]);break;case"d":case"dd":ao=!0,ax.push(at(af(aw,2),au));break;case"MMM":case"MMMM":var ap=af(aw,1);ax.push(av.monthsGenitive&&aj()?av.monthsGenitive[3===au?"namesAbbr":"names"][ap]:av.months[3===au?"namesAbbr":"names"][ap]);break;case"M":case"MM":ax.push(at(af(aw,1)+1,au));break;case"y":case"yy":case"yyyy":ap=am?am[0]:R(aw,av,T(aw,ak),g),4>au&&(ap%=100),ax.push(at(ap,au));break;case"h":case"hh":aq=aw.getHours()%12,0===aq&&(aq=12),ax.push(at(aq,au));break;case"H":case"HH":ax.push(at(aw.getHours(),au));break;case"m":case"mm":ax.push(at(aw.getMinutes(),au));break;case"s":case"ss":ax.push(at(aw.getSeconds(),au));break;case"t":case"tt":ap=aw.getHours()<12?av.AM?av.AM[0]:" ":av.PM?av.PM[0]:" ",ax.push(1===au?ap.charAt(0):ap);break;case"f":case"ff":case"fff":ax.push(at(aw.getMilliseconds(),3).substr(0,au));break;case"z":case"zz":aq=aw.getTimezoneOffset()/60,ax.push((0>=aq?"+":"-")+at(Math.floor(Math.abs(aq)),au));break;case"zzz":aq=aw.getTimezoneOffset()/60,ax.push((0>=aq?"+":"-")+at(Math.floor(Math.abs(aq)),2)+":"+at(Math.abs(aw.getTimezoneOffset()%60),2));break;case"g":case"gg":av.eras&&ax.push(av.eras[T(aw,ak)].name);break;case"/":ax.push(av["/"]);break;default:throw"Invalid date format pattern '"+ac+"'."}}}return ax.join("")},function(){var b;b=function(v,w,s){var t=s.groupSizes,x=t[0],u=1,e=Math.pow(10,w),q=Math.round(v*e)/e;isFinite(q)||(q=v),v=q;var ac=v+"",ad="",z=ac.split(/e/i),ab=z.length>1?parseInt(z[1],10):0;ac=z[0],z=ac.split("."),ac=z[0],ad=z.length>1?z[1]:"";ab>0?(ad=V(ad,ab,!1),ac+=ad.slice(0,ab),ad=ad.substr(ab)):0>ab&&(ab=-ab,ac=V(ac,ab+1,!0),ad=ac.slice(-ab,ac.length)+ad,ac=ac.slice(0,-ab)),ad=w>0?s["."]+(ad.length>w?ad.slice(0,w):V(ad,w)):"";for(var aa=ac.length-1,r=s[","],y="";aa>=0;){if(0===x||x>aa){return ac.slice(0,aa+1)+(y.length?r+y+ad:ad)}y=ac.slice(aa-x+1,aa+1)+(y.length?r+y:""),aa-=x,u<t.length&&(x=t[u],u++)}return ac.slice(0,aa+1)+r+y+ad},F=function(y,x,s){if(!isFinite(y)){return y===1/0?s.numberFormat.positiveInfinity:y===-(1/0)?s.numberFormat.negativeInfinity:s.numberFormat.NaN}if(!x||"i"===x){return s.name.length?y.toLocaleString():y.toString()}x=x||"D";var t,w=s.numberFormat,aa=Math.abs(y),u=-1;x.length>1&&(u=parseInt(x.slice(1),10));var z,q=x.charAt(0).toUpperCase();switch(q){case"D":t="n",aa=N(aa),-1!==u&&(aa=V(""+aa,u,!0)),0>y&&(aa="-"+aa);break;case"N":z=w;case"C":z=z||w.currency;case"P":z=z||w.percent,t=0>y?z.pattern[0]:z.pattern[1]||"n",-1===u&&(u=z.decimals),aa=b(aa*("P"===q?100:1),u,z);break;default:throw"Bad number format specifier: "+q}for(var m=/n|\$|-|%/g,v="";;){var e=m.lastIndex,r=m.exec(t);if(v+=t.slice(e,r?r.index:t.length),!r){break}switch(r[0]){case"n":v+=aa;break;case"$":v+=w.currency.symbol;break;case"-":/[1-9]/.test(aa)&&(v+=w["-"]);break;case"%":v+=w.percent.symbol}}return v}}(),I=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},T=function(l,g){if(!g){return 0}for(var m,k=l.getTime(),h=0,j=g.length;j>h;h++){if(m=g[h].start,null===m||k>=m){return h}}return 0},R=function(k,g,j,h){var f=k.getFullYear();return !h&&g.eras&&(f-=g.eras[j].offset),f},function(){var g,d,b,o,c,k,l;g=function(q,j){if(100>j){var p=new Date,m=T(p),n=R(p,q,m),h=q.twoDigitYearMax;h="string"==typeof h?(new Date).getFullYear()%100+parseInt(h,10):h,j+=n-n%100,j>h&&(j-=100)}return j},d=function(n,f,j){var e,m=n.days,p=n._upperDays;return p||(n._upperDays=p=[l(m.names),l(m.namesAbbr),l(m.namesShort)]),f=k(f),j?(e=X(p[1],f),-1===e&&(e=X(p[2],f))):e=X(p[0],f),e},b=function(f,e,p){var n=f.months,m=f.monthsGenitive||f.months,s=f._upperMonths,r=f._upperMonthsGen;s||(f._upperMonths=s=[l(n.names),l(n.namesAbbr)],f._upperMonthsGen=r=[l(m.names),l(m.namesAbbr)]),e=k(e);var q=X(p?s[1]:s[0],e);return 0>q&&(q=X(p?r[1]:r[0],e)),q},o=function(z,y){var ad=z._parseRegExp;if(ad){var u=ad[y];if(u){return u}}else{z._parseRegExp=ad={}}for(var ae,ab=K(z,y).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),af=["^"],v=[],ac=0,x=0,w=I();null!==(ae=w.exec(ab));){var r=ab.slice(ac,ae.index);if(ac=w.lastIndex,x+=P(r,af),x%2){af.push(ae[0])}else{var ag,aa=ae[0],p=aa.length;switch(aa){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":ag="(\\D+)";break;case"tt":case"t":ag="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":ag="(\\d{"+p+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":ag="(\\d\\d?)";break;case"zzz":ag="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":ag="([+-]?\\d\\d?)";break;case"/":ag="(\\/)";break;default:throw"Invalid date format pattern '"+aa+"'."}ag&&af.push(ag),v.push(ae[0])}}P(ab.slice(ac),af),af.push("$");var ai=af.join("").replace(/\s+/g,"\\s+"),ah={regExp:ai,groups:v};return ad[y]=ah},c=function(f,e,h){return e>f||f>h},k=function(e){return e.split(" ").join(" ").toUpperCase()},l=function(e){for(var j=[],f=0,h=e.length;h>f;f++){j[f]=k(e[f])}return j},O=function(aq,m,h){aq=Y(aq);var aE=h.calendar,ad=o(aE,m),ah=new RegExp(ad.regExp).exec(aq);if(null===ah){return null}for(var aw,aj=ad.groups,av=null,ay=null,az=null,ax=null,ar=null,aA=0,ap=0,an=0,af=0,au=null,ab=!1,am=0,n=aj.length;n>am;am++){var aC=ah[am+1];if(aC){var al=aj[am],ag=al.length,aB=parseInt(aC,10);switch(al){case"dd":case"d":if(ax=aB,c(ax,1,31)){return null}break;case"MMM":case"MMMM":if(az=b(aE,aC,3===ag),c(az,0,11)){return null}break;case"M":case"MM":if(az=aB-1,c(az,0,11)){return null}break;case"y":case"yy":case"yyyy":if(ay=4>ag?g(aE,aB):aB,c(ay,0,9999)){return null}break;case"h":case"hh":if(aA=aB,12===aA&&(aA=0),c(aA,0,11)){return null}break;case"H":case"HH":if(aA=aB,c(aA,0,23)){return null}break;case"m":case"mm":if(ap=aB,c(ap,0,59)){return null}break;case"s":case"ss":if(an=aB,c(an,0,59)){return null}break;case"tt":case"t":if(ab=aE.PM&&(aC===aE.PM[0]||aC===aE.PM[1]||aC===aE.PM[2]),!ab&&(!aE.AM||aC!==aE.AM[0]&&aC!==aE.AM[1]&&aC!==aE.AM[2])){return null}break;case"f":case"ff":case"fff":if(af=aB*Math.pow(10,3-ag),c(af,0,999)){return null}break;case"ddd":case"dddd":if(ar=d(aE,aC,3===ag),c(ar,0,6)){return null}break;case"zzz":var at=aC.split(/:/);if(2!==at.length){return null}if(aw=parseInt(at[0],10),c(aw,-12,13)){return null}var ac=parseInt(at[1],10);if(c(ac,0,59)){return null}au=60*aw+(W(aC,"-")?-ac:ac);break;case"z":case"zz":if(aw=aB,c(aw,-12,13)){return null}au=60*aw;break;case"g":case"gg":var ao=aC;if(!ao||!aE.eras){return null}ao=Y(ao.toLowerCase());for(var ak=0,j=aE.eras.length;j>ak;ak++){if(ao===aE.eras[ak].name.toLowerCase()){av=ak;break}}if(null===av){return null}}}}var ae,aD=new Date,ai=aE.convert;if(ae=ai?ai.fromGregorian(aD)[0]:aD.getFullYear(),null===ay?ay=ae:aE.eras&&(ay+=aE.eras[av||0].offset),null===az&&(az=0),null===ax&&(ax=1),ai){if(aD=ai.toGregorian(ay,az,ax),null===aD){return null}}else{if(aD.setFullYear(ay,az,ax),aD.getDate()!==ax){return null}if(null!==ar&&aD.getDay()!==ar){return null}}if(ab&&12>aA&&(aA+=12),aD.setHours(aA,ap,an,af),null!==au){var aa=aD.getMinutes()-(au+aD.getTimezoneOffset());aD.setHours(aD.getHours()+parseInt(aa/60,10),aa%60)}return aD}}(),U=function(h,k,j){var l,d=k["-"],m=k["+"];switch(j){case"n -":d=" "+d,m=" "+m;case"n-":S(h,d)?l=["-",h.substr(0,h.length-d.length)]:S(h,m)&&(l=["+",h.substr(0,h.length-m.length)]);break;case"- n":d+=" ",m+=" ";case"-n":W(h,d)?l=["-",h.substr(d.length)]:W(h,m)&&(l=["+",h.substr(m.length)]);break;case"(n)":W(h,"(")&&S(h,")")&&(l=["-",h.substr(1,h.length-2)])}return l||["",h]},Z.prototype.findClosestCulture=function(c){return Z.findClosestCulture.call(this,c)},Z.prototype.format=function(e,g,f){return Z.format.call(this,e,g,f)},Z.prototype.localize=function(d,e){return Z.localize.call(this,d,e)},Z.prototype.parseInt=function(e,g,f){return Z.parseInt.call(this,e,g,f)},Z.prototype.parseFloat=function(e,g,f){return Z.parseFloat.call(this,e,g,f)},Z.prototype.culture=function(c){return Z.culture.call(this,c)},Z.addCultureInfo=function(g,k,j){var f={},h=!1;"string"!=typeof g?(j=g,g=this.culture().name,f=this.cultures[g]):"string"!=typeof k?(j=k,h=null==this.cultures[g],f=this.cultures[g]||this.cultures["default"]):(h=!0,f=this.cultures[k]),this.cultures[g]=M(!0,{},f,j),h&&(this.cultures[g].calendar=this.cultures[g].calendars.standard)},Z.findClosestCulture=function(y){var v;if(!y){return this.findClosestCulture(this.cultureSelector)||this.cultures["default"]}if("string"==typeof y&&(y=y.split(",")),Q(y)){var x,z,t=this.cultures,q=y,s=q.length,u=[];for(z=0;s>z;z++){y=Y(q[z]);var w,r=y.split(";");x=Y(r[0]),1===r.length?w=1:(y=Y(r[1]),0===y.indexOf("q=")?(y=y.substr(2),w=parseFloat(y),w=isNaN(w)?0:w):w=1),u.push({lang:x,pri:w})}for(u.sort(function(d,c){return d.pri<c.pri?1:d.pri>c.pri?-1:0}),z=0;s>z;z++){if(x=u[z].lang,v=t[x]){return v}}for(z=0;s>z;z++){for(x=u[z].lang;;){var p=x.lastIndexOf("-");if(-1===p){break}if(x=x.substr(0,p),v=t[x]){return v}}}for(z=0;s>z;z++){x=u[z].lang;for(var b in t){var j=t[b];if(j.language==x){return j}}}}else{if("object"==typeof y){return y}}return v||null},Z.format=function(f,e,g){var h=this.findClosestCulture(g);return f instanceof Date?f=J(f,e,h):"number"==typeof f&&(f=F(f,e,h)),f},Z.localize=function(d,c){return this.findClosestCulture(c).messages[d]||this.cultures["default"].messages[d]},Z.parseDate=function(m,r,q){q=this.findClosestCulture(q);var p,l,o;if(r){if("string"==typeof r&&(r=[r]),r.length){for(var n=0,j=r.length;j>n;n++){var k=r[n];if(k&&(p=O(m,k,q))){break}}}}else{o=q.calendar.patterns;for(l in o){if(p=O(m,o[l],q)){break}}}return p||null},Z.parseInt=function(e,g,f){return N(Z.parseFloat(e,g,f))},Z.parseFloat=function(an,ad,w){"number"!=typeof ad&&(w=ad,ad=10);var aj=this.findClosestCulture(w),ae=NaN,am=aj.numberFormat;if(an.indexOf(aj.numberFormat.currency.symbol)>-1&&(an=an.replace(aj.numberFormat.currency.symbol,""),an=an.replace(aj.numberFormat.currency["."],aj.numberFormat["."])),an.indexOf(aj.numberFormat.percent.symbol)>-1&&(an=an.replace(aj.numberFormat.percent.symbol,"")),an=an.replace(/ /g,""),H.test(an)){ae=parseFloat(an)}else{if(!ad&&D.test(an)){ae=parseInt(an,16)}else{var al=U(an,am,am.pattern[0]),ah=al[0],ai=al[1];""===ah&&"(n)"!==am.pattern[0]&&(al=U(an,am,"(n)"),ah=al[0],ai=al[1]),""===ah&&"-n"!==am.pattern[0]&&(al=U(an,am,"-n"),ah=al[0],ai=al[1]),ah=ah||"+";var ab,ag,af=ai.indexOf("e");0>af&&(af=ai.indexOf("E")),0>af?(ag=ai,ab=null):(ag=ai.substr(0,af),ab=ai.substr(af+1));var ak,ac,f=am["."],z=ag.indexOf(f);0>z?(ak=ag,ac=null):(ak=ag.substr(0,z),ac=ag.substr(z+f.length));var y=am[","];ak=ak.split(y).join("");var v=y.replace(/\u00A0/g," ");y!==v&&(ak=ak.split(v).join(""));var aa=ah+ak;if(null!==ac&&(aa+="."+ac),null!==ab){var s=U(ab,am,"-n");aa+="e"+(s[0]||"+")+s[1]}E.test(aa)&&(ae=parseFloat(aa))}}return ae},Z.culture=function(b){return"undefined"!=typeof b&&(this.cultureSelector=b),this.findClosestCulture(b)||this.cultures["default"]}}(this),function(a0,aV,aS){function aB(e){var d,f="";e=Math.abs(e);do{d=e%26,f=String.fromCharCode(d+97)+f,e=(e-d)/26}while(e>0);return f}function ag(){return az+aB(al++)}function ar(){return ak++}function aa(){var c=[8,9,"a","b"],d=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return d()+d()+"-"+d()+"-4"+d().substr(0,3)+"-"+c[Math.floor(4*Math.random())]+d().substr(0,3)+"-"+d()+d()+d()}function ad(d,c){return typeof Globalize===aW&&typeof Globalize.format===aW?Globalize.parseDate(d,c):new Date(d)}function ae(d){var e;return e=a1.defined(d)&&typeof Globalize===aW&&typeof Globalize.parseFloat===aW?Globalize.parseFloat(d):Number(d),isNaN(e)?null:e}function aD(l){if(!a1.defined(l)||""===l){return""}var k=/\{([\.\d\w\:\-\/\' \[\]]+)\}/g,f=arguments,j=f&&f.length>1&&typeof f[1]===aJ,h=typeof Globalize===aW&&typeof Globalize.format===aW;return l.replace(k,function(e,b){var o,n,m=b.indexOf(":");if(m>0){var g=b;b=g.substring(0,m),n=g.substring(m+1)}return o=j?/^\d+$/.test(b)?f[parseInt(b,10)+1]:aA(f[1],b):f[parseInt(b,10)+1],n&&h&&(o=Globalize.format(o,n)),o})}function aG(d){if(a1.func(d)){var e=[].slice.call(arguments);return e.shift(),d.apply(this,e)}return aD.apply(this,arguments)}function ao(){return typeof Globalize===aW&&Globalize.cultures&&Globalize.cultures[Globalize.cultureSelector]&&Globalize.cultures[Globalize.cultureSelector].calendar?Globalize.cultures[Globalize.cultureSelector].calendar:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},firstDay:0,months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]}}}function ah(){return typeof Globalize===aW&&Globalize.cultures&&Globalize.cultures[Globalize.cultureSelector]&&Globalize.cultures[Globalize.cultureSelector].numberFormat?Globalize.cultures[Globalize.cultureSelector].numberFormat.currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}}function ai(c,d){if(d=d!==aS?d:aQ.dieOnError){throw new Error(c)}aV.console&&aV.console.error&&console.error(c)}function aY(d){var c=Object.prototype.toString.call(d);return null===d?"null":d===aS?"undefined":c.substr(8,c.length-9).toLowerCase()}function aH(r){var q,p,s,o,u,k=Array.apply(null,arguments),j=a1.array(r)&&r.length&&!aL(r,function(c){return !a1.func(c)}).length,t=k[1],b=function(d,c){return d instanceof c};if(!j){return aR.apply(a0,k)}for(a1.object(t)||a1.array(t)||(t={}),p=2;p<k.length;p++){if(q=k[p]){for(s in q){q.hasOwnProperty(s)&&(u=q[s],o=t[s],u&&aL(r,aI(b,null,u)).length?t[s]=u:a1.object(u)||a1.array(u)?(a1.object(o)||(o=t[s]=a1.array(u)?[]:{}),t[s]=aH(r,o,u)):a1.date(u)?t[s]=new Date(u.getTime()):u!==aS&&(t[s]=u))}}}return t}function aC(d){var e,f=[];for(e in d){d.hasOwnProperty(e)&&f.push(e)}return f}function aA(h,f){var j;if(!a1.string(f)){throw new Error("shield.get: parameter 'path' must be a string.")}if(f=ax(f),j=at[f]){return j(h)}try{j=new Function("a","try{return a"+f+"}catch(e){return arguments[1];}")}catch(g){throw new Error("shield.get: invalid 'path' parameter")}return at[f]=j,j(h)}function aj(k,g,j){var l;if(!a1.string(g)){throw new Error("shield.set: parameter 'path' must be a string")}if(g=ax(g),l=au[g]){return l(k,j)}try{l=new Function("obj,val","obj"+g+"=val;")}catch(h){throw new Error("shield.set: invalid 'path' parameter")}return au[g]=l,l(k,j),k}function ax(k){var n,h,l,j,m,o=k.split(".");for(h=0,l=o.length;l>h;h++){j=o[h],n=j.indexOf("["),j&&(0>n?(m=j.indexOf("'")<0?"'":'"',j=o[h]="["+m+j+m+"]"):n>0&&(j=o[h]="."+j))}return o.join("")}function am(b,d){aQ.ui[b]=d,a0.fn[az+b]=function(h){var f,c=this;return typeof h===av?(f=[].slice.call(arguments,1),this.each(function(){var j,g,e=a0.data(this,aM);if(!e){throw new Error(aG("shield: cannot call method '{0}' on uninitialized {1}.",h,b))}if(j=e[h],typeof j!==aW){throw new Error(aG("shield: cannot find method '{0}' of {1}",h,b))}return g=j.apply(e,f),g!==aS?(c=g,!1):void 0}),c):this.each(function(){var g=new d(this,h);a0(this).data(aM,g),a0(this).data(aM+"-"+b,g)})}}function aU(b){b?aX.onselectstart==aU.handler&&(aX.onselectstart=aU.onselectstart,aX.ondragstart=aU.ondragstart):aX.onselectstart!=aU.handler&&(aU.onselectstart=aX.onselectstart,aU.ondragstart=aX.ondragstart,aX.onselectstart=aX.ondragstart=aU.handler)}var aQ=aV.shield=aV.shield||{},aR=a0.extend,aL=a0.grep,aI=a0.proxy,aZ=navigator.userAgent,aX=document,az="shield",aM="shieldWidget",aJ="object",av="string",aW="function",aF="array",aE="number",aq="date",an="boolean",ap="null",ay="undefined",aK=function(){},al=100,ak=1000,aT={},at={},au={},aO=function(){},af={SVG_NS:"http://www.w3.org/2000/svg",XHTML_NS:"http://www.w3.org/1999/xhtml",KeyCode:{BACK:8,TAB:9,ENTER:13,CTRL:17,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:46}};aO.extend=function(j){var n,d,p,l,m=this,o=j&&j.init?j.init:function(){m.apply(this,arguments)},k=function(){};k.prototype=m.prototype,n=o.fn=o.prototype=new k;for(d in j){j.hasOwnProperty(d)&&(p=j[d],l=aY(p),p&&typeof p===aJ?n[d]=aR(!0,l===aF?[]:{},m.prototype[d],p):n[d]=p)}return n.constructor=o,o.extend=m.extend,o},Date.prototype.toISOString||!function(){function b(c){var d=String(c);return 1===d.length&&(d="0"+d),d}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1000).toFixed(3)).slice(2,5)+"Z"}}(),a0.fn.swidget=function(d){var b=this.map(function(c){return d?a0(this).data(aM+"-"+d):a0(this).data(aM)}).get();return b.length?b.length>1?b:b[0]:null};var aP=aO.extend({init:function(e){var f,g=this,h=(e||{}).events;g.events={},e=e||{};for(f in h){typeof h[f]===aW&&g.on(f,h[f])}},on:function(y,u,n){var s,x,v,o,r,t=this,p=t.events,w=aN.array(y),q=a1.func(u);if(a1.object(y)){w=[];for(r in y){y.hasOwnProperty(r)&&w.push(r)}q=!1,u=y}for(v=0,o=w.length;o>v;v++){y=w[v],s=t._eventType(y),x=q?u:u[y],a1.func(x)&&(n&&(x=t._one(y,x)),(p[s]||(p[s]=[])).push({name:y,handler:x}))}return t},_one:function(e,h){var g=this,f=function(){g.off(e,f),h.apply(this,arguments)};return f},_eventType:function(d){var c=(d+="").indexOf(".");return c>-1?d.substring(0,c):d},_eventNameMatch:function(p,o){var r,s,n,q,l=this,b=l._eventType(p),m=l._eventType(o);if(p+="",o+="",(b===m||!m)&&(r=p.split("."),r.shift(),r=aL(r,function(c){return a1.string(c)&&c.length>0}),s=o.split("."),m&&s.shift(),s=aL(s,function(c){return a1.string(c)&&c.length>0}),r&&s)){for(n=0,q=0;q<s.length;q++){a0.inArray(s[q],r)>-1&&n++}return n>=s.length}return !1},one:function(d,c){this.on(d,c,!0)},off:function(x,t){var v,w,u,q,y,o,r=this,s=r.events,p=aN.array(x),j=a1.func(t);if(a1.object(x)){p=[];for(o in x){x.hasOwnProperty(o)&&p.push(o)}j=!1,t=x}if(a1.string(x)&&0===x.indexOf(".")){for(v in s){if(s.hasOwnProperty(v)){for(w=s[v]||[],u=j?t:t||aS,y=w.length-1;y>=0;y--){!r._eventNameMatch(w[y].name,x)||a1.defined(u)&&w[y].handler!==u||w.splice(y,1)}w.length||delete s[v]}}}else{for(q=0;q<p.length;q++){for(x=p[q],v=r._eventType(x),w=s[v]||[],u=j?t:(t||{})[x],y=w.length-1;y>=0;y--){!r._eventNameMatch(w[y].name,x)||a1.defined(u)&&w[y].handler!==u||w.splice(y,1)}w.length||delete s[v]}}return r},trigger:function(m,l){var j,o,h=this,k=h._eventType(m),n=(h.events[k]||[]).slice();for(j=0,o=n.length;o>j;j++){n[j].handler.apply(h,[].slice.call(arguments,1))}return l},destroy:function(){this.events={}}}),aw=aO.extend({init:function(f){var e=!1,d=!1;aR(this,{timeStamp:(new Date).getTime(),isDefaultPrevented:function(){return e},isPropagationStopped:function(){return d},preventDefault:function(){e=!0},stopPropagation:function(){d=!0}},f)}}),ac=aP.extend({init:function(f,b){var h=this,g=h.constructor;b=b||{},h.element=a0(f),h.initialOptions=b,h.options=aR(!0,{},g.defaults,(g.themes||{})[b.theme],b),h._iid=ar(),aP.fn.init.call(h,b)},getInstanceId:function(){return this._iid},refresh:function(b){this.refreshWithElement(this.element,b)},refreshWithElement:function(e,h){var f=this,g=aH([aO],f.options,h);f.destroy(),f.init(e,g)},hide:function(){a0(this.element).hide()},show:function(){a0(this.element).show()},isVisible:function(){return a0(this.element).is(":visible")},visible:function(){var d=this,c=[].slice.call(arguments);return c.length>0?void (c[0]?d.show():d.hide()):d.isVisible()},focus:function(){a0(this.element).focus()},trigger:function(f,l,b){var k,j=this;return l=a1.event(l)?{domEvent:l}:l,!l||!l.domEvent||l.domEvent instanceof a0.Event||(l.domEvent=a0.Event(l.domEvent)),k=new aw(aR({type:f,target:j},l)),aP.fn.trigger.call(j,f,k),typeof b!==aW||k.isDefaultPrevented()||b.call(j,k),k}}),ab=aP.extend({options:{total:0,pageBuffer:2,createContainer:aK,getItems:aK,eventNS:".shieldVirtualized",skipRender:!1},init:function(e,f){var b=this;f=b.options=aR({},b.options,f),b.element=a0(e),aP.fn.init.call(b,f),f.skipRender||b.render()},_elements:function(){var k,h,b=this,g=b.element,j=b.options;k=b.wrapper=g.off(j.eventNS).empty().css({overflow:"auto",position:"relative"}).on("scroll"+j.eventNS,aI(b._onscroll,b)).append('<div class="sui-virtualized" />').find(".sui-virtualized").css({position:"relative",overflow:"visible"}),h=b.container=a0(j.createContainer(k)),k.children().css({position:"absolute",top:0})},_dimensions:function(){var p=this,o=p.options,n=o.total,r=o.itemHeight,m=Math.min(n*r,aQ.support.maxElementHeight),q=p.element.height(),l=Math.ceil(q/r),k=l*r,j=m-q;return{total:n,itemHeight:r,totalHeight:m,viewportHeight:q,itemsPerPage:l,pageHeight:k,totalScrollableHeight:j}},render:function(){var e,f=this,g=f.element,h=f.options;f._elements(),f.prevScroll=0,e=f.dimensions=f._dimensions(),g.find(".sui-virtualized").height(e.totalHeight),f._renderItems(0,Math.min(h.total,(h.pageBuffer+1)*e.itemsPerPage))},_onscroll:function(c){var d=this;d._to&&clearTimeout(d._to),d._to=setTimeout(aI(d.scroll,d,c),20)},scroll:function(r){var C,B,y,G=this,u=G.options,D=u.pageBuffer,H=G.dimensions,E=G.element.scrollTop(),v=G.prevScroll,x=E-v,A=E/H.totalScrollableHeight,z=G.wrapper.children().first(),w=z.data("sui-vz-top")||0,F=E-A*(H.pageHeight-H.viewportHeight),s=x>0&&F-w>(D/4+1)*H.pageHeight,t=0>x&&F-w<=D/4*H.pageHeight;(t||s)&&(B=Math.min(H.total,Math.floor(A*H.total-A*H.itemsPerPage)),C=Math.max(0,B-D/2*H.itemsPerPage),y=Math.min(H.total,C+(D+1)*H.itemsPerPage),F=Math.max(0,F-(B-C)*H.itemHeight),G._renderItems(C,y,function(){z.css("top",F),z.data("sui-vz-top",F)})),G.prevScroll=E},_renderItems:function(m,l,o){var j,n,p=this,k=p.options;k.getItems(m,l,function(b,c){for(c=a1.defined(c)?!!c:!0,c&&p.container.empty(),j=0,n=b.length;n>j;j++){p.container.append(b[j])}o&&o()})},destroy:function(){var d=this,c=d.options;d.element.off(c.eventNS),d.element=null,c.createContainer=aK,c.getItems=aK,aP.fn.destroy.call(d)}}),a1={string:function(b){return aY(b)===av},number:function(b){return aY(b)===aE},integer:function(b){return aY(b)===aE&&/^[\+\-]?\d+$/.test(b+"")},"float":function(b){return aY(b)===aE&&/^[\+\-]?\d+\.\d+$/.test(b+"")},func:function(b){return aY(b)===aW},object:function(b){return aY(b)===aJ},array:function(b){return aY(b)===aF},date:function(b){return aY(b)===aq},"boolean":function(b){return aY(b)===an},"null":function(b){return aY(b)===ap},undefined:function(b){return aY(b)===ay},defined:function(b){return b!==aS&&null!==b},event:function(b){return typeof aV.Event==aW&&b instanceof aV.Event||b&&b.altKey!==aS}},aN={"int":function(d,c){return parseInt(d,c||10)},"float":function(b){return parseFloat(b)},number:function(b){return ae(b+"")},array:function(b){return b instanceof Array?b:b!==aS?[b]:[]},string:function(b){return b+""},key:function(b){var j,m,l,k,d=aY(b);switch(d){case ap:case ay:return d;case aJ:return j=aC(b).sort(),m=[],a0.each(j,function(e,c){m.push(c+":"+aN.key(b[c]))}),"{"+m.join(",")+"}";case aF:for(m="[",l=0,k=b.length;k>l;l++){m+=aN.key(b[l]),k-1>l&&(m+=",")}return m+="]";case aq:return b.toISOString();default:return b+""}}};!function(){aT.stableSort=function(){var b="abcdefghijklmnopqrstuvwxyz";return"xyzvwtursopqmnklhijfgdeabc"==b.split("").sort(function(d,e){return ~~(b.indexOf(e)/2.3)-~~(b.indexOf(d)/2.3)}).join("")}(),aT.scrollbar=function(){var c,d=aX.createElement("div");return d.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both",d.innerHTML="&nbsp;",aX.body.appendChild(d),c=d.offsetWidth-d.scrollWidth,aX.body.removeChild(d),c},aT.isRtl=function(b){return a0(b).closest(".sui-rtl").length>0},aT.transitions=function(){var e,j=(aX.body||aX.documentElement).style,h="Transition",g=["Moz","webkit","Webkit","Khtml","O","ms"];if(a1.string(j[h.toLowerCase()])){return !0}for(e=0;e<g.length;e++){if(a1.string(j[g[e]+h])){return !0}}return !1}()}(),function(){aQ.rAF=function(b){return(aV.requestAnimationFrame||aV.webkitRequestAnimationFrame||aV.mozRequestAnimationFrame||function(c){return this.setTimeout(c,1000/60)}).call(aV,b)},aQ.cAF=function(b){return(aV.cancelAnimationFrame||aV.clearTimeout)(b)}}(),function(){var c=/MSIE/i.test(aZ),o=/Trident/i.test(aZ),n=/Firefox/i.test(aZ),m=/Opera/i.test(aZ),l=/Safari/i.test(aZ),j=/Chrome/i.test(aZ),k=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(aZ);aT.browser={ie:c||o,firefox:n,opera:m,safari:!j&&l,chrome:j,mobile:k,version:c?parseInt(aZ.substr(aZ.indexOf("MSIE ")+5),10):o?parseInt(aZ.substr(aZ.indexOf("rv:")+3),10):n?parseInt(aZ.substr(aZ.indexOf("Firefox/")+8),10):m?parseInt(aZ.substr(aZ.indexOf("Version/")+8),10):j?parseInt(aZ.substr(aZ.indexOf("Chrome/")+7),10):l?parseInt(aZ.substr(aZ.indexOf("Version/")+8),10):0}}(),a0(function(){for(var b,h=1000000,e=aT.browser.firefox?6000000:1000000000,k=a0("<div style='display:none' />").appendTo(aX.body),j=h;;){if(b=j+h,k.css("height",b),b>e||k.height()!==b){break}j=b}k.remove(),aT.maxElementHeight=j}),aU.handler=function(){return !1},aR(aQ,{Class:aO,Dispatcher:aP,Event:aw,Constants:af,format:aG,formatString:aD,parseDate:ad,getCalendarInfo:ao,getCurrencyInfo:ah,error:ai,dieOnError:!0,iid:ar,strid:ag,guid:aa,support:aT,extend:aH,selection:aU,type:aY,is:a1,to:aN,keys:aC,get:aA,set:aj,ui:aR({},aQ.ui||{},{Widget:ac,VirtualizedContainer:ab,plugin:am})})}(jQuery,this),function(aP,aL,W,aN){function az(f,k){var g,j,h=[];if(f.map){return f.map(k)}for(g=0,j=f.length;j>g;g++){h[g]=k(f[g],g,f)}return h}function au(l,k,c,j,g){var f=aM(l,k);return f===aN?c&&(f=aQ.def(c,j,g!==!1)):f=aQ.convert(f,c),f}var an,ae,aB,aO,ax,aR,ar,aD,aC,af,ai,aj,ah,aQ,aF=aL.Class,aG=aL.Dispatcher,am=Math.min,av=Math.max,aS=aL.is,at=aL.to,aM=aL.get,ap=aL.set,aE=(aL.support,aL.type),al=function(){},aK=aP.extend,aJ=aP.proxy,aH=aP.each,ao=aP.grep,ak=aP.inArray,ay=aP.Deferred,aw="function",aq="array",ag="object",X="string",aI="change",aA="error",ab="start",ad="complete",Z="save",ac="afterset",Y="insert",aa="remove";an=aF.extend({init:function(b){this.data=b},read:function(d,e,f){return e(this.data)},modify:function(d,e,f){e()}}),ae=aF.extend({init:function(d,c){this.options=d,this.cache=c},read:function(p,o,m){var n,f=this.options,d=f.read,l=this.cache;return aS.func(d)?void d(p,o,m):(d=aS.string(d)?{url:d}:aK(!0,{},d),aS.func(d.data)&&(p=d.data(p)),n=l.get(p),void (n!==aN?o(n,!0):(d.data=p,d.error=m,d.success=function(b){l.set(p,b),o(b)},aP.ajax(d))))},modify:function(y,v,t){var C,D,w,A,B,s=this.options,x=s.modify||{},u=["create","update","remove"],j=["added","edited","removed"],z=[],d=function(b){return b.data};if(aS.func(x)){return void x(y,v,t)}for(B=0;B<u.length;B++){w=u[B],A=j[B],D=x[w],y[A].length?(aS.string(D)&&(D={url:D,type:"POST"}),aS.func(D)?(C=z[B]=new ay,D(y[A],aJ(C.resolve,C),aJ(C.reject,C))):aS.object(D)?(D=aK(!0,{},D),aS.func(D.data)?D.data=D.data(y[A]):(D.data={},D.data[A]=az(y[A],d)),C=z[B]=aP.ajax(D)):(C=z[B]=new ay,C.resolve())):(C=z[B]=new ay,C.resolve())}aP.when.apply(aP,z).then(v,t)}}),aB=aF.extend({init:function(){this.values={}},get:function(b){return this.values[at.key(b)]},set:function(c,d){return this.values[at.key(c)]=d,d},remove:function(d){var e=at.key(d),f=this.values[e];return delete this.values[e],f},clear:function(){this.values=[]}}),aB.noop={get:al,set:al},ax=aF.extend({init:function(d,e){aS.object(d)?d=at.array(d):aS.string(d)&&(d=[{path:d,desc:!!e}]),this._expr=d},build:function(){var d=this._expr,e=ax.cache;return aS.func(d)?function(b){return function(f,h){var g=b(f.item,h.item);return 0!==g?g:f.index-h.index}}(d):aS.array(d)?e.get(d)||e.set(d,function(c){return function(n,g){var p,s,r,q,b,u,t,o;for(q=0,b=c.length;b>q;q++){if(u=n.item,t=g.item,p=c[q]||{},s=p.path,r=p.desc?-1:1,aS.string(s)?(u=aM(u,s),t=aM(t,s)):aS.func(s)&&(u=s(u),t=s(t)),aS.date(u)&&(u=u.getTime()),aS.date(t)&&(t=t.getTime()),u!==t&&(null!=u||null!=t)){if(null==u){return -1*r}if(null==t){return 1*r}if(aS.number(u)&&aS.number(t)||(u=u.toString(),t=t.toString()),u.localeCompare){if(o=u.localeCompare(t),0===o){continue}return o*r}if(u>t){return 1*r}if(t>u){return -1*r}}}return n.index-g.index}}([].concat(d))):void 0}}),ax.cache=new aB,aR=aF.extend({init:function(b){this._expr=b||[]},build:function(){var h=this,f=aR.cache,g=h._expr,b=h._func||(h._func=f.get(g));return b||(b=h._buildRecursive(g,!0),b&&f.set(g,b)),b},_single:function(e){var b;if(e){if(aS.func(e.filter)){return e.filter}if(b=aR.filters[aR.filterAliases[e.filter]]){return function(g,f,j,h){return function(c){return f(aM(c,g),j,h)}}(e.path,b,e.value,e.sensitive)}}},_multiple:function(d,c){return function(g){var j,h=!0,b=d.length;for(j=0;b>j;j++){if(h=d[j](g),c){if(!h){break}}else{if(h){break}}}return h}},_buildRecursive:function(h,j){var n,k,m=this,l=[];if(aS.array(h)){for(n=0,k=h.length;k>n;n++){l.push(m._buildRecursive(h[n]))}return l.length>1?m._multiple(l,j):l[0]}return h.and||h.or?m._buildRecursive(h.and||h.or,!!h.and):m._single(h)}}),aR.cache=new aB,aR.normalize={equatable:function(g,f,b){return aS.date(g)?{a:g.getTime(),b:new Date(f).getTime()}:aR.normalize.string(g,f,b)},string:function(e,d,f){return{a:f?e+"":(e+"").toLowerCase(),b:f?d+"":(d+"").toLowerCase()}},scalar:function(d,e){return aS.date(d)?{a:d.getTime(),b:new Date(e).getTime()}:isNaN(parseFloat(d))?{a:d,b:e}:{a:parseFloat(d),b:parseFloat(e)}}},aR.filters={eq:function(h,g,f){var b=aR.normalize.equatable(h,g,f);return b.a===b.b},neq:function(h,g,f){var b=aR.normalize.equatable(h,g,f);return b.a!==b.b},con:function(h,g,f){var b=aR.normalize.string(h,g,f);return b.a.indexOf(b.b)>-1},notcon:function(h,g,f){var b=aR.normalize.string(h,g,f);return b.a.indexOf(b.b)<0},starts:function(h,g,f){var b=aR.normalize.string(h,g,f);return 0===b.a.indexOf(b.b)},ends:function(h,g,f){var b=aR.normalize.string(h,g,f);return b.a.indexOf(b.b)===b.a.length-b.b.length},gt:function(f,e){var b=aR.normalize.scalar(f,e);return b.a>b.b},lt:function(f,e){var b=aR.normalize.scalar(f,e);return b.a<b.b},gte:function(f,e){var b=aR.normalize.scalar(f,e);return b.a>=b.b},lte:function(f,e){var b=aR.normalize.scalar(f,e);return b.a<=b.b},isnull:function(b){return null==b},notnull:function(b){return null!=b}},aR.filterAliases={eq:"eq",equal:"eq",equals:"eq","==":"eq",neq:"neq",ne:"neq",doesnotequal:"neq",notequal:"neq",notequals:"neq","!=":"neq",con:"con",contains:"con",notcon:"notcon",doesnotcontain:"notcon",notcontains:"notcon",starts:"starts",startswith:"starts",ends:"ends",endswith:"ends",gt:"gt",greaterthan:"gt",">":"gt",lt:"lt",lessthan:"lt","<":"lt",gte:"gte",ge:"gte",greaterthanorequal:"gte",">=":"gte",lte:"lte",le:"lte",lessthanorequal:"lte","<=":"lte",isnull:"isnull","null":"isnull",notnull:"notnull",isnotnull:"notnull"},ar=aF.extend({init:function(){},build:function(e){var g=this,h=ar.cache,f=h.get(e);return f||(f=g._build(e),f&&h.set(e,f)),f},_build:function(k){if(!k){return null}var j=k.field,l=k.aggregate,c=k.type||Number,f=function(b){return b===aN?aQ.def(c):aQ.convert(b,c)};return aS.func(l)?l:"count"==l?function(b){return b.length}:"sum"==l?function(h){var n,m,g=0,b=h.length;for(n=0;b>n;n++){m=au(h[n],j,c),g+=c==Date&&aS.date(m)?m.getTime():m}return f(g)}:"average"==l?function(h){var n,m,g=0,b=h.length;for(n=0;b>n;n++){m=au(h[n],j,c),g+=c==Date&&aS.date(m)?m.getTime():m}return f(g/b)}:"min"==l?function(b){return f(am.apply(null,az(b,function(d){return au(d,j,c)})))}:"max"==l?function(b){return f(av.apply(null,az(b,function(d){return au(d,j,c)})))}:aN}}),ar.cache=new aB,aO=aF.extend({init:function(n,m,k,j,l){var h=this;h.data=n,h.total=null!=m?m:n?n.length:0,h.aggregates=k,h.groups=j,h.indices=aS.array(l)?l.slice(0):az(n||[],function(c,d){return d})},filter:function(b){var q,m,o,r=this,l=new aR(b).build(),n=r.data,p=[],e=[];if(l){for(q=0,m=n.length;m>q;q++){o=n[q],l(o)&&(p.push(o),e.push(r.indices[q]))}r.indices=e}else{p=n.slice(0)}return new aO(p,p.length,r.aggregates,r.groups,r.indices)},aggregate:function(r){var q,p,o,n,e=this,l=new ar,m=e.data;for(aS.array(r)||(r=[r]),e.aggregates=[],q=0;q<r.length;q++){p=r[q],o=l.build(p),o&&(n=o(m,p)),e.aggregates.push(aK({},p,{value:n}))}return new aO(m.slice(0),e.total,e.aggregates,e.groups,e.indices)},aggregateGroups:function(h){var f=this,e=f.data.slice(0),g=new aO(f._getInnerMostItems(e),null,null,null,null).aggregate(h);return new aO(e,f.total,g.aggregates,f.groups,f.indices)},_getInnerMostItems:function(c){var d=[];return aH(this._getInnerMostGroups(c),function(f,e){d=d.concat(e.items)}),d},_getInnerMostGroups:function(f){var d=this,e=[];return aH(f||[],function(b,g){e=e.concat(d._hasInnerGroups(g)?d._getInnerMostGroups(g.items):g)}),e},_hasInnerGroups:function(c){return c&&c.items&&c.items.length>0?c.items[0].field&&aS.array(c.items[0].items):!1},group:function(j){var h,e=this,g=e.data.slice(0);return aS.array(j)||(j=[j]),j.length>0&&(h=e._groupData(j,g,e.indices),g=h[0],e.indices=h[1]),new aO(g,e.total,e.aggregates,e.groups,e.indices)},_groupData:function(G,g,H){var F,O,K,T,R,e=this,S=[],M=[],N=G.slice(0),P=N.shift(),l=P.field,D=P.aggregate,C=P.order,v={};if(aH(g,function(f,c){O=aM(c,l),K=v[O],aS.defined(K)?S[K].items.push({item:c,index:H[f]}):(v[O]=S.length,S.push(aK({},P,{value:O,items:[{item:c,index:H[f]}]})))}),C&&(F=new ax("value","desc"==C).build())){for(T=0;T<S.length;T++){S[T]={item:S[T],index:T}}for(S.sort(F),T=0;T<S.length;T++){S[T]=S[T].item}}for(T=0;T<S.length;T++){for(R=0;R<S[T].items.length;R++){M.push(S[T].items[R].index),S[T].items[R]=S[T].items[R].item}}if(D&&aH(S,function(d,c){S[d].aggregate=new aO(c.items).aggregate(D).aggregates}),N&&N.length>0){var J=0,L=[];for(T=0;T<S.length;T++){var Q=S[T],I=M.slice(J,J+(Q.items?Q.items.length:0)),E=e._groupData(N,Q.items,I);S[T].items=E[0],L=L.concat(E[1]),J+=Q.items?Q.items.length:0}M=L}return[S,M]},sort:function(l,k){var r,q=this,n=new ax(l,k).build(),p=q.data.slice(0),o=[],m=p?p.length:0,e=q.indices;if(n){for(r=0;m>r;r++){o.push({index:e[r],item:p[r]})}for(o.sort(n),r=0;m>r;r++){p[r]=o[r].item,q.indices[r]=o[r].index}}return new aO(p,q.total,q.aggregates,q.groups,q.indices)},sortGroups:function(l,k){var e,j=this,m=j.data.slice(0),o=[],n=0;return e=function(c){if(j._hasInnerGroups(c)){aH(c.items,function(f,d){e(d)})}else{var b=new aO(c.items,null,null,null,j.indices.slice(n,n+(c.items?c.items.length:0))).sort(l,k);c.items=b.data,o=o.concat(b.indices),n+=c.items?c.items.length:0}},aH(m,function(d,b){e(b)}),new aO(m,j.total,j.aggregates,j.groups,o)},_sliceGroups:function(q,p,u,t){var s,l=this,o=0,n=[],r=[],m=aS.defined(t);return 0!==u||m?(s=function(c){if(l._hasInnerGroups(c)){var g=[],d=0;return aH(c.items,function(w,v){var f=s(v);f>0&&(g.push(v),d+=f)}),c.items=g,d}var b,k,e=o,j=c.items.length,h=e+j-1;return m?t-1>=h?h>=u&&(b=av(0,u-e),k=j):t-1>=e&&h>=u&&(b=av(0,u-e),k=am(j,t-e)):e>=u?(b=0,k=j):u>=e&&h>=u&&(b=av(0,u-e),k=j),aS.defined(b)&&aS.defined(k)&&k>b?(c.items=c.items.slice(b,k),r=r.concat(p.slice(e+b,e+k))):c.items=[],o+=j,c.items.length},aH(q,function(f,e){var d=s(e);d>0&&n.push(e)}),[n,r]):[q.slice(0),p.slice(0)]},skip:function(c){var d=this;return new aO(d.data.slice(c),d.total,d.aggregates,d.groups,d.indices.slice(c))},skipGroups:function(f){var e=this,d=e._sliceGroups(e.data,e.indices,f);return new aO(d[0],e.total,e.aggregates,e.groups,d[1])},take:function(c){var d=this;return new aO(d.data.slice(0,c),d.total,d.aggregates,d.groups,d.indices.slice(0,c))},takeGroups:function(f){var e=this,d=e._sliceGroups(e.data,e.indices,0,f);return new aO(d[0],e.total,e.aggregates,e.groups,d[1])}}),aO.create=function(p,r,o,n,m){r=r||{};var q=new aO(p,o,n,m),l=r.remoteOperations||[],k=l.join(" "),e=k.indexOf("group")>-1;return r.group||e?(r.group?(r.filter&&(q=q.filter(r.filter)),q=q.group(r.group)):q.data=q.groups,r.aggregate&&(q=q.aggregateGroups(r.aggregate)),r.sort&&(q=q.sortGroups(r.sort)),r.skip&&(q=q.skipGroups(r.skip)),r.take&&(q=q.takeGroups(r.take))):(r.filter&&(q=q.filter(r.filter)),r.aggregate&&(q=q.aggregate(r.aggregate)),r.sort&&(q=q.sort(r.sort)),r.skip&&(q=q.skip(r.skip)),r.take&&(q=q.take(r.take))),q},aD=aG.extend({init:function(k){var g=this,l=g.options=aS.array(k)?{data:k}:k||{},j=l.schema||{},h=aD.schemas[j.type||"json"];g.data=null,g.filter=l.filter,g.sort=l.sort,g.skip=l.skip,g.take=l.take,g.group=l.group,g.aggregate=l.aggregate,g.schema=new h(j),g.remote=l.remote,g.cache=new aB,aG.fn.init.call(g,l)},trigger:aL.ui.Widget.fn.trigger,_client:function(){var d=this,e=d.remote;return aS.object(e)?new ae(e,e.cache?d.cache:aB.noop):new an(d.options.data)},_params:function(){var h,g=this,l=["filter","aggregate","group","sort","skip","take"],k=g.remote,j=g._remoteOperations().join(" "),m={local:{},remote:{}};return aH(l,function(b,c){h=g[c],null!=h&&(k&&j.indexOf(c)>-1?m.remote[c]=h:m.local[c]=h)}),m},_remoteOperations:function(){var b=this.remote;return b&&b.read?b.read.operations||b.operations||[]:[]},_success:function(n,m,l,o){var j=this,k=j.schema,h=k.process(l);j.data=h.data,j._pTotal=h.total,j._pAggregates=h.aggregates,j._pGroups=h.groups,j._createView(h.data,m),j.trigger(ad),j.trigger(aI,{fromCache:!!o}),n.resolve(j.view,!!o)},_createView:function(h,g){var f=this,e=aO.create(h,aK({},g||f._params().local,{remoteOperations:f._remoteOperations()}),f._pTotal,f._pAggregates,f._pGroups);f.view=e.data,f.total=e.total,f._indices=e.indices,f.aggregates=e.aggregates},_error:function(k,j,h,g){var f=this;k.reject(g),j&&f.trigger(ad),f.trigger(aA,{errorType:"transport",error:g,operation:h})},read:function(){var f=this,e=new ay,h=f._params(),g=f.trigger(ab,{params:h});return g.isDefaultPrevented()?e.resolve():(f.cancel(),f._client().read(h.remote,aJ(f._success,f,e,h.local),aJ(f._error,f,e,!0,"read"))),e.promise()},_ensureTracker:function(){var e=this,g=e.tracker,f=e.data;if(!g){if(!f||!aS.array(f)){throw new Error("shield.DataSource: cannot modify when no data array is available.")}g=e.tracker=new ah({data:f,model:e.schema.model,events:{change:function(b){e._createView(e.data),b&&b.afterset||e.trigger(aI)},error:function(b){e.trigger(aA,{errorType:"tracker",path:b?b.path:"undefined path",value:b?b.value:"undefined value",error:b?b.reason:"undefined error",model:b?b.target:"undefined target model"})}}}),e.data=g.data}},getDataIndex:function(b){return this._indices[b]},add:function(b){return this._ensureTracker(),this.tracker.add(b)},insert:function(d,c){return this._ensureTracker(),this.tracker.insert(d,c)},remove:function(b){return this._ensureTracker(),this.tracker.remove(b)},removeAt:function(b){return this._ensureTracker(),this.tracker.removeAt(b)},edit:function(b){return this._ensureTracker(),this.tracker.edit(b)},insertView:function(d,c){return this._ensureTracker(),this.tracker.insert(this._indices[d],c)},removeAtView:function(b){return this._ensureTracker(),this.tracker.removeAt(this._indices[b])},editView:function(b){return this._ensureTracker(),this.tracker.edit(this._indices[b])},save:function(q){var p,o,r,n,u=this,t=u.tracker,k=t?t.changes:{added:[],edited:[],removed:[]},j=t&&u.trigger(Z,{changes:k}),s=new ay;if(q=aS.defined(q)?!!q:!0,j&&!j.isDefaultPrevented()){for(p=u.data=t.original,o=t.data,p.length=0,r=0;r<o.length;r++){p[r]=o[r]}u.options.data&&!aS.func(u.options.data)&&s.done(aJ(u._syncLocalData,u)),u._client().modify(k,aJ(s.resolve,s),aJ(u._error,u,s,!1,"save")),t.destroy(),t=u.tracker=null}else{s.resolve(k)}return q&&(n=function(){u._createView(u.data),u.trigger(aI)},s.then(n,n)),s.promise()},_syncLocalData:function(){var h,n=this,m=n.schema,k=(m.options.fields,n.data),l=(n.options.data,[]),j=aS.array(m.getReverseDataFirstItem(n.options.data));for(h=0;h<k.length;h++){l[h]=j?[]:{},m.reverseFields(k[h],l[h])}m.reverseData(l,n.options.data)},cancel:function(){var d=this,e=d.tracker,f=e&&(e.changes.added.length||e.changes.edited.length||e.changes.removed.length);e&&(d.data=e.original,e.destroy(),e=d.tracker=null,f&&(d._createView(d.data),d.trigger(aI)))},destroy:function(){var e,d=this,f=["options","data","total","aggregates","filter","sort","aggregate","group","skip","take","schema","remote","view","cache"];for(d.cancel(),d.cache.clear(),e=0;e<f.length;e++){delete d[f[e]]}aG.fn.destroy.call(d)}}),aD.create=function(d,c){return d instanceof aD?d:new aD(aK({},d,c))},aC=aF.extend({init:function(b){this.options=b},parse:function(d){var g=this.options.parse;if(aS.func(g)){return g(d)}if(aS.string(d)){try{d=aP.parseJSON(d)}catch(f){}}return d},data:function(e){var d=this.options.data;return aS.func(d)?d(e):aS.string(d)?aM(e,d):e},aggregates:function(e){var d=this.options.aggregates;return aS.func(d)?d(e):aS.string(d)?aM(e,d):aN},groups:function(e){var d=this.options.groups;return aS.func(d)?d(e):aS.string(d)?aM(e,d):aN},reverseData:function(h,f){var j,g=this.options.data;if(aS.func(g)){g(h,f)}else{if(aS.string(g)){ap(f,g,h)}else{if(aS.array(f)){for(f.length=0,j=0;j<h.length;j++){f[j]=h[j]}}}}},getReverseDataFirstItem:function(e){var d=this.data(e);return aS.array(d)&&d.length>0?d[0]:aN},total:function(e,f){var g=this.options.total;return e=e||[],f=f||[],aS.func(g)?g(e):aS.string(g)?aM(e,g):f.length},fields:function(f){var c=this,h=c.options.fields,g=c.model=aQ.define(h);return h?az(f,function(b){return aC.mapFields(b,g.fn.fields)}):f},reverseFields:function(){var r,q,s,k=this,p=k.options.fields,o=[].slice.call(arguments),n=o[0],l=o.length<=1,m=l?n:o[1];for(s in p){p.hasOwnProperty(s)&&(r=p[s],q=n[s],aS.string(r.path)?ap(m,r.path,q):aS.func(r.path)?r.path(n,q):m[s]=q,l&&delete m[s])}},process:function(g){var h=this,m=h.parse(g),k=h.aggregates(g),j=h.groups(g),l=h.fields(h.data(m));return{data:l,aggregates:k,groups:j,total:h.total(m,l)}}}),aC.mapFields=function(l,g){var k,c,m,f={};l=l||{};for(k in g){g.hasOwnProperty(k)&&(c=g[k],aS.string(c.path)?(m=aM(l,c.path),m===aN&&(m=aM(l,k))):m=aS.func(c.path)?c.path(l):l[k],m===aN?c.type&&(m=aQ.def(c.type,c.def,c.nullable!==!1)):m=aQ.convert(m,c.type),f[k]=m)}return f},af=aC.extend({parse:function(d){var j=this,h=j.options;if(aS.func(h.parse)){d=h.parse(d)}else{if(aS.string(d)){try{d=aP.parseXML(d)}catch(g){}}}return d&&9===d.nodeType&&(d=j._json(j._root(d))),d},_root:function(g){var f,h,e=g.childNodes;for(f=0,h=e.length;h>f;f++){if(1===e[f].nodeType){return e[f]}}return null},_json:function(m){var j,p,o,l,q={},k={},n="";for(o=0,l=m.attributes.length;l>o;o++){j=m.attributes[o],q["_"+j.nodeName]=j.nodeValue}for(o=0,l=m.childNodes.length;l>o;o++){switch(j=m.childNodes[o],p=j.nodeName,j.nodeType){case 1:k[p]?(aS.array(q[p])||(q[p]=[q[p]]),q[p].push(this._json(j))):(q[p]=this._json(j),k[p]=!0);break;case 3:n+=j.nodeValue;break;case 4:q._cdata=j.nodeValue}}return n=n.replace(/^\s+(.*)\s+$/gim,"$1"),n&&(q._text=n),q}}),ai=aC.extend({parse:function(o){var n,d=this.options,k=d.parse,m=aP(o),l=[],j=[];if(aS.func(k)){return k(o)}if(d.result){return d.result}if(!m[0]||"table"!==m[0].tagName.toLowerCase()){return o}m.eq(0).find("thead th").each(function(){j.push(aP(this).text())}).end().find("tbody tr").each(function(){n={},aP(this).children().each(function(b){n[j[b]]=aP(this).text()}),l.push(n)});return d.result=l,l}}),aj=aC.extend({parse:function(l){var d=this.options,h=d.parse,k=aP(l),j=[];return aS.func(h)?h(l):d.result?d.result:k[0]&&"select"===k[0].tagName.toLowerCase()?(k.find("option").each(function(c){var e=aP(this);j.push({value:e.attr("value"),text:e.text(),selected:e.is(":selected")})}),d.result=j,j):l}}),aD.schemas={json:aC,xml:af,table:ai,select:aj},ah=aG.extend({init:function(d){var c=this;c.original=d.data,c.data=Array.apply(null,d.data),c.model=d.model,c.changes={added:[],edited:[],removed:[]},aG.fn.init.call(this,d)},_model:function(f){var e=this,d=new e.model(f);return d.on(aI,aJ(e.trigger,e,aI)),d.on(aA,aJ(e.trigger,e,aA)),d.on(ac,aJ(e.trigger,e,aI,{afterset:!0})),d},add:function(b){return this.insert(this.data.length,b)},insert:function(g,k){var h,m=this,l=m.data,j=m.changes;if(0>g||g>l.length){throw new Error("shield.DataSource: invalid item index.")}return h=m._model(k),j.added.push(h),l.splice(g,0,h.data),m.trigger(aI,{operation:Y,index:g,model:h}),h},edit:function(g){var f,j=this,k=j.data,h=j.changes;if(isNaN(g)||0>g||g>=k.length){throw new Error("shield.DataSource: invalid item index.")}return(f=ao(h.added.concat(h.edited),function(c){return c.data===k[g]})[0])?f:(f=j._model(k[g]),h.edited.push(f),k[g]=f.data,f)},remove:function(k){var g=this,j=g.changes,h=ao(j.added.concat(j.edited),function(b){return b===k})[0],c=-1;return k instanceof aQ?h&&(c=ak(h.data,g.data)):c=ak(k,g.data),c>-1?g.removeAt(c):void 0},removeAt:function(g){var k=this,j=k.data,h=k.changes,f=ao(h.added.concat(h.edited),function(c){return c.data===j[g]})[0];if(0>g||g>j.length){throw new Error("shield.DataSource: invalid item index.")}return f?f.destroy():f=new k.model(j[g]),h.removed.push(f),j.splice(g,1),k.trigger(aI,{operation:aa,index:g,model:f}),f},destroy:function(){var e,h=this,f=h.changes,g=f.added.concat(f.edited).concat(f.removed);for(e=0;e<g.length;e++){g[e].destroy()}f.added.length=f.edited.length=f.removed.length=0,h.data=h.original=null,aG.fn.destroy.call(h)}}),aQ=aG.extend({init:function(d,f){var e=this;aG.fn.init.call(e,f),e.fields=aK(!0,{},e.constructor.prototype.fields),e.data=aK(!0,{},d)},trigger:aL.ui.Widget.fn.trigger,get:function(b){return aM(this.data,b)},set:function(f,e){var d=this;e=d.validate(f,e),e!==aN&&(ap(d.data,f,e),d.trigger(ac))},validate:function(m,f){var n,l,k=this,c=aM(k.fields,m);if(!c){return f}if(aE(c.validator)===aw){n=c.validator}else{if(aE(c.type.validate)===aw){n=c.type.validate}else{var g=c.type.toString().split("(")[0].split(" ")[1].toLowerCase();n=aQ.validators[g]}}if(n){if(l=n(f),l===aN){return void k.trigger(aA,{errorType:"validation",path:m,value:f,error:"validation error"})}f=l}return null===f&&c.nullable===!1?void k.trigger(aA,{errorType:"validation",path:m,value:f,error:"null value not allowed"}):f}}),aQ.define=function(b){return aQ.extend({fields:aQ.normalize(aK(!0,{},b))})},aQ.normalize=function(f){var e,h,g;f=f||{};for(e in f){f.hasOwnProperty(e)&&(h=f[e],g=aE(h),g===aw?f[e]={type:h}:g===aq?f[e]={type:h}:g===X&&(f[e]={path:h}))}return f},aQ.def=function(f,e,g){var h;return e!==aN?aE(e)===aw?e():e:g?null:f===String?"":f===Number?0:f===Date?null:f===Boolean?!1:f===Array?[]:f===Object?{}:(h=aE(f),h===aq?[]:h===ag?{}:h===aw?f():null)},aQ.convert=function(e,f){var g;return null==e?e:f===String?e.toString():f===Number?(g=parseFloat(e),isNaN(g)?e:g):f===Date?(g=new Date(e),isNaN(g.getTime())?e:g):f===Boolean?aS.string(e)?!/^(false|0)$/i.test(e):!!e:e},aQ.validators={string:function(b){return null==b?null:b.toString()},number:function(b){return null===b?null:isNaN(+b)?aN:+b},date:function(b){return null===b?null:b instanceof Date?b:(b=new Date(b),isNaN(b.getTime())?aN:b)},"boolean":function(b){return null===b?null:null==b?aN:!!b},array:function(b){return null===b?null:aE(b)===aq?b:aN},object:function(b){return null===b?null:aE(b)===ag?b:aN}},aK(aL,{map:az,DataSource:aD,DataQuery:aO,Model:aQ})}(jQuery,shield,this),function(aQ,aL,au,aP){function aY(){if(aK(bf)){return bf}var h,j,f=aQ('<div style="width:50px;position:absolute;overflow:hidden;height:50px;display:block;"><div style="width:auto;height:100px;"></div></div>'),g=f.children()[0];return aQ(aJ.body).append(f),h=g.offsetWidth,f.css(bj,bb),j=g.offsetWidth,h===j&&(j=f[0].clientWidth),f.remove(),bf=h-j}function bB(g){var f=g.isWindow||g.isDocument?"":g.element.css(ak),k=g.isWindow||g.isDocument?"":g.element.css(af),j=f===bb||f===bA&&g.width<g.element[0].scrollWidth,h=k===bb||k===bA&&g.height<g.element[0].scrollHeight;return{width:h?aY():0,height:j?aY():0}}function a7(g){var f=aQ(g||au),j=br(f[0]),h=!!f[0]&&9===f[0].nodeType;return{element:f,isWindow:j,isDocument:h,offset:f.offset()||{left:0,top:0},scrollLeft:f.scrollLeft(),scrollTop:f.scrollTop(),width:j||h?f.width():f.outerWidth(),height:j||h?f.height():f.outerHeight()}}function a0(e,d,f){return[a6(e[0])*(aZ.test(e[0])?d/100:1),a6(e[1])*(aZ.test(e[1])?f/100:1)]}function aM(d,f){var e=d.css(f);return e?bs(e)||0:0}function ae(d){var c=d[0];return 9===c.nodeType?{width:d.width(),height:d.height(),offset:{top:0,left:0}}:br(c)?{width:d.width(),height:d.height(),offset:{top:d.scrollTop(),left:d.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:d.outerWidth(),height:d.outerHeight(),offset:d.offset()}}function aW(j,h){var d=0,f=aK(h)?aQ(h).find(j):aQ(j);return f.each(function(b){d=aF(d,aM(aQ(this),"z-index"))}),d}function ac(b){return b.pageX||b.pageY?{x:b.pageX,y:b.pageY}:{x:b.clientX+aJ.body.scrollLeft-aJ.body.clientLeft,y:b.clientY+aJ.body.scrollTop-aJ.body.clientTop}}var bf,ap,am,an,ao,ay,a9,bc,bi,ad,av=aL.ui.Widget,aj=(aL.Class,aL.Constants.KeyCode),aJ=document,aO=Math.abs,bm=Math.min,aF=Math.max,bv=Math.round,aS=Math.floor,ah=aQ.extend,aB=aQ.proxy,by=aQ.each,br=aQ.isWindow,aK=aL.is.defined,bd=aL.is.func,aI=aL.is.number,be=aL.is.object,bs=aL.to["int"],a6=aL.to.number,bo=aL.to.string,a3=/left|center|right/,a2=/top|center|bottom/,a1=/[\+\-]\d+(\.[\d]+)?%?/,bt=/^\w+/,aZ=/%$/,az="mousedown",bn="mouseup",ax="mousemove",aV="keydown",aU="start",aT="stop",bw="resize",bC="resized",aN="drag",ab="cancel",aA="disabled",aC="px",aE="left",aq="right",aD="top",ar="bottom",aG="middle",aH="center",bj="overflow",bA="auto",at="position",a5="absolute",bq="relative",ak="overflow-x",af="overflow-y",bb="scroll",bg="horizontal",bh="vertical",aR="my",al="at",ag="marginLeft",bu="marginRight",bx="marginTop",bp="marginBottom",bz="flip",bk="sui-resizable",a8=bk+"-"+aA,aw="sui-draggable",a4=aw+"-"+aA,aX=aw+"-dragging",bl="sui-unselectable",ai=0;an={},an.GetWithinInfo=a7,an.GetMaxZIndex=aW,an.GetCoordinates=ac,aL.ui.Util=an,ap=function(){return ai++,am?am:(this.init(),void (am=this))},ap.prototype={_pos:null,init:function(){var c=this;aQ(aJ).on(ax+".suiMouseTracker",aB(c._onMouseMove,c))},_onMouseMove:function(b){this._pos=this.getPosFromEvent(b)},getPosFromEvent:function(b){return ac(b)},getPosition:function(c){var d=this;return null===d._pos&&aK(c)&&(d._pos=d.getPosFromEvent(c)),d._pos},isInWindow:function(l){var k=this,j=k.getPosition(l),p=j.x,o=j.y,n=aQ(au).scrollTop(),m=aQ(au).scrollLeft();return p>=m&&p<=m+aQ(au).width()&&o>=n&&o<=n+aQ(au).height()},destroy:function(){--ai>0||(aQ(aJ).off(ax+".suiMouseTracker"),am=null)}},aL.MouseTracker=ap,ao={},ao.Set=function(k,S,V){if(!k||!S||!V){throw"Invalid arguments passed to Position.Set"}var M,Y,X,Q,W,F,aa={my:V.source,at:V.target,collision:V.overflow,inside:V.inside},U=aQ(S),O=a7(aa.inside),P=bB(O),I=(aa.collision||bz).split(" "),o={};F=ae(U),U[0].preventDefault&&(aa.at="left top"),Y=F.width,X=F.height,Q=F.offset,W=ah({},Q),by([aR,al],function(){var e,l,g=this,f=(aa[g]||"").split(" ");1===f.length&&(f=a3.test(f[0])?f.concat([aH]):a2.test(f[0])?[aH].concat(f):[aH,aH]),f[0]=a3.test(f[0])?f[0]:aH,f[1]=a2.test(f[1])?f[1]:aH,e=a1.exec(f[0]),l=a1.exec(f[1]),o[g]=[e?e[0]:0,l?l[0]:0],aa[g]=[bt.exec(f[0])[0],bt.exec(f[1])[0]]}),1===I.length&&(I[1]=I[0]),aa.at[0]===aq?W.left+=Y:aa.at[0]===aH&&(W.left+=Y/2),aa.at[1]===ar?W.top+=X:aa.at[1]===aH&&(W.top+=X/2),M=a0(o.at,Y,X),W.left+=M[0],W.top+=M[1];var G,j,Z=aQ(k),R=Z.outerWidth(),T=Z.outerHeight(),h=aM(Z,ag),v=aM(Z,bx),c=R+h+aM(Z,bu)+P.width,d=T+v+aM(Z,bp)+P.height,ba=ah({},W),u=a0(o.my,Z.outerWidth(),Z.outerHeight());aa.my[0]===aq?ba.left-=R:aa.my[0]===aH&&(ba.left-=R/2),aa.my[1]===ar?ba.top-=T:aa.my[1]===aH&&(ba.top-=T/2),ba.left+=u[0],ba.top+=u[1],ba.left=bv(ba.left),ba.top=bv(ba.top),G={marginLeft:h,marginTop:v},by([aE,aD],function(b,e){ay[I[b]]&&ay[I[b]][e](ba,{targetWidth:Y,targetHeight:X,elemWidth:R,elemHeight:T,collisionPosition:G,collisionWidth:c,collisionHeight:d,offset:[M[0]+u[0],M[1]+u[1]],my:aa.my,at:aa.at,within:O,elem:Z})}),bd(V.callback)&&(j=function(){var n=Q.left-ba.left,b=n+Y-R,g=Q.top-ba.top,l=g+X-T,f={target:{element:U,left:Q.left,top:Q.top,width:Y,height:X},element:{element:Z,left:ba.left,top:ba.top,width:R,height:T},horizontal:0>b?aE:n>0?aq:aH,vertical:0>l?aD:g>0?ar:aG};R>Y&&aO(n+b)<Y&&(f.horizontal=aH),T>X&&aO(g+l)<X&&(f.vertical=aG),aF(aO(n),aO(b))>aF(aO(g),aO(l))?f.important=bg:f.important=bh,V.callback(f)}),Z.offset(ba),j&&j()},ay={fit:{left:function(s,q){var k,n=q.within,p=n.isWindow?n.scrollLeft:n.offset.left,m=n.width,l=s.left-q.collisionPosition.marginLeft,r=p-l,o=l+q.collisionWidth-m-p;q.collisionWidth>m?r>0&&0>=o?(k=s.left+r+q.collisionWidth-m-p,s.left+=r-k):o>0&&0>=r?s.left=p:r>o?s.left=p+m-q.collisionWidth:s.left=p:r>0?s.left+=r:o>0?s.left-=o:s.left=aF(s.left-l,s.left)},top:function(s,r){var k,m=r.within,p=m.isWindow?m.scrollTop:m.offset.top,n=r.within.height,l=s.top-r.collisionPosition.marginTop,q=p-l,o=l+r.collisionHeight-n-p;r.collisionHeight>n?q>0&&0>=o?(k=s.top+q+r.collisionHeight-n-p,s.top+=q-k):o>0&&0>=q?s.top=p:q>o?s.top=p+n-r.collisionHeight:s.top=p:q>0?s.top+=q:o>0?s.top-=o:s.top=aF(s.top-l,s.top)}},flip:{left:function(z,B){var u,v,A=B.within,c=A.offset.left+A.scrollLeft,s=A.width,t=A.isWindow?A.scrollLeft:A.offset.left,r=z.left-B.collisionPosition.marginLeft,q=r-t,j=r+B.collisionWidth-s-t,y=B.my[0]===aE?-B.elemWidth:B.my[0]===aq?B.elemWidth:0,w=B.at[0]===aE?B.targetWidth:B.at[0]===aq?-B.targetWidth:0,x=-2*B.offset[0];0>q?(u=z.left+y+w+x+B.collisionWidth-s-c,(0>u||u<aO(q))&&(z.left+=y+w+x)):j>0&&(v=z.left-B.collisionPosition.marginLeft+y+w+x-t,(v>0||aO(v)<j)&&(z.left+=y+w+x))},top:function(C,D){var u,v,z=D.within,k=z.offset.top+z.scrollTop,s=z.height,t=z.isWindow?z.scrollTop:z.offset.top,r=C.top-D.collisionPosition.marginTop,x=r-t,w=r+D.collisionHeight-s-t,c=D.my[1]===aD,A=c?-D.elemHeight:D.my[1]===ar?D.elemHeight:0,B=D.at[1]===aD?D.targetHeight:D.at[1]===ar?-D.targetHeight:0,y=-2*D.offset[1];0>x?(v=C.top+A+B+y+D.collisionHeight-s-k,C.top+A+B+y>x&&(0>v||v<aO(x))&&(C.top+=A+B+y)):w>0&&(u=C.top-D.collisionPosition.marginTop+A+B+y-t,C.top+A+B+y>w&&(u>0||aO(u)<w)&&(C.top+=A+B+y))}},flipfit:{left:function(){ay.flip.left.apply(this,arguments),ay.fit.left.apply(this,arguments)},top:function(){ay.flip.top.apply(this,arguments),ay.fit.top.apply(this,arguments)}}},aL.ui.Position=ao,ad={enabled:!0,cls:aP,resizeCls:aP,delta:1,handles:["e","w","n","s","se","sw","ne","nw"],handleWidth:8,handleZIndex:105,minHeight:16,minWidth:16,maxHeight:aP,maxWidth:aP,events:{}},bi=av.extend({init:function(){av.fn.init.apply(this,arguments);var f=this,g=aQ(f.element),j=f.options,h=j.cls;f.mouseTracker=new ap,g.addClass(bk+(h?" "+h:"")),f._initHandles(),f.enabled(j.enabled)},_initHandles:function(){var u,x,w,z=this,m=aQ(z.element),g=(m.width(),m.height()),p=z.options,l=p.handles,n=p.handleWidth,t=n+aC,v=n+2+aC,y="-"+(n-2)+aC,A=p.handleZIndex;for(z.handles=[],w=0;w<l.length;w++){switch(u=bo(l[w]).toLowerCase(),x={},u){case"e":x={width:t,height:g+aC,top:0,right:y};break;case"w":x={width:t,height:g+aC,top:0,left:y};break;case"n":x={width:"100%",height:t,top:y};break;case"s":x={width:"100%",height:t,bottom:y};break;case"se":x={width:v,height:v,bottom:y,right:y};break;case"sw":x={width:v,height:v,bottom:y,left:y};break;case"ne":x={width:v,height:v,top:y,right:y};break;case"nw":x={width:v,height:v,top:y,left:y}}x.zIndex=A,z.handles[w]={type:u},z.handles[w][az]=aB(z._handleMouseDown,z,w),z.handles[w].element=aQ('<div class="sui-resizable-handle sui-resizable-dir-'+u+'"></div>').appendTo(m).css(x).on(az,z.handles[w][az])}aQ(aJ).on(bn+".shieldResizable"+z.getInstanceId(),aB(z._handleMouseUp,z)),aQ(aJ).on(ax+".shieldResizable"+z.getInstanceId(),aB(z._handleMouseMove,z))},_destroyHandles:function(){var g,e=this,f=e.handles;for(aQ(aJ).off(bn+".shieldResizable"+e.getInstanceId()),aQ(aJ).off(ax+".shieldResizable"+e.getInstanceId()),g=0;g<f.length;g++){aQ(e.handles[g].element).off(az,e.handles[g][az]).remove()}e.handles=[]},_handleMouseDown:function(g,f){var e=this;e._enabled&&!e.resizing&&(e.resizing=!0,e.resizingHandle=g,e.oldPos=e.mouseTracker.getPosition(f),e.startSent=!1,aQ(e.element).addClass(bl))},_handleMouseMove:function(L){var S,k,f,aa,ba,bG,bH,bD,bE,M,K,W,Z,Q,bF=this,Y=aQ(bF.element),U=bF.options,O=U.delta,c=U.minWidth,X=U.maxWidth,V=U.minHeight,T=U.maxHeight,P=U.resizeCls,N=bF.resizingHandle,R=bF.handles,l=bF.mouseTracker,j=bF.oldPos;if(l.isInWindow(L)&&bF.resizing&&aK(N)&&(f=l.getPosition(L),aa=f.x-j.x,ba=f.y-j.y,S=R[N],k=S.type,aO(aa)>=O||aO(ba)>=O)){switch(/^(se|sw|ne|nw)$/i.test(k)||(/^(e|w)$/i.test(k)?ba=0:aa=0),aO(aa)<O&&(aa=0),aO(ba)<O&&(ba=0),bG=aa,bH=ba,bD=0,bE=0,k){case"w":bG=-aa,bD=-bG;break;case"n":bH=-ba,bE=-bH;break;case"nw":bG=-aa,bH=-ba,bD=-bG,bE=-bH;break;case"sw":bG=-aa,bD=-bG;break;case"ne":bH=-ba,bE=-bH}if(W=Y.width(),Z=Y.height(),M=aM(Y,aD),K=aM(Y,aE),bG>0?(aK(X)&&W+bG>X&&(bG=X-W,0!==bD&&(bD=-bG)),0>K+bD&&(bG-=K-bD,bD=-bG)):0>bG&&aK(c)&&c>W+bG&&(bG=c-W,0!==bD&&(bD=-bG)),bH>0?(aK(T)&&Z+bH>T&&(bH=T-Z,0!==bE&&(bE=-bH)),0>M+bE&&(bH-=M-bE,bE=-bH)):0>bH&&aK(V)&&V>Z+bH&&(bH=V-Z,0!==bE&&(bE=-bH)),0!==bG||0!==bH){bF.startSent||(bF.startSent=!0,bF.trigger(aU),P&&Y.addClass(P));var d=bF.trigger(bw,{deltaX:bG,deltaY:bH});if(!d.isDefaultPrevented()){if(Y.width(W+bG).height(Z+bH),(0!==bD||0!==bE)&&Y.css({top:M+bE+aC,left:K+bD+aC}),bF.oldPos.x=bF.oldPos.x+aa,bF.oldPos.y=bF.oldPos.y+ba,0!==ba){for(Q=0;Q<R.length;Q++){S=R[Q],/^(e|w)$/i.test(S.type)&&aQ(S.element).height(Z+bH)}}bF.trigger(bC)}}}},_handleMouseUp:function(b){var j=this,g=!!j.startSent,h=j.options.resizeCls;j.resizing&&(j.resizing=!1,j.resizingHandle=aP,j.oldPos=aP,j.startSent=!1,g&&j.trigger(aT),aQ(j.element).removeClass(bl+(h?" "+h:"")))},resize:function(j,h){var g=this,f=g.options;j=aF(bm(j,f.maxWidth),f.minWidth),h=aF(bm(h,f.maxHeight),f.minHeight),aQ(g.element).width(j).height(h)},enabled:function(){var f,j=this,h=aQ(j.element),g=[].slice.call(arguments);return g.length>0?(f=!!g[0],f?h.removeClass(a8):h.addClass(a8),j._enabled=f,void 0):j._enabled},destroy:function(){var d=this,e=d.options.cls;d.mouseTracker.destroy(),d.mouseTracker=null,aQ(d.element).removeClass(bk+(e?" "+e:"")),d._destroyHandles(),av.fn.destroy.call(d)}}),bi.defaults=ad,aL.ui.plugin("Resizable",bi),bc={enabled:!0,cls:aP,dragCls:aP,handle:aP,direction:aP,min:aP,max:aP,step:aP,allowedPositions:aP,stack:!0,helper:aP,events:{}},a9=av.extend({init:function(){av.fn.init.apply(this,arguments);var l,g=this,k=aQ(g.element),j=g.options,h=j.cls;g.mouseTracker=new ap,k.addClass(aw+(h?" "+h:"")),l=k.css(at),l!==bq&&l!==a5&&(g._origPosStyle=l,k.css(at,bq)),g.enabled(j.enabled),g.startSent=!1},_handleMouseDown:function(j){var q,d=this,m=d.element,k=d.options,o=k.helper,g=k.cls,p=k.dragCls;d._enabled&&!d._dragging&&(d._dragging=!0,d.startSent=!1,d._helper=d._isCustomHelper=null,d.stepPosition=d.mousePos=d.mouseTracker.getPosition(j),aQ(aJ).on(ax+".shieldDraggable"+d.getInstanceId(),aB(d._handleMouseMove,d)).on(bn+".shieldDraggable"+d.getInstanceId(),aB(d._handleMouseUp,d)).on(aV+".shieldDraggable"+d.getInstanceId(),aB(d._handleKeyDown,d)),o&&"original"!==o?(q=bd(o)?o.call(d,{position:d.oriPosition,event:j}):"clone"==o?m.clone():aQ(o),q.parents("body").length||m.after(q),/(fixed|absolute)/i.test(q.css(at))||q.css(at,a5),ao.Set(q,m,{source:"left top",target:"left top",overflow:"none"}),d._isCustomHelper=!0):(q=m,d._isCustomHelper=!1),d._helper=q,q.addClass(bl+" "+aw+(g?" "+g:"")+" "+aX+(p?" "+p:"")),d.oriPosition={left:aM(q,aE),top:aM(q,aD)})},_handleMouseMove:function(bI){var Z,bJ,bK,I,U,bN,bM,bP,bO,bQ=this,bL=aQ(bQ._helper),c=bL.width(),d=bL.height(),V=bQ.options,bG=V.step,X=V.direction,bH=V.allowedPositions,b=bH!==aP&&bH.length>0,ba=V.min,bE=V.max,f=bQ.mouseTracker,Y=f.getPosition(bI);if(f.isInWindow(bI)&&bQ._dragging){if(I=aM(bL,aD),U=aM(bL,aE),b){var k,j,T,G,W,bF,aa=aP,bD=aP,F=aP,B=aP;for(k=Y.x-bQ.stepPosition.x,j=Y.y-bQ.stepPosition.y,T=U+k,G=I+j,W=0;W<bH.length;W++){bF=bH[W],bF.x!==aP&&(F===aP||F>aO(T-bF.x))&&(F=aO(T-bF.x),aa=W),bF.y!==aP&&(B===aP||B>aO(G-bF.y))&&(B=aO(G-bF.y),bD=W)}bN=U,bM=I,aa!==aP&&(bN=bH[aa].x,bQ.stepPosition.x+=bH[aa].x-U),bD!==aP&&(bM=bH[bD].y,bQ.stepPosition.y+=bH[bD].y-I)}else{if(bP=X==bh?0:Y.x-bQ.mousePos.x,bO=X==bg?0:Y.y-bQ.mousePos.y,aK(bG)){if(Z=bd(bG)?bG.call(this,{deltaX:bP,deltaY:bO,element:bL,domEvent:bI,helperLeft:aM(bL,aE),helperTop:aM(bL,aD),mouse:Y}):bG,aI(Z)?bJ=bK=Z:be(Z)&&(bJ=Z.x,bK=Z.y),aK(bJ)&&aO(bP)<bJ&&aK(bK)&&aO(bO)<bK){return}aK(bJ)&&bJ>1&&bP%bJ!==0&&(bP=(bP>=0?1:-1)*aS(aO(bP)/bJ)*bJ),aK(bK)&&bK>1&&bO%bK!==0&&(bO=(bO>=0?1:-1)*aS(aO(bO)/bK)*bK)}bN=U+bP,bM=aF(0,I+bO)}X==bg&&(ba!==aP&&(bN=aF(ba,bN),bN===ba&&(bP=0)),bE!==aP&&(bN=bm(bE-c,bN),bN===bE-c&&(bP=0))),X==bh&&(ba&&(bM=aF(ba,bM),bM===ba&&(bO=0)),bE&&(bM=bm(bE-d,bM),bM===bE-d&&(bO=0))),bL.css({left:bN,top:bM}),bQ.mousePos=Y,bQ.startSent||(bQ.startSent=!0,bQ.trigger(aU,{element:bL,domEvent:bI}),bQ._adjustZIndex()),bQ.trigger(aN,{deltaX:bP,deltaY:bO,element:bL,domEvent:bI})}},_handleMouseUp:function(h){var k,g=this,j=g.element,d=g._helper;g._dragging&&(g.startSent&&(k=g.trigger(aT,{left:aM(d,aE),top:aM(d,aD),element:d,domEvent:h}),k.isDefaultPrevented()?g._isCustomHelper||d.css({left:g.oriPosition.left,top:g.oriPosition.top}):g._isCustomHelper&&(ao.Set(j,d,{source:"left top",target:"left top",overflow:"none"}),g._adjustZIndex(j))),g._endDrag())},_adjustZIndex:function(e){var f=this,g=f.options.stack;g!==!1&&(aK(e)||(e=f._helper),aQ(e).css("z-index",aW(g===!0?"."+aw:g)+1))},_handleKeyDown:function(d){var e=this,f=d.keyCode;switch(f){case aj.ESC:e._dragging&&(e._helper.css({left:e.oriPosition.left+aC,top:e.oriPosition.top+aC}),e.trigger(ab),e._endDrag())}},_endDrag:function(){var d=this,e=d.options.dragCls;d._dragging=!1,d._isCustomHelper?aQ(d._helper).remove():aQ(d._helper).removeClass(bl+" "+aX+(e?" "+e:"")),aQ(aJ).off(ax+".shieldDraggable"+d.getInstanceId()).off(bn+".shieldDraggable"+d.getInstanceId()).off(aV+".shieldDraggable"+d.getInstanceId()),d.mousePos=d.oriPosition=d._helper=d._isCustomHelper=null},enabled:function(){var n,h=this,m=aQ(h.element),l=h.options,k=l.handle?aQ(l.handle):m,j=[].slice.call(arguments);return j.length>0?(n=!!j[0],n?(m.removeClass(a4),h._mouseDownProxy||(h._mouseDownProxy=aB(h._handleMouseDown,h),k.on(az,h._mouseDownProxy))):(m.addClass(a4),h._mouseDownProxy&&(k.off(az,h._mouseDownProxy),h._mouseDownProxy=null)),h._enabled=n,void 0):h._enabled},destroy:function(){var d=this,e=d.options.cls;d.mouseTracker.destroy(),d.mouseTracker=null,aQ(d.element).removeClass(aw+(e?" "+e:"")),d._origPosStyle&&(aQ(d.element).css(at,d._origPosStyle),d._origPosStyle=null),av.fn.destroy.call(d)}}),a9.defaults=bc,aL.ui.plugin("Draggable",a9)}(jQuery,shield,this),function(aC,aL,aP,aO){var bg,ay,a6,aW,aV,ao,aK=aL.exp=aL.exp||{},bj=aL.Class,a5=(aL.DataSource,aL.support.browser),ab=aL.iid,az=document,ap=aC.extend,aD=aC.map,bq=aC.each,aF=aL.is,aM=aF.string,aw=aF.array,ar=aF.number,bw=aF["boolean"],aq=aF.date,aQ=aF.defined,ax=aF["null"],a3=aF.func,a0=aF.object,bb=aL.to["int"],by=aL.to.key,aJ=aL.error,a9=aL.keys,aS=(aL.get,aL.Constants.XHTML_NS),a7="application/octet-stream",bm="download",bh="Untitled",bz=function(){},bs="l",bc="p",aG="mm",ai="in",bn="pt",aN="cm",bp="px",bl="pc",al="em",ag="ex",aX="RG",at="helvetica",aE="times",bA="sans-serif",aI="arial",aj="verdana",ae="fixed",br="monospace",a4="serif",aA="terminal",ah="cursive",ac="fantasy",au="courier",av="normal",am="bold",bk="italic",bi="bolditalic",ad="center",bB="both",bu="S",bo="F",a2="FD",ak="DF",af="B",bD="f*",bx="B*",a1=19.049976/25.4,aB=function(b){return aC("<div/>").text(b).html().replace('"',"&quot;")},aZ=function(d){aq(d)||(aM(d)&&(d=d.replace(/\s+/g,"")),d=new Date(d));var c=25569+d.getTime()/86400000;return c.toString()},aY=function(c){return aQ(c)?aq(c)?c:new Date(aM(c)?c.replace(/\s+/g,""):c):new Date},bf=function(b){return aY(b).toISOString().replace(/\.\d+/,"")},be=function(c){return aQ(c)&&aM(c)&&c.length>0?c.charAt(0).toUpperCase()+c.substr(1):c},an=function(b){return b?1:0},aU=function(b){return("FF"+b).replace("#","").toUpperCase()},bt=function(g){for(var e,f=bb(g),h="";f>0;){e=(f-1)%26,h=String.fromCharCode(65+e)+h,f=bb((f-e)/26)}return h},bd=function(d,c){return bt(c)+d},aT=function(d,c){return'<?xml version="1.0"'+(d?' encoding="UTF-8"':"")+(c?' standalone="yes"':"")+"?>\n"},aH=function(){return aT(1,1)},a8=function(b){return b},bC=function(e,d){return d=aQ(d)?d:7,a8(((e-5)/7*100+0.5)/100)},bv=function(e,d){return d=aQ(d)?d:7,a8((e*d+5)/d*256/256)},aR=function(e,d){if(e&&d){var f=e.indexOf(d);return f>=0&&f===e.length-d.length}return !1};!function(e){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";aQ(e.btoa)||(e.btoa=function(B){var u,r,s,t,w,v,p,A,z=0,b=0,x="",q=[];if(!B){return B}do{u=B.charCodeAt(z++),r=B.charCodeAt(z++),s=B.charCodeAt(z++),A=u<<16|r<<8|s,t=A>>18&63,w=A>>12&63,v=A>>6&63,p=63&A,q[b++]=d.charAt(t)+d.charAt(w)+d.charAt(v)+d.charAt(p)}while(z<B.length);x=q.join("");var y=B.length%3;return(y?x.slice(0,y-3):x)+"===".slice(y||3)}),aQ(e.atob)||(e.atob=function(z){var v,t,o,p,q,r,u,w,y=0,s=0,b="",x=[];if(!z){return z}z+="";do{p=d.indexOf(z.charAt(y++)),q=d.indexOf(z.charAt(y++)),r=d.indexOf(z.charAt(y++)),u=d.indexOf(z.charAt(y++)),w=p<<18|q<<12|r<<6|u,v=w>>16&255,t=w>>8&255,o=255&w,64==r?x[s++]=String.fromCharCode(v):64==u?x[s++]=String.fromCharCode(v,t):x[s++]=String.fromCharCode(v,t,o)}while(y<z.length);return b=x.join("")})}(aP),function(){if(aP.URL=aP.URL||aP.webkitURL,aP.Blob&&aP.URL){try{new aP.Blob;return void (aK.Blob=aP.Blob)}catch(b){}}var g=aP.BlobBuilder||aP.WebKitBlobBuilder||aP.MozBlobBuilder||function(){var D=function(c){return Object.prototype.toString.call(c).match(/^\[object\s(.*)\]$/)[1]},C=function(){this.data=[]},K=function(e,k,j){var h=this;h.data=e,h.size=e.length,h.type=k,h.encoding=j},I=C.prototype,J=K.prototype,z=aP.FileReaderSync,w=function(c){var d=this;d.code=d[d.name=c]},E="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),H=E.length,L=aP.URL||aP.webkitURL||aP,B=L.createObjectURL,A=L.revokeObjectURL,G=L,y=aP.btoa,x=aP.atob,p=aP.ArrayBuffer,F=aP.Uint8Array,n=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(K.fake=J.fake=!0;H--;){w.prototype[E[H]]=H+1}return L.createObjectURL||(G=aP.URL=function(h){var d,e=az.createElementNS(aS,"a");return e.href=h,"origin" in e||("data:"===e.protocol.toLowerCase()?e.origin=null:(d=h.match(n),e.origin=d&&d[1])),e}),G.createObjectURL=function(d){var c,h=d.type;return ax(h)&&(h=a7),d instanceof K?(c="data:"+h,"base64"===d.encoding?c+";base64,"+d.data:"URI"===d.encoding?c+","+decodeURIComponent(d.data):y?c+";base64,"+y(d.data):c+","+encodeURIComponent(d.data)):B?B.call(L,d):void 0},G.revokeObjectURL=function(c){"data:"!==c.substring(0,5)&&A&&A.call(L,c)},I.append=function(s){var r=this.data;if(aQ(F)&&(s instanceof p||s instanceof F)){var q,o="",m=new F(s),k=m.length;for(q=0;k>q;q++){o+=String.fromCharCode(m[q])}r.push(o)}else{if("Blob"===D(s)||"File"===D(s)){if(!z){throw new w("NOT_READABLE_ERR")}var d=new z;r.push(d.readAsBinaryString(s))}else{s instanceof K?"base64"===s.encoding&&x?r.push(x(s.data)):"URI"===s.encoding?r.push(decodeURIComponent(s.data)):"raw"===s.encoding&&r.push(s.data):(s+="",r.push(aP.unescape(encodeURIComponent(s))))}}},I.getBlob=function(c){return arguments.length||(c=null),new K(this.data.join(""),c,"raw")},I.toString=function(){return"[object BlobBuilder]"},J.slice=function(k,j,d){var h=this,l=arguments.length;return 3>l&&(d=null),new K(h.data.slice(k,l>1?j:h.data.length),d,h.encoding)},J.toString=function(){return"[object Blob]"},J.close=function(){this.size=0,delete this.data},C}();aK.Blob=function(p,m){var r,l,q,c=m?m.type||"":"",o=new g,n=aP.Uint8Array;if(p){for(r=0,l=p.length;l>r;r++){aQ(n)&&n&&p[r] instanceof n?o.append(p[r].buffer):o.append(p[r])}}return q=o.getBlob(c),!q.slice&&q.webkitSlice&&(q.slice=q.webkitSlice),q};var f=Object.getPrototypeOf||function(c){return c.__proto__};aK.Blob.prototype=f(new aK.Blob)}(),function(){var b=aP.saveAs||function(){if(a5.ie&&a5.version<10){return aO}var C=function(){return aP.URL||aP.webkitURL||aP},D=az.createElementNS(aS,"a"),G=bm in D,H=function(f){var e=new MouseEvent("click");f.dispatchEvent(e)},B=aP.webkitRequestFileSystem,v=aP.requestFileSystem||B||aP.mozRequestFileSystem,c=function(e){(aP.setImmediate||aP.setTimeout)(function(){throw e},0)},A=a7,w=0,d=500,y=function(e){var f=function(){aM(e)?C().revokeObjectURL(e):e.remove()};aP.chrome?f():setTimeout(f,d)},z=function(g,h,k){var m,l;for(h=[].concat(h),m=h.length;m--;){if(l=g["on"+h[m]],a3(l)){try{l.call(g,k||g)}catch(j){c(j)}}}},n=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e},x=function(m,j,p){p||(m=n(m));var k,f,s,o=this,K=m.type,J=!1,I=function(){z(o,"writestart progress write writeend".split(" "))},h=function(){var e;(J||!k)&&(k=C().createObjectURL(m)),f?f.location.href=k:(e=aP.open(k,"_blank"),aQ(e)||"undefined"==typeof safari||(aP.location.href=k)),o.readyState=o.DONE,I(),y(k)},g=function(e){return function(){return o.readyState!==o.DONE?e.apply(this,arguments):void 0}},t={create:!0,exclusive:!1};return o.readyState=o.INIT,j||(j=bh),G?(k=C().createObjectURL(m),D.href=k,D.download=j,void setTimeout(function(){H(D),I(),y(k),o.readyState=o.DONE})):(aP.chrome&&K&&K!==A&&(s=m.slice||m.webkitSlice,m=s.call(m,0,m.size,A),J=!0),B&&j!==bm&&(j+="."+bm),(K===A||B)&&(f=aP),v?(w+=m.size,void v(aP.TEMPORARY,w,g(function(e){e.root.getDirectory("saved",t,g(function(q){var l=function(){q.getFile(j,t,g(function(r){r.createWriter(g(function(u){u.onwriteend=function(L){f.location.href=r.toURL(),o.readyState=o.DONE,z(o,"writeend",L),y(r)},u.onerror=function(){var L=u.error;L.code!==L.ABORT_ERR&&h()},"writestart progress write abort".split(" ").forEach(function(L){u["on"+L]=o["on"+L]}),u.write(m),o.abort=function(){u.abort(),o.readyState=o.DONE},o.readyState=o.WRITING}),h)}),h)};q.getFile(j,{create:!1},g(function(r){r.remove(),l()}),g(function(r){r.code===r.NOT_FOUND_ERR?l():h()}))}),h)}),h)):void h())},E=x.prototype,F=function(f,e,g){return new x(f,e,g)};return aQ(navigator)&&navigator.msSaveOrOpenBlob?function(f,e,g){return g||(f=n(f)),navigator.msSaveOrOpenBlob(f,e||bh)}:(E.abort=function(){var e=this;e.readyState=e.DONE,z(e,"abort")},E.readyState=E.INIT=0,E.WRITING=1,E.DONE=2,E.error=E.onwritestart=E.onprogress=E.onwrite=E.onabort=E.onerror=E.onwriteend=null,F)}();aK.saveAs=function(p){var o=p.content,n=p.contentType,l=p.name,e=p.noAutoBom,g=p.proxy,f="suidlifrm"+ab();aQ(b)&&!p.forceProxy?b(new aK.Blob([o],{type:n}),l,e):g?(aC(bg).remove(),bg=aC('<div style="display:none;"><iframe name="'+f+'"></iframe></div>').appendTo(az.body),aC('<form action="'+g+'" target="'+f+'" method="POST"><input type="hidden" name="fileName" value="'+l+'"/><input type="hidden" name="contentType" value="'+n+'"/><input type="hidden" name="base64content" value="'+aP.btoa(o)+'"/></form>').appendTo(bg).submit()):aJ("shield.export.saveAs: No proxy url set for older browser support",p.dieOnError)},aK.saveAsNative=aQ(b)}(),ay=bj.extend({init:function(b){this.options=ap(!0,{},b)},getExt:null,getContentType:null,getContent:null,saveAs:function(f){var n=this,o=f.fileName,k=aQ(f.forceExt)?!!f.forceExt:!0,m=n.getExt(),g=!aK.saveAsNative||f.forceProxy?{type:"string"}:{},l=n.getContent(g);return aQ(l)?(o||(o=bh),o+="",!aR(o,m)&&k&&(o+=m),void aK.saveAs({content:l,contentType:n.getContentType(),name:o,proxy:f.proxy,forceProxy:f.forceProxy,noAutoBom:f.noAutoBom,dieOnError:f.dieOnError})):void aJ("shield.export.ExportBase.saveAs: Error generating content",n.options.dieOnError)},destroy:bz}),ao=ay.extend({getExt:function(){return".xml"},getContentType:function(){return"text/xml;charset=utf-8"},getContent:function(p){var X,u=this,U=u.options,H=bf(U.created||new Date),R=U.author,P=U.worksheets||[],I=20,M=[],y=[],Q=aT()+'<?mso-application progid="Excel.Sheet"?><Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40"><DocumentProperties xmlns="urn:schemas-microsoft-com:office:office"><Created>'+H+"</Created>"+(R?"<Author>"+R+"</Author>":"")+'</DocumentProperties><ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"><ProtectStructure>False</ProtectStructure><ProtectWindows>False</ProtectWindows></ExcelWorkbook>';for(X=0;X<P.length;X++){var S,bF,Y,bE,ba,W,bH,aa,V,Z,bG,bI,O=P[X],L=O.name,N=O.columns||[],T=[],v=O.rows||[],m=[];for(bF=0;bF<N.length;bF++){bE=N[bF],T.push("<Column"+(aQ(bE.autoWidth)?' ss:AutoFitWidth="'+an(bE.autoWidth)+'"':"")+(aQ(bE.width)?' ss:Width="'+bE.width+'"':"")+(aQ(bE.index)?' ss:Index="'+bE.index+'"':"")+"/>")}for(bF=0;bF<v.length;bF++){for(ba=v[bF],S=ba.cells||[],W="<Row"+(aQ(ba.height)?' ss:Height="'+ba.height+'"':"")+(aQ(ba.index)?' ss:Index="'+ba.index+'"':"")+">",Y=0;Y<S.length;Y++){bH=S[Y],aa=bH.type,bG=bH.value,bI=bH.style,Z=null,V=aQ(aa)&&!ax(aa)?aa===Date?"DateTime":aa===Number?"Number":aa===Boolean?"Boolean":"String":aq(bG)?"DateTime":ar(bG)?"Number":bw(bG)?"Boolean":"String","DateTime"==V&&(bG=bf(bG)),a0(bI)&&(Z="s"+I++,M.push('<Style ss:ID="'+Z+'"><Alignment'+(bI.textAlign?' ss:Horizontal="'+be(bI.textAlign)+'"':"")+(bI.verticalAlign?' ss:Vertical="'+be(bI.verticalAlign)+'"':"")+(aQ(bI.wrap)?' ss:WrapText="'+an(bI.wrap)+'"':"")+"/>"+(aQ(bI.format)?'<NumberFormat ss:Format="'+aB(bI.format)+'"/>':"")+"<Font"+(aQ(bI.bold)?' ss:Bold="'+an(bI.bold)+'"':"")+(aQ(bI.italic)?' ss:Italic="'+an(bI.italic)+'"':"")+(aQ(bI.color)?' ss:Color="'+bI.color+'"':"")+(aQ(bI.fontName)?' ss:FontName="'+bI.fontName+'"':"")+(aQ(bI.fontSize)?' ss:Size="'+bI.fontSize+'"':"")+"/><Interior"+(aQ(bI.background)?' ss:Color="'+bI.background+'" ss:Pattern="Solid"':"")+"/></Style>")),W+="<Cell"+(Z?' ss:StyleID="'+Z+'"':"")+(aQ(bH.index)?' ss:Index="'+bH.index+'"':"")+(aQ(bH.colSpan)?' ss:MergeAcross="'+bH.colSpan+'"':"")+(aQ(bH.rowSpan)?' ss:MergeDown="'+bH.rowSpan+'"':"")+'><Data ss:Type="'+V+'">'+(aQ(bG)?aB(bG):"")+"</Data></Cell>"}W+="</Row>",m.push(W)}y.push('<Worksheet ss:Name="'+(L?aB(L):"Sheet1")+'"><Table>'+T.join("")+m.join("")+"</Table></Worksheet>")}return Q+='<Styles><Style ss:ID="Default" ss:Name="Normal"><Alignment ss:Vertical="Bottom"/><Borders/><Font/><Interior/><NumberFormat/><Protection/></Style>'+M.join("")+"</Styles>",Q+=y.join(""),Q+="</Workbook>"}}),aV=ay.extend({getExt:function(){return".xlsx"},getContentType:function(){return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},getContent:function(T){var m=this,b3=m.options,bT=b3.dieOnError;if(!aQ(aP.JSZip)){return b3.noLegacyFallback?void aJ("shield.export.OOXMLWorkbook.getContent: No ZIP library found",bT):new ao(b3).getContent()}var H,x,g,bV,c,bR,bU,bP,cd,b1,b7,bY,cc,bZ=bf(b3.created||new Date),K=b3.author,b4=b3.worksheets||[],ce=b4.length,cb=new aP.JSZip,bG=[],bF={},bE=[],bH=100,bL=['<font><sz val="11"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font>'],bN=['<fill><patternFill patternType="none"/></fill>','<fill><patternFill patternType="gray125"/></fill>'],bO=['<xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/>'],h=function(j){var o,n,l,q="";return !j||a9(j).length<=0?aO:(o=by(j),bF[o]?bF[o].cellXfsIndex:(aQ(j.format)&&(bH++,bE.push('<numFmt numFmtId="'+bH+'" formatCode="'+aB(j.format).replace(" ","\\ ")+'"/>'),q+=' numFmtId="'+bH+'" applyNumberFormat="1"'),j.background&&(bN.push('<fill><patternFill patternType="solid"><fgColor rgb="'+aU(j.background)+'"/></patternFill></fill>'),q+=' fillId="'+(bN.length-1)+'" applyFill="1"'),(aQ(j.bold)||aQ(j.color)||aQ(j.fontName)||aQ(j.fontSize)||aQ(j.italic))&&(bL.push("<font>"+(aQ(j.bold)?'<b val="'+!!j.bold+'"/>':"")+(aQ(j.color)?'<color rgb="'+aU(j.color)+'"/>':"")+(aQ(j.fontName)?'<name val="'+j.fontName+'"/>':"")+(aQ(j.fontSize)?'<sz val="'+j.fontSize+'"/>':"")+(aQ(j.italic)?'<i val="'+!!j.italic+'"/>':"")+"</font>"),q+=' fontId="'+(bL.length-1)+'" applyFont="1"'),(aQ(j.textAlign)||aQ(j.verticalAlign)||aQ(j.wrap))&&(n="<alignment"+(aQ(j.textAlign)?' horizontal="'+j.textAlign+'"':"")+(aQ(j.verticalAlign)?' vertical="'+j.verticalAlign+'"':"")+(aQ(j.wrap)?' wrapText="'+!!j.wrap+'"':"")+"/>"),q||n?(l="<xf"+(q?q:"")+(n?">"+n+"</xf>":"/>"),bO.push(l),bF[o]={cellXfsIndex:bO.length-1},bO.length-1):aO))};for(H=aH()+'<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/><Default Extension="xml" ContentType="application/xml"/><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/>'+aD(b4,function(d,e){return'<Override PartName="/xl/worksheets/sheet'+(e+1)+'.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/>'}).join("")+'<Override PartName="/xl/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/><Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/></Types>',x=aH()+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',g=aH()+'<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>'+ce+'</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="'+ce+'" baseType="lpstr">'+aD(b4,function(e,d){return"<vt:lpstr>"+(e.name?aB(e.name):"Sheet"+(d+1))+"</vt:lpstr>"}).join("")+"</vt:vector></TitlesOfParts><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>15.0300</AppVersion></Properties>",bV=aH()+'<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>'+(K?K:"")+'</dc:creator><dcterms:created xsi:type="dcterms:W3CDTF">'+bZ+"</dcterms:created></cp:coreProperties>",c=aH()+'<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x15" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><fileVersion appName="xl" lastEdited="6" lowestEdited="4" rupBuild="14420"/><workbookPr filterPrivacy="1" defaultThemeVersion="124226"/><sheets>'+aD(b4,function(d,e){return'<sheet name="'+(d.name?aB(d.name):"Sheet"+(e+1))+'" sheetId="'+(e+1)+'" r:id="rId'+(e+1)+'"/>'}).join("")+"</sheets></workbook>",bU=aH()+'<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"/>',b1=1,bP=aH()+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">'+aD(b4,function(d,f){var e=b1++;return'<Relationship Id="rId'+e+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet'+e+'.xml"/>'}).join("")+'<Relationship Id="rId'+b1+++'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId'+b1+++'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId'+b1+++'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml"/></Relationships>',cd=aH()+'<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="1F497D"/></a:dk2><a:lt2><a:srgbClr val="EEECE1"/></a:lt2><a:accent1><a:srgbClr val="4F81BD"/></a:accent1><a:accent2><a:srgbClr val="C0504D"/></a:accent2><a:accent3><a:srgbClr val="9BBB59"/></a:accent3><a:accent4><a:srgbClr val="8064A2"/></a:accent4><a:accent5><a:srgbClr val="4BACC6"/></a:accent5><a:accent6><a:srgbClr val="F79646"/></a:accent6><a:hlink><a:srgbClr val="0000FF"/></a:hlink><a:folHlink><a:srgbClr val="800080"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Cambria" panose="020F0302020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/><a:font script="Hang" typeface="맑은 고딕"/><a:font script="Hans" typeface="宋体"/><a:font script="Hant" typeface="新細明體"/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:majorFont><a:minorFont><a:latin typeface="Calibri" panose="020F0502020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/><a:font script="Hang" typeface="맑은 고딕"/><a:font script="Hans" typeface="宋体"/><a:font script="Hant" typeface="新細明體"/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="16200000" scaled="1"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:shade val="51000"/><a:satMod val="130000"/></a:schemeClr></a:gs><a:gs pos="80000"><a:schemeClr val="phClr"><a:shade val="93000"/><a:satMod val="130000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="94000"/><a:satMod val="135000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="16200000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst><a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d><a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/></a:theme>',b7=0;b7<b4.length;b7++){var w,v=b4[b7],u=v.columns||[],p=u.length,k=v.rows||[],bS=k.length,bK="",bM=[],Y=[];for(bY=0;bS>bY;bY++){var b5=k[bY],bQ=[],b=b5.cells||[],bX=b.length;for(cc=0;bX>cc;cc++){var b6,bI,bJ,b0=b[cc],b2=b0.type,b8=b0.value,bW=ap({},b0.style||{});aQ(b2)&&!ax(b2)?b2===Date?(b6=aO,b8=aZ(b8),bW.format||(bW.format="m/d/yyyy hh:mm")):b6=b2===Number?aO:b2===Boolean?"b":"inlineStr":aq(b8)?(b6=aO,b8=aZ(b8),bW.format||(bW.format="m/d/yyyy hh:mm")):b6=ar(b8)?aO:bw(b8)?"b":"inlineStr",bI=h(bW),bJ=(b8+"").length,(!aQ(bM[cc])||bM[cc]<bJ)&&(bM[cc]=bJ),bQ.push("<c"+(aQ(b0.index)?' r="'+bd(aQ(b5.index)?b5.index:bY+1,b0.index)+'"':"")+(aQ(b6)?' t="'+b6+'"':"")+(aQ(bI)?' s="'+bI+'"':"")+">"+("inlineStr"==b6?"<is><t>"+aB(b8)+"</t></is>":"<v>"+b8+"</v>")+"</c>")}Y.push("<row"+(aQ(b5.index)?' r="'+b5.index+'"':"")+(aQ(b5.height)?' ht="'+b5.height+'" customHeight="1"':"")+">"+bQ.join("")+"</row>")}if(p>0){for(bK="<cols>",cc=0;p>cc;cc++){var b9=u[cc];bK+="<col"+(aQ(b9.index)?' min="'+b9.index+'" max="'+b9.index+'"':' min="'+(cc+1)+'" max="'+(cc+1)+'"')+(aQ(b9.width)?' width="'+bC(b9.width)+'"':"")+(b9.autoWidth!==!0&&aQ(b9.width)?"":' width="'+bv(bM[cc])+'"')+(b9.autoWidth===!0?' bestFit="1"':"")+(aQ(b9.autoWidth)||aQ(b9.width)?' customWidth="1"':"")+"/>"}bK+="</cols>"}w=aH()+'<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><dimension ref="A1"/><sheetViews><sheetView tabSelected="1" workbookViewId="0"/></sheetViews><sheetFormatPr defaultRowHeight="15" x14ac:dyDescent="0.25"/>'+bK+"<sheetData>"+Y.join("")+'</sheetData><pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3"/></worksheet>',bG.push(w)}for(bR=aH()+'<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="'+bE.length+'">'+bE.join("")+'</numFmts><fonts count="'+bL.length+'" x14ac:knownFonts="1">'+bL.join("")+'</fonts><fills count="'+bN.length+'">'+bN.join("")+'</fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs><cellXfs count="'+bO.length+'">'+bO.join("")+'</cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles><dxfs count="0"/><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleMedium9"/><extLst><ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"><x14:slicerStyles defaultSlicerStyle="SlicerStyleLight1"/></ext><ext uri="{9260A510-F301-46a8-8635-F512D64BE5F5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:timelineStyles defaultTimelineStyle="TimeSlicerStyleLight1"/></ext></extLst></styleSheet>',cb.file("[Content_Types].xml",H),cb.file("_rels/.rels",x),cb.file("docProps/app.xml",g),cb.file("docProps/core.xml",bV),cb.file("xl/workbook.xml",c),cb.file("xl/styles.xml",bR),cb.file("xl/sharedStrings.xml",bU),cb.file("xl/_rels/workbook.xml.rels",bP),cb.file("xl/theme/theme1.xml",cd),b7=0;b7<bG.length;b7++){cb.file("xl/worksheets/sheet"+(b7+1)+".xml",bG[b7])}return T&&"string"!=T.type&&aP.JSZip.support.uint8array?cb.generate({type:"uint8array"}):cb.generate({type:"string"})},saveAs:function(f){var b=this,g=b.options;return aQ(aP.JSZip)?ay.fn.saveAs.call(this,f):g.noLegacyFallback?void aJ("shield.export.OOXMLWorkbook.saveAs: No ZIP library found",g.dieOnError):new ao(g).saveAs(f)}}),aW={unit:bn,textColor:"0 g",drawColor:"0 G",fontSize:12,lineHeight:1.15,lineWidth:0.200025,producer:"ShieldUI PDF Builder",created:new Date},a6=ay.extend({_version:"1.3",_formats:{a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"credit-card":[153,243]},_documentProps:["title","subject","author","keywords","creator"],_capJoinStyles:{0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_noMargins:{left:0,top:0,bottom:0},init:function(f){this.options=ap(!0,aW,f,{});var e=this,c=e.options;c.dieOnError;e._scaleFactor=e._getScaleFactor(),e._fontSize=c.fontSize,e._textColor=c.textColor,e._objectNumber=2,e._printToDoc=!0,e._offsets=[],e._fonts={},e._fontmap={},e._pages=[],e._pagesContext=[],e._pageDim=[],e._content=[],e._additionalObjects=[],e._page=e._lineCapID=e._lineJoinID=e._contentLength=0,e._fontKey=e._tmp=e._currentPage=e._pageWidth=e._pageHeight=e._pageMode=e._zoomMode=e._layoutMode=aO,e._cellPadding=3,e._cellMargin=13,e._lastCellPos={x:aO,y:aO,w:aO,h:aO,ln:aO},e._cellHeaderFunction=e._tablePrintHeader=e._cellMargins=e._cellTableHeaderRow=e._cellPrintingHeaderRow=e._tableFontSize=aO,e._cellPages=1,e.addFonts(),e._fontKey="F1"},getExt:function(){return".pdf"},getContentType:function(){return"application/pdf"},getContent:function(d){var c=this;return d&&"string"!=d.type?c._getArrayBuffer():c._build()},_toString:function(b){return(""+b).toLowerCase()},_getScaleFactor:function(){var d=this,c=d.options.unit;switch(c){case bn:return 1;case aG:return 72/25.4000508;case aN:return 72/2.54000508;case ai:return 72;case bp:return 96/72;case bl:return 12;case al:return 12;case ag:return 6;default:return void aJ("shieldExport: Invalid measurement unit: "+c,d.options.dieOnError)}},_setNumberPrecision:function(d,c){return d.toFixed(c)},_setPadding:function(e,d,f){return("0"+parseInt(e,d)).slice(-f)},_write:function(c){var d=this;d._printToDoc?(d._contentLength+=c.length+1,d._content.push(c)):d._pages[d._currentPage].push(c)},_createObject:function(){var b=this;return b._objectNumber++,b._offsets[b._objectNumber]=b._contentLength,b._write(b._objectNumber+" 0 obj"),b._objectNumber},_createAdditionalObject:function(){var e=this,f=2*e._pages.length+1+e._additionalObjects.length,d={objId:f,content:""};return e._additionalObjects.push(d),d},_createObjectDeferred:function(){var b=this;return b._objectNumber++,b._offsets[b._objectNumber]=function(){return b._contentLength},b._objectNumber},_createObjectDeferredBegin:function(c){var d=this;d._offsets[c]=d._contentLength},_writeStream:function(c){var d=this;d._write("stream"),d._write(c),d._write("endstream")},_writePages:function(){var s,q,l,r,o,n,p,t=this,k=(t.options,!1),m=(t._pages,t._pageDim);for(s=1;s<=t._page;s++){t._createObject(),o=(t._pageWidth=m[s].width)*t._scaleFactor,n=(t._pageHeight=m[s].height)*t._scaleFactor,t._write("<</Type /Page"),t._write("/Parent 1 0 R"),t._write("/Resources 2 0 R"),t._write("/MediaBox [0 0 "+t._setNumberPrecision(o,2)+" "+t._setNumberPrecision(n,2)+"]"),t._write("/Contents "+(t._objectNumber+1)+" 0 R"),t._write(">>"),t._write("endobj"),q=t._pages[s].join("\n"),t._createObject(),k?(l=[],r=q.length):t._write("<</Length "+q.length+">>"),t._writeStream(q),t._write("endobj")}for(t._offsets[1]=t._contentLength,t._write("1 0 obj"),t._write("<</Type /Pages"),p="/Kids [",r=0;r<t._page;r++){p+=3+2*r+" 0 R "}t._write(p+"]"),t._write("/Count "+t._page),t._write(">>"),t._write("endobj")},_writeFont:function(c){var d=this;c.objectNumber=d._createObject(),d._write("<</BaseFont/"+c.PostScriptName+"/Type/Font"),"string"==typeof c.encoding&&d._write("/Encoding/"+c.encoding),d._write("/Subtype/Type1>>"),d._write("endobj")},_writeFonts:function(){var d=this,e=d._fonts;for(var f in e){e.hasOwnProperty(f)&&d._writeFont(e[f])}},_writeXObjectDictionary:function(){},_writeResourceDictionary:function(){var d,e=this,f=e._fonts;e._write("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),e._write("/Font <<");for(d in f){f.hasOwnProperty(d)&&e._write("/"+d+" "+f[d].objectNumber+" 0 R")}e._write(">>"),e._write("/XObject <<"),e._writeXObjectDictionary(),e._write(">>")},_writeResources:function(){var d=this,c=d._offsets;d._writeFonts(),c[2]=d._contentLength,d._write("2 0 obj"),d._write("<<"),d._writeResourceDictionary(),d._write(">>"),d._write("endobj")},_writeAdditionalObjects:function(){var f,k,g=this,h=g._offsets,j=g._additionalObjects;for(k=0;k<j.length;k++){f=j[k],h[f.objId]=g._contentLength,g._write(f.objId+" 0 obj"),g._write(f.content),g._write("endobj")}g._objectNumber+=j.length},_writeToFontDictionary:function(h,f,g){var e=this;e._fontmap.hasOwnProperty(f)||(e._fontmap[f]={}),e._fontmap[f][g]=h},_to8bitStream:function(z,u){var g,A,r,y,t,d,v,s,B,c=this,x=c._fonts,w=c._fontKey;if(u=u||{},g=u.sourceEncoding||"Unicode",A=u.outputEncoding,(u.autoencode||A)&&x[w].metadata&&x[w].metadata[g]&&x[w].metadata[g].encoding&&(r=x[w].metadata[g].encoding,!A&&x[w].encoding&&(A=x[w].encoding),!A&&r.codePages&&(A=r.codePages[0]),aM(A)&&(A=r[A]),A)){for(t=!1,y=[],B=0,s=z.length;s>B;B++){v=A[z.charCodeAt(B)],v?y.push(String.fromCharCode(v)):y.push(z[B]),y[B].charCodeAt(0)>>8&&(t=!0)}z=y.join("")}for(B=z.length;void 0===t&&0!==B;){z.charCodeAt(B-1)>>8&&(t=!0),B--}if(!t){return z}for(y=u.noBOM?[]:[254,255],B=0,s=z.length;s>B;B++){if(v=z.charCodeAt(B),d=v>>8,d>>8){return void aJ("shieldExport: Character at position "+B+" of string '"+z+"' exceeds 16bits. Cannot be encoded into UCS-2 BE",c.options.dieOnError)}y.push(d),y.push(v-(d<<8))}return String.fromCharCode.apply(aO,y)},_escape:function(d,c){return this._to8bitStream(d,c).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_writeInfo:function(){var B,z,s,t,u,v,w,x,A,C=this,y=C.options,r=y.producer,p=y.created,q=C._documentProps;for(aQ(r)&&C._write("/Producer ("+r+")"),A=0;A<q.length;A++){w=q[A],x=y[w],x&&C._write("/"+be(w)+" ("+C._escape(x)+")")}B=aY(p),z=B.getTimezoneOffset(),s=0>z?"+":"-",t=Math.floor(Math.abs(z/60)),u=Math.abs(z%60),v=[s,C._setPadding(t,10,2),"'",C._setPadding(u,10,2),"'"].join(""),C._write(["/CreationDate (D:",B.getFullYear(),C._setPadding(B.getMonth()+1,10,2),C._setPadding(B.getDate(),10,2),C._setPadding(B.getHours(),10,2),C._setPadding(B.getMinutes(),10,2),C._setPadding(B.getSeconds(),10,2),v,")"].join(""))},_writeCatalog:function(){var c,d=this;switch(d._write("/Type /Catalog"),d._write("/Pages 1 0 R"),d._zoomMode||(d._zoomMode="fullwidth"),d._zoomMode){case"fullwidth":d._write("/OpenAction [3 0 R /FitH null]");break;case"fullheight":d._write("/OpenAction [3 0 R /FitV null]");break;case"fullpage":d._write("/OpenAction [3 0 R /Fit]");break;case"original":d._write("/OpenAction [3 0 R /XYZ null null 1]");break;default:c=""+d._zoomMode,"%"===c.substr(c.length-1)&&(d._zoomMode=parseInt(d._zoomMode,10)/100),ar(d._zoomMode)&&d._write("/OpenAction [3 0 R /XYZ null null "+d._setNumberPrecision(d._zoomMode,2)+"]")}switch(d._layoutMode||(d._layoutMode="continuous"),d._layoutMode){case"continuous":d._write("/PageLayout /OneColumn");break;case"single":d._write("/PageLayout /SinglePage");break;case"two":case"twoleft":d._write("/PageLayout /TwoColumnLeft");break;case"tworight":d._write("/PageLayout /TwoColumnRight")}d._pageMode&&d._write("/PageMode /"+d._pageMode)},_writeTrailer:function(){var d=this,c=d._objectNumber;d._write("/Size "+(c+1)),d._write("/Root "+c+" 0 R"),d._write("/Info "+(c-1)+" 0 R")},addFont:function(m,o,n,l){var k,h=this,j="F"+(a9(h._fonts).length+1).toString(10);return k=h._fonts[j]={id:j,PostScriptName:m,fontName:o,fontStyle:n,encoding:l,metadata:{}},h._writeToFontDictionary(j,o,n),j},addFonts:function(){var n,o,j,m,l=this,k="StandardEncoding",h=[["Helvetica",at,av],["Helvetica-Bold",at,am],["Helvetica-Oblique",at,bk],["Helvetica-BoldOblique",at,bi],["Courier",au,av],["Courier-Bold",au,am],["Courier-Oblique",au,bk],["Courier-BoldOblique",au,bi],["Times-Roman",aE,av],["Times-Bold",aE,am],["Times-Italic",aE,bk],["Times-BoldItalic",aE,bi]];for(j=0,m=h.length;m>j;j++){n=l.addFont(h[j][0],h[j][1],h[j][2],k),o=h[j][0].split("-"),l._writeToFontDictionary(n,o[0],o[1]||"")}},getActiveFontObj:function(){var f=this,e=f._fonts,c=f._fontKey;return e&&c&&e[c]?e[c]:aO},getFontObj:function(j,h){var k=this,g=k._fonts,c=k.getFont(j,h);return g&&c&&g[c]?g[c]:aO},getFont:function(c,o){var n,m=this,k=m._fonts,l=m._fontmap;switch(c=aQ(c)?c:k[m._fontKey].fontName,o=aQ(o)?o:m._fontKey?k[m._fontKey].fontStyle:aO,aQ(c)&&(c=c.toLowerCase()),o){case bA:case aj:case aI:c=at;break;case ae:case br:case aA:c=au;break;case a4:case ah:case ac:c=aE;break;default:c=aE}try{n=l[c][o]}catch(j){}return n||(n=l[aE][o],null==n&&(n=l[aE][av])),n},_setPage:function(e){var d=this,f=d._pageDim;e>0&&e<=d._page&&(d._currentPage=e,d._pageWidth=f[e].width,d._pageHeight=f[e].height)},_beginPage:function(q,p){var n,r=this,m=r._formats,l=r._pages,k=r._pageDim,d=r._pagesContext,o=aM(p)&&p.toLowerCase();if(aM(q)&&(n=q.toLowerCase(),m.hasOwnProperty(n)&&(q=m[n][0]/r._scaleFactor,p=m[n][1]/r._scaleFactor)),aw(q)&&(p=q[1],q=q[0]),o){switch(o.substr(0,1)){case bs:p>q&&(o="s");break;case bc:q>p&&(o="s")}"s"===o&&(r._tmp=q,q=p,p=r._tmp)}r._printToDoc=!1,r._page++,l[r._page]=[],k[r._page]={width:Number(q)||r._pageWidth,height:Number(p)||r._pageHeight},d[r._page]={},r._setPage(r._page)},addPage:function(){var f=this,e=f.options,h=e.drawColor,g=e.lineWidth;f._beginPage.apply(f,arguments),f._write(f._setNumberPrecision(g*f._scaleFactor,2)+" w"),f._write(h),0!==f._lineCapID&&f._write(f._lineCapID+" J"),0!==f._lineJoinID&&f._write(f._lineJoinID+" j")},deletePage:function(e){var f=this,h=f._pages,g=f._pageDim;e>0&&e<=f._page&&(h.splice(e,1),g.splice(e,1),f._page--,f._currentPage>f._page&&(f._currentPage=f._page),f._setPage(f._currentPage))},getFontSize:function(){var b=this;return b._fontSize},getLineHeight:function(){var b=this;return b.getFontSize()*b.options.lineHeight},getCoordinateString:function(c){var d=this;return d._setNumberPrecision(c*d._scaleFactor,2)},getVerticalCoordinateString:function(c){var d=this;return d._setNumberPrecision((d._pageHeight-c)*d._scaleFactor,2)},getPageSize:function(){var b=this;return{width:b._pageWidth,height:b._pageHeight}},getNumberOfPages:function(){var b=this;return b._pages.length-1},getPages:function(){var b=this;return b._pages},getPageInfo:function(e){var d=this,f=2*(e-1)+3;return{objId:f,pageNumber:e,pageContext:d._pagesContext[e]}},getCurrentPageInfo:function(){return this.getPageInfo(this._currentPage)},movePage:function(r,s){var m,l,k,t,n=this,q=n._pages,p=n._pageDim,o=n._pagesContext;if(r>s){for(m=q[r],l=p[r],k=o[r],t=r;t>s;t--){q[t]=q[t-1],p[t]=p[t-1],o[t]=o[t-1]}q[s]=m,p[s]=l,o[s]=k,n._setPage(s)}else{if(s>r){for(m=q[r],l=p[r],k=o[r],t=r;s>t;t++){q[t]=q[t+1],p[t]=p[t+1],o[t]=o[t+1]}q[s]=m,p[s]=l,o[s]=k,n._setPage(s)}}return n},insertPage:function(){var e=this,d=[].slice.call(arguments),f=d.shift();return e.addPage.apply(e,d),e.movePage(e._currentPage,f),e},setDisplayMode:function(e,h,g){var f=this;return f._zoomMode=e,f._layoutMode=h,f._pageMode=g,f},_ESC:function(f,h){var e=this,g=e.options;return f=f.split("	").join(new Array(g.TabLen||9).join(" ")),e._escape(f,h)},text:function(Z,W,k,Y,X,T){var g,J,H,u,V,U,S,G,P,d,N,L,K,R,aa=this,O="",M="Td",F="",Q=aa.getCurrentPageInfo().pageContext,I=aa.getLineHeight();if(aM(Z)&&(Z=Z.match(/[\n\r]/)?Z.split(/\r\n|\r|\n/g):[Z]),aM(X)&&(T=X,X=null),aM(Y)&&(T=Y,Y=null),ar(Y)&&(X=Y,Y=null),X&&(X*=Math.PI/180,J=Math.cos(X),H=Math.sin(X),O=[aa._setNumberPrecision(J,2),aa._setNumberPrecision(H,2),aa._setNumberPrecision(-1*H,2),aa._setNumberPrecision(J,2),""].join(" "),M="Tm"),Y=Y||{},"noBOM" in Y||(Y.noBOM=!0),"autoencode" in Y||(Y.autoencode=!0),Y.stroke===!0?Q.lastTextWasStroke!==!0&&(F="1 Tr\n",Q.lastTextWasStroke=!0):(Q.lastTextWasStroke&&(F="0 Tr\n"),Q.lastTextWasStroke=!1),aQ(aa._runningPageHeight)||(aa._runningPageHeight=0),aM(Z)){Z=aa._ESC(Z,Y)}else{if(!(Z instanceof Array)){return void aJ('Type of text must be string or Array. "'+Z+'" is not recognized.',aa.options.dieOnError)}for(u=Z.concat(),V=[],S=u.length;S--;){V.push(aa._ESC(u.shift(),Y))}if(G=Math.ceil((aa._pageHeight-k-aa._runningPageHeight)*aa._scaleFactor/aa.getLineHeight()),T){if(R=aD(Z,function(b){return aa._getStringWidth(b)*aa.getFontSize()/aa._scaleFactor}),K=Math.max.apply(Math,R),T===ad){P=W-K/2,W-=R[0]/2}else{if("right"!==T){return void aJ('Unrecognized alignment option, use "center" or "right".',aa.options.dieOnError)}P=W-K,W-=R[0]}for(d=W,Z=V[0]+") Tj\n",U=1,S=V.length;S>U;U++){N=K-R[U],"center"===T&&(N/=2),Z+=P-d+N+" -"+I+" Td ("+V[U],d=P+N,S-1>U&&(Z+=") Tj\n")}}else{Z=V.join(") Tj\nT* (")}}return g||(L=aa._setNumberPrecision((aa._pageHeight-k)*aa._scaleFactor,2)),aa._write("BT\n/"+aa._fontKey+" "+aa.getFontSize()+" Tf\n"+aa.getLineHeight()+" TL\n"+F+aa._textColor+"\n"+O+aa._setNumberPrecision(W*aa._scaleFactor,2)+" "+L+" "+M+"\n("+Z+") Tj\nET"),g&&aa.text(g,W,k),aa},lstext:function(h,o,m,l){var j,n,k=this;for(j=0,n=h.length;n>j;j++,o+=l){k.text(h[j],o,m)}},line:function(f,e,h,g){return this.lines([[h-f,g-e]],f,e)},clip:function(){var b=this;b._write("W"),b._write("S")},lines:function(F,C,z,A,u,s){var D,E,B,x,I,t,y,w,v,G,H,J=this;for(ar(F)&&(J._tmp=z,z=C,C=F,F=J._tmp),A=A||[1,1],J._write(J._setNumberPrecision(C*J._scaleFactor,3)+" "+J._setNumberPrecision((J._pageHeight-z)*J._scaleFactor,3)+" m "),D=A[0],E=A[1],x=F.length,G=C,H=z,B=0;x>B;B++){I=F[B],2===I.length?(G=I[0]*D+G,H=I[1]*E+H,J._write(J._setNumberPrecision(G*J._scaleFactor,3)+" "+J._setNumberPrecision((J._pageHeight-H)*J._scaleFactor,3)+" l")):(t=I[0]*D+G,y=I[1]*E+H,w=I[2]*D+G,v=I[3]*E+H,G=I[4]*D+G,H=I[5]*E+H,J._write(J._setNumberPrecision(t*J._scaleFactor,3)+" "+J._setNumberPrecision((J._pageHeight-y)*J._scaleFactor,3)+" "+J._setNumberPrecision(w*J._scaleFactor,3)+" "+J._setNumberPrecision((J._pageHeight-v)*J._scaleFactor)+" "+J._setNumberPrecision(G*J._scaleFactor)+" "+J._setNumberPrecision((J._pageHeight-H)*J._scaleFactor)+" c"))}return s&&J._write(" h"),null!==u&&J._write(J.getStyle(u)),J},rect:function(m,l,k,j,g){var h=this;h.getStyle(g);return h._write([h._setNumberPrecision(m*h._scaleFactor,2),h._setNumberPrecision((h._pageHeight-l)*h._scaleFactor,2),h._setNumberPrecision(k*h._scaleFactor,2),h._setNumberPrecision(-j*h._scaleFactor,2),"re"].join(" ")),null!==g&&h._write(h.getStyle(g)),h},triangle:function(k,j,q,p,o,n,l){var m=this;return m.lines([[q-k,p-j],[o-q,n-p],[k-o,j-n]],k,j,[1,1],l,!0),m},roundedRect:function(l,k,o,n,r,q,j){var m=this,p=4/3*(Math.SQRT2-1);return m.lines([[o-2*r,0],[r*p,0,r,q-q*p,r,q],[0,n-2*q],[0,q*p,-(r*p),q,-r,q],[-o+2*r,0],[-(r*p),0,-r,-(q*p),-r,-q],[0,-n+2*q],[0,-(q*p),r*p,-q,r,-q]],l+r,k,[1,1],j),m},ellipse:function(j,q,p,o,l){var k=this,n=4/3*(Math.SQRT2-1)*p,m=4/3*(Math.SQRT2-1)*o;return k._write([k._setNumberPrecision((j+p)*k._scaleFactor,2),k._setNumberPrecision((k._pageHeight-q)*k._scaleFactor,2),"m",k._setNumberPrecision((j+p)*k._scaleFactor,2),k._setNumberPrecision((k._pageHeight-(q-m))*k._scaleFactor,2),k._setNumberPrecision((j+n)*k._scaleFactor,2),k._setNumberPrecision((k._pageHeight-(q-o))*k._scaleFactor,2),k._setNumberPrecision(j*k._scaleFactor,2),k._setNumberPrecision((k._pageHeight-(q-o))*k._scaleFactor,2),"c"].join(" ")),k._write([k._setNumberPrecision((j-n)*k._scaleFactor,2),k._setNumberPrecision((k._pageHeight-(q-o))*k._scaleFactor,2),k._setNumberPrecision((j-p)*k._scaleFactor,2),k._setNumberPrecision((k._pageHeight-(q-m))*k._scaleFactor,2),k._setNumberPrecision((j-p)*k._scaleFactor,2),k._setNumberPrecision((k._pageHeight-q)*k._scaleFactor,2),"c"].join(" ")),k._write([k._setNumberPrecision((j-p)*k._scaleFactor,2),k._setNumberPrecision((k._pageHeight-(q+m))*k._scaleFactor,2),k._setNumberPrecision((j-n)*k._scaleFactor,2),k._setNumberPrecision((k._pageHeight-(q+o))*k._scaleFactor,2),k._setNumberPrecision(j*k._scaleFactor,2),k._setNumberPrecision((k._pageHeight-(q+o))*k._scaleFactor,2),"c"].join(" ")),k._write([k._setNumberPrecision((j+n)*k._scaleFactor,2),k._setNumberPrecision((k._pageHeight-(q+o))*k._scaleFactor,2),k._setNumberPrecision((j+p)*k._scaleFactor,2),k._setNumberPrecision((k._pageHeight-(q+m))*k._scaleFactor,2),k._setNumberPrecision((j+p)*k._scaleFactor,2),k._setNumberPrecision((k._pageHeight-q)*k._scaleFactor,2),"c"].join(" ")),null!==l&&k._write(k.getStyle(l)),k},circle:function(f,k,g,j){var h=this;return h.ellipse(f,k,g,g,j)},setFontSize:function(c){var d=this;return d._fontSize=c,d},setFont:function(d,f){var e=this;return e._fontKey=e.getFont(d,f),e},setFontStyle:function(c){var d=this;return d._fontKey=d.getFont(aO,c),d},getFontList:function(){var h,m,l,j=this,k={},g=j._fontmap;for(h in g){if(g.hasOwnProperty(h)){k[h]=l=[];for(m in g[h]){g[h].hasOwnProperty(m)&&l.push(m)}}}return k},addFontScriptName:function(f,e,h){var g=this;g.addFont(f,e,h,"StandardEncoding")},setLineWidth:function(c){var d=this;return d._write((c*d._scaleFactor).toFixed(2)+" w"),d},setDrawColor:function(d,m,l,k){var j,n=this;return j=!aQ(m)||!aQ(k)&&d===m===l?aM(d)?d+" G":n._setNumberPrecision(d/255,2)+" G":aQ(k)?aM(d)?[d,m,l,k,"K"].join(" "):[n._setNumberPrecision(d,2),n._setNumberPrecision(m,2),n._setNumberPrecision(l,2),n._setNumberPrecision(k,2),"K"].join(" "):aM(d)?[d,m,l,aX].join(" "):[n._setNumberPrecision(d/255,2),n._setNumberPrecision(m/255,2),n._setNumberPrecision(l/255,2),aX].join(" "),n._write(j),n},setFillColor:function(d,l,k,m){var j,n=this;return !aQ(l)||!aQ(m)&&d===l===k?j=aM(d)?d+" g":n._setNumberPrecision(d/255,2)+" g":!aQ(m)||a0(m)?(j=aM(d)?[d,l,k,"rg"].join(" "):[n._setNumberPrecision(d/255,2),n._setNumberPrecision(l/255,2),n._setNumberPrecision(k/255,2),"rg"].join(" "),m&&0===m.a&&(j=["255","255","255","rg"].join(" "))):j=aM(d)?[d,l,k,m,"k"].join(" "):[n._setNumberPrecision(d,2),n._setNumberPrecision(l,2),n._setNumberPrecision(k,2),n._setNumberPrecision(m,2),"k"].join(" "),n._write(j),n},setTextColor:function(d,k,h){var j,l=this;return aM(d)&&/^#[0-9A-Fa-f]{6}$/.test(d)&&(j=parseInt(d.substr(1),16),d=j>>16&255,k=j>>8&255,h=255&j),0===d&&0===k&&0===h||!aQ(k)?l._textColor=l._setNumberPrecision(d/255,3)+" g":l._textColor=[l._setNumberPrecision(d/255,3),l._setNumberPrecision(k/255,3),l._setNumberPrecision(h/255,3),"rg"].join(" "),l},_build:function(){var j,k,h,f,g=this;for(g._printToDoc=!0,g._objectNumber=2,g._write("%PDF-"+g._version),g._writePages(),g._writeAdditionalObjects(),g._writeResources(),g._createObject(),g._write("<<"),g._writeInfo(),g._write(">>"),g._write("endobj"),g._createObject(),g._write("<<"),g._writeCatalog(),g._write(">>"),g._write("endobj"),j=g._contentLength,k="0000000000",g._write("xref"),g._write("0 "+(g._objectNumber+1)),g._write(k+" 65535 f "),f=1;f<=g._objectNumber;f++){h=g._offsets[f],a3(h)?g._write((k+g._offsets[f]()).slice(-10)+" 00000 n "):g._write((k+g._offsets[f]).slice(-10)+" 00000 n ")}return g._write("trailer"),g._write("<<"),g._writeTrailer(),g._write(">>"),g._write("startxref"),g._write(j),g._write("%%EOF"),g._printToDoc=!1,g._content.join("\n")},getStyle:function(d){var c=bu;return d===bo?c=bo.toLowerCase():d===a2||d===ak?c=af:(d===bo.toLowerCase()||d===bD||d===bB||d===bx)&&(c=d),c},_getArrayBuffer:function(){for(var j=this,f=j._build(),g=f.length,k=new ArrayBuffer(g),h=new Uint8Array(k);g--;){h[g]=f.charCodeAt(g)}return k},_getCharWidths:function(w,s){var C,x,D,q=this,B=s||{},y=q.getActiveFontObj(),z=B.widths?B.widths:y.metadata.Unicode.widths,u=z.fof?z.fof:1,A=B.kerning?B.kerning:y.metadata.Unicode.kerning,r=A.fof?A.fof:1,v=0,p=z[0]||u,t=[];for(C=0,x=w.length;x>C;C++){D=w.charCodeAt(C),t.push((z[D]||p)/u+(A[D]&&A[D][v]||0)/r),v=D}return t},_sum:function(d){for(var e=d.length,f=0;e;){e--,f+=d[e]}return f},_getStringWidth:function(d,f){var e=this;return e._sum(e._getCharWidths.call(e,d,f))},_getTextDimensions:function(p){var o,r,q=this,n=q.getActiveFontObj(),l=n.fontName,k=q._tableFontSize||q.getFontSize(),m=n.fontStyle;r=az.createElement("font");try{r.style.fontStyle=m}catch(j){r.style.fontWeight=m}r.style.fontName=l,r.style.fontSize=k+bn;try{r.textContent=p}catch(j){r.innerText=p}return az.body.appendChild(r),o={w:(r.offsetWidth+1)*a1,h:(r.offsetHeight+1)*a1},az.body.removeChild(r),o},_setLastCellPosition:function(g,f,k,j,h){this._lastCellPos={x:g,y:f,w:k,h:j,ln:h}},_getLastCellPosition:function(){return this._lastCellPos},_cellAddPage:function(){var d=this,c=d._cellMargins||d._noMargins;d.addPage(),d._setLastCellPosition(c.left,c.top),d._cellPages++},_setTableHeaderConfig:function(b){this._cellTableHeaderRow=b},_splitWord:function(o,n,k,j){for(var p,m=[],r=0,l=o.length,q=0;r!==l&&q+n[r]<k;){q+=n[r],r++}for(m.push(o.slice(0,r)),p=r,q=0;r!==l;){q+n[r]>j&&(m.push(o.slice(p,r)),q=0,p=r),q+=n[r],r++}return p!==r&&m.push(o.slice(p,r)),m},_splitParagraph:function(y,E,x){var R,I,F,A,L,M=this,N=x||{},Q=[],D=[Q],G=N.textIndent||0,K=0,P=0,J=y.split(" "),C=M._getCharWidths(" ",N)[0],O=-1===N.lineIndent?J[0].length+2:N.lineIndent||0;if(O){var B=new Array(O).join(" "),H=[];bq(J,function(c,d){d=d.split(/\s*\n/),d.length>1?H=H.concat(aD(d,function(f,e){return(e&&f.length?"\n":"")+f})):H.push(d[0])}),J=H,O=M._getStringWidth(B,N)}for(F=0,A=J.length;A>F;F++){var z=0;if(R=J[F],O&&"\n"==R[0]&&(R=R.substr(1),z=1),I=M._getCharWidths(R,N),P=M._sum(I),G+K+P>E||z){if(P>E){for(L=M._splitWord(R,I,E-(G+K),E),Q.push(L.shift()),Q=[L.pop()];L.length;){D.push([L.shift()])}P=M._sum(I.slice(R.length-Q[0].length))}else{Q=[R]}D.push(Q),G=P+O,K=C}else{Q.push(R),G+=K+P,K=C}}var k=O?function(d,c){return(c?B:"")+d.join(" ")}:function(b){return b.join(" ")};return aD(D,k)},_splitText:function(y,o,n){var t,s,w,p,z=this,x=n||{},r=aw(y)?y.join(" "):y,q=z._getTextDimensions(r).w/r.length,u=[],v=function(g){var l,k,j={0:1},h={};return g.widths&&g.kerning?{widths:g.widths,kerning:g.kerning}:(l=z.getFontObj(g.fontName,g.fontStyle)||z.getActiveFontObj(),k="Unicode",l.metadata[k]?{widths:l.metadata[k].widths||j,kerning:l.metadata[k].kerning||h}:{widths:j,kerning:h})}.call(z,x);for(t=aw(y)?y:y.split(/\r?\n/),s=1*z._scaleFactor*o/q,v.textIndent=x.textIndent?1*x.textIndent*z._scaleFactor/q:0,v.lineIndent=x.lineIndent,w=0,p=t.length;p>w;w++){u=u.concat(z._splitParagraph(t[w],s,v))}return u},_getLineHeight:function(n,l,r){var t,u,s,q,p=this,o=0,m=p._cellPadding;for(s=0;s<n.length;s++){t=n[s],u=r[t],aw(u)||(!aQ(u)||ax(u)?u="":u+=""),r[t]=p._splitText(u,l[t]-m),q=p.getLineHeight()*r[t].length+1.6*m,q>o&&(o=q)}return o},_cell:function(A,B,y,x,D,u,r){var v,w,t,z,E=this,C=E._getLastCellPosition(),q=E._cellMargins||E._noMargins,s=E._cellPadding;if(aQ(C.ln)&&(C.ln===u?(A=C.x+C.w,B=C.y):(C.y+C.h+x+E._cellMargin>=E._pageHeight-q.bottom&&(E._cellAddPage(),E._tablePrintHeader&&E._cellTableHeaderRow&&E._renderHeader(u,!0)),v=E._getLastCellPosition(),B=v.y+(v.h||0))),aQ(D[0])){if(E._cellPrintingHeaderRow?E.rect(A,B,y,x,a2):E.rect(A,B,y,x),"right"===r){for(aw(D)||(D=[D]),z=0;z<D.length;z++){w=D[z],t=E._getStringWidth(w)*E.getFontSize(),E.text(w,A+y-t-s,B+E.getLineHeight()*(z+1))}}else{E.text(D,A+s,B+E.getLineHeight())}}return E._setLastCellPosition(A,B,y,x,u),E},_renderHeader:function(l,g){var q,n,p,m,r,s=this,o=[];if(!s._cellTableHeaderRow){return void aJ("shieldExport: No table header configuration",s.options.dieOnError)}for(s._cellPrintingHeaderRow=!0,aQ(s._cellHeaderFunction)&&(r=s._cellHeaderFunction.call(s,s._cellPages),s._setLastCellPosition(r[0],r[1],r[2],r[3],-1)),s.setFontStyle(am),p=0,m=s._cellTableHeaderRow.length;m>p;p++){s.setFillColor(236,237,238),q=s._cellTableHeaderRow[p],g&&(q[1]=s._cellMargins&&s._cellMargins.top||0,o.push(q)),n=[].concat(q),s._cell.apply(s,n.concat(l))}o.length>0&&s._setTableHeaderConfig(o),s.setFontStyle(av),s._cellPrintingHeaderRow=!1},table:function(g,S,K,X,U){var aa,bE,W,c,N,J,M,Y,L,Q,P,R,ba=this,d=ba._cellPadding,Z=[],T=[],V={},O=[],H=function(b){return b[aa]},k=!0,p=ba.getFontSize(),I=ba._noMargins;if(!K){return void aJ("shieldExport: No data specified for PDF table",ba.options.dieOnError)}if(R=K.slice(0),U&&(U.printHeader===!1&&(k=!1),U.fontSize&&(p=U.fontSize),U.margins&&(I=U.margins)),ba._lastCellPos={x:aO,y:aO,w:aO,h:aO,ln:aO},ba._cellPages=1,ba._tablePrintHeader=k,ba._cellMargins=I,ba.setFontSize(p),ba._tableFontSize=p,!aQ(X)||ax(X)){Z=a9(R[0])}else{if(X[0]&&!aM(X[0])){for(bE=0,W=X.length;W>bE;bE++){aa=X[bE],Z.push(aa.field),T.push(aa.title),V[aa.field]=aQ(aa.width)?bb(aa.width)*ba._getScaleFactor():aO}}else{Z=X}}for(bE=0,W=Z.length;W>bE;bE++){if(aa=Z[bE],!aQ(V[aa])){for(M=[],M.push(ba._getTextDimensions(T[bE]||aa).w+2*d),J=aD(R,H),Y=0,c=J.length;c>Y;Y++){N=J[Y],M.push(ba._getTextDimensions(N).w+2*d)}V[aa]=Math.max.apply(Math,M)}}if(k){for(P=ba._getLineHeight(Z,V,T.length?T:Z),bE=0,W=Z.length;W>bE;bE++){aa=Z[bE],O.push([g,S,V[aa],P,(T.length?T[bE]:aa)+""])}ba._setTableHeaderConfig(O),ba._renderHeader(1,!1)}for(bE=0,W=R.length;W>bE;bE++){for(L=R[bE],P=ba._getLineHeight(Z,V,L),Y=0,Q=Z.length;Q>Y;Y++){aa=Z[Y],ba._cell(g,S,V[aa],P,L[aa],bE+2,X[Y].align)}}return ba}}),ap(aK,{PDFDocument:a6,OOXMLWorkbook:aV,ExcelXMLSpreadsheet:ao})}(jQuery,shield,this);shield.version="1.7.18";
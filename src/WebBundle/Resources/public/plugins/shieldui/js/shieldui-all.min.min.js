function a(j){this.ok=!1,"#"==j.charAt(0)&&(j=j.substr(1,6)),j=j.replace(/ /g,""),j=j.toLowerCase();var o={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var n in o){j==n&&(j=o[n])}for(var q=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(b){return[parseInt(b[1]),parseInt(b[2]),parseInt(b[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(b){return[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(b){return[parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16)]}}],p=0;p<q.length;p++){var l=q[p].re,k=q[p].process,m=l.exec(j);m&&(channels=k(m),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),d=this.g.toString(16),f=this.b.toString(16);return 1==e.length&&(e="0"+e),1==d.length&&(d="0"+d),1==f.length&&(f="0"+f),"#"+e+d+f},this.getHelpXML=function(){for(var z=new Array,y=0;y<q.length;y++){for(var s=q[y].example,w=0;w<s.length;w++){z[z.length]=s[w]}}for(var r in o){z[z.length]=r}var v=document.createElement("ul");v.setAttribute("id","rgbcolor-examples");for(var y=0;y<z.length;y++){try{var t=document.createElement("li"),x=new a(z[y]),u=document.createElement("div");u.style.cssText="margin: 3px; border: 1px solid black; background:"+x.toHex()+"; color:"+x.toHex(),u.appendChild(document.createTextNode("test"));var e=document.createTextNode(" "+z[y]+" -> "+x.toRGB()+" -> "+x.toHex());t.appendChild(u),t.appendChild(e),v.appendChild(t)}catch(c){}}return v}}!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b:b(jQuery)}(function(v){function q(x){var A=x||window.event,e=l.call(arguments,1),w=0,y=0,z=0,k=0,d=0,b=0;if(x=v.event.fix(A),x.type="mousewheel","detail" in A&&(z=-1*A.detail),"wheelDelta" in A&&(z=A.wheelDelta),"wheelDeltaY" in A&&(z=A.wheelDeltaY),"wheelDeltaX" in A&&(y=-1*A.wheelDeltaX),"axis" in A&&A.axis===A.HORIZONTAL_AXIS&&(y=-1*z,z=0),w=0===z?y:z,"deltaY" in A&&(z=-1*A.deltaY,w=z),"deltaX" in A&&(y=A.deltaX,0===z&&(w=-1*y)),0!==z||0!==y){if(1===A.deltaMode){var j=v.data(this,"mousewheel-line-height");w*=j,z*=j,y*=j}else{if(2===A.deltaMode){var g=v.data(this,"mousewheel-page-height");w*=g,z*=g,y*=g}}if(k=Math.max(Math.abs(z),Math.abs(y)),(!u||u>k)&&(u=k,p(A,k)&&(u/=40)),p(A,k)&&(w/=40,y/=40,z/=40),w=Math[w>=1?"floor":"ceil"](w/u),y=Math[y>=1?"floor":"ceil"](y/u),z=Math[z>=1?"floor":"ceil"](z/u),s.settings.normalizeOffset&&this.getBoundingClientRect){var B=this.getBoundingClientRect();d=x.clientX-B.left,b=x.clientY-B.top}return x.deltaX=y,x.deltaY=z,x.deltaFactor=u,x.offsetX=d,x.offsetY=b,x.deltaMode=0,e.unshift(x,w,y,z),r&&clearTimeout(r),r=setTimeout(m,200),(v.event.dispatch||v.event.handle).apply(this,e)}}function m(){u=null}function p(d,c){return s.settings.adjustOldDeltas&&"mousewheel"===d.type&&c%120===0}var r,u,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],t="onwheel" in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(v.event.fixHooks){for(var n=o.length;n;){v.event.fixHooks[o[--n]]=v.event.mouseHooks}}var s=v.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener){for(var c=t.length;c;){this.addEventListener(t[--c],q,!1)}}else{this.onmousewheel=q}v.data(this,"mousewheel-line-height",s.getLineHeight(this)),v.data(this,"mousewheel-page-height",s.getPageHeight(this))},teardown:function(){if(this.removeEventListener){for(var c=t.length;c;){this.removeEventListener(t[--c],q,!1)}}else{this.onmousewheel=null}v.removeData(this,"mousewheel-line-height"),v.removeData(this,"mousewheel-page-height")},getLineHeight:function(f){var g=v(f),e=g["offsetParent" in v.fn?"offsetParent":"parent"]();return e.length||(e=v("body")),parseInt(e.css("fontSize"),10)||parseInt(g.css("fontSize"),10)||16},getPageHeight:function(c){return v(c).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};v.fn.extend({mousewheel:function(b){return b?this.bind("mousewheel",b):this.trigger("mousewheel")},unmousewheel:function(b){return this.unbind("mousewheel",b)}})}),function(){function c(){var d={};return d.FRAMERATE=30,d.MAX_VIRTUAL_PIXELS=30000,d.init=function(b){d.Definitions={},d.Styles={},d.Animations=[],d.Images=[],d.ctx=b,d.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(f,e){this.viewPorts.push({width:f,height:e})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(e){return null!=e&&"number"==typeof e?e:"x"==e?this.width():"y"==e?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},d.init(),d.ImagesLoaded=function(){for(var b=0;b<d.Images.length;b++){if(!d.Images[b].loaded){return !1}}return !0},d.trim=function(b){return b.replace(/^\s+|\s+$/g,"")},d.compressSpaces=function(b){return b.replace(/[\s\r\t\n]+/gm," ")},d.ajax=function(e){var f;return f=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),f?(f.open("GET",e,!1),f.send(null),f.responseText):null},d.parseXml=function(f){if(window.DOMParser){var g=new DOMParser;return g.parseFromString(f,"text/xml")}f=f.replace(/<!DOCTYPE svg[^>]*>/,"");var e=new ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(f),e},d.Property=function(f,e){this.name=f,this.value=e},d.Property.prototype.getValue=function(){return this.value},d.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},d.Property.prototype.numValue=function(){if(!this.hasValue()){return 0}var b=parseFloat(this.value);return(this.value+"").match(/%$/)&&(b/=100),b},d.Property.prototype.valueOrDefault=function(b){return this.hasValue()?this.value:b},d.Property.prototype.numValueOrDefault=function(b){return this.hasValue()?this.numValue():b},d.Property.prototype.addOpacity=function(f){var b=this.value;if(null!=f&&""!=f&&"string"==typeof this.value){var g=new a(this.value);g.ok&&(b="rgba("+g.r+", "+g.g+", "+g.b+", "+f+")")}return new d.Property(this.name,b)},d.Property.prototype.getDefinition=function(){var b=this.value.match(/#([^\)']+)/);return b&&(b=b[1]),b||(b=this.value),d.Definitions[b]},d.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},d.Property.prototype.getFillStyleDefinition=function(f,e){var b=this.getDefinition();return null!=b&&b.createGradient?b.createGradient(d.ctx,f,e):null!=b&&b.createPattern?b.createPattern(d.ctx,f):null},d.Property.prototype.getDPI=function(b){return 96},d.Property.prototype.getEM=function(e){var b=12,f=new d.Property("fontSize",d.Font.Parse(d.ctx.font).fontSize);return f.hasValue()&&(b=f.toPixels(e)),b},d.Property.prototype.getUnits=function(){var b=this.value+"";return b.replace(/[0-9\.\-]/g,"")},d.Property.prototype.toPixels=function(h,f){if(!this.hasValue()){return 0}var b=this.value+"";if(b.match(/em$/)){return this.numValue()*this.getEM(h)}if(b.match(/ex$/)){return this.numValue()*this.getEM(h)/2}if(b.match(/px$/)){return this.numValue()}if(b.match(/pt$/)){return this.numValue()*this.getDPI(h)*(1/72)}if(b.match(/pc$/)){return 15*this.numValue()}if(b.match(/cm$/)){return this.numValue()*this.getDPI(h)/2.54}if(b.match(/mm$/)){return this.numValue()*this.getDPI(h)/25.4}if(b.match(/in$/)){return this.numValue()*this.getDPI(h)}if(b.match(/%$/)){return this.numValue()*d.ViewPort.ComputeSize(h)}var g=this.numValue();return f&&1>g?g*d.ViewPort.ComputeSize(h):g},d.Property.prototype.toMilliseconds=function(){if(!this.hasValue()){return 0}var b=this.value+"";return b.match(/s$/)?1000*this.numValue():b.match(/ms$/)?this.numValue():this.numValue()},d.Property.prototype.toRadians=function(){if(!this.hasValue()){return 0}var b=this.value+"";return b.match(/deg$/)?this.numValue()*(Math.PI/180):b.match(/grad$/)?this.numValue()*(Math.PI/200):b.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)},d.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(o,n,m,l,k,p){var j=null!=p?this.Parse(p):this.CreateFont("","","","","",d.ctx.font);return{fontFamily:k||j.fontFamily,fontSize:l||j.fontSize,fontStyle:o||j.fontStyle,fontWeight:m||j.fontWeight,fontVariant:n||j.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var b=this;this.Parse=function(j){for(var l={},n=d.trim(d.compressSpaces(j||"")).split(" "),m={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},k="",o=0;o<n.length;o++){m.fontStyle||-1==b.Styles.indexOf(n[o])?m.fontVariant||-1==b.Variants.indexOf(n[o])?m.fontWeight||-1==b.Weights.indexOf(n[o])?m.fontSize?"inherit"!=n[o]&&(k+=n[o]):("inherit"!=n[o]&&(l.fontSize=n[o].split("/")[0]),m.fontStyle=m.fontVariant=m.fontWeight=m.fontSize=!0):("inherit"!=n[o]&&(l.fontWeight=n[o]),m.fontStyle=m.fontVariant=m.fontWeight=!0):("inherit"!=n[o]&&(l.fontVariant=n[o]),m.fontStyle=m.fontVariant=!0):("inherit"!=n[o]&&(l.fontStyle=n[o]),m.fontStyle=!0)}return""!=k&&(l.fontFamily=k),l}},d.ToNumberArray=function(e){for(var b=d.trim(d.compressSpaces((e||"").replace(/,/g," "))).split(" "),f=0;f<b.length;f++){b[f]=parseFloat(b[f])}return b},d.Point=function(f,e){this.x=f,this.y=e},d.Point.prototype.angleTo=function(b){return Math.atan2(b.y-this.y,b.x-this.x)},d.Point.prototype.applyTransform=function(f){var e=this.x*f[0]+this.y*f[2]+f[4],g=this.x*f[1]+this.y*f[3]+f[5];this.x=e,this.y=g},d.CreatePoint=function(e){var b=d.ToNumberArray(e);return new d.Point(b[0],b[1])},d.CreatePath=function(f){for(var h=d.ToNumberArray(f),g=[],b=0;b<h.length;b+=2){g.push(new d.Point(h[b],h[b+1]))}return g},d.BoundingBox=function(f,e,h,g){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(k,j){null!=k&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=k,this.x2=k),k<this.x1&&(this.x1=k),k>this.x2&&(this.x2=k)),null!=j&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=j,this.y2=j),j<this.y1&&(this.y1=j),j>this.y2&&(this.y2=j))},this.addX=function(b){this.addPoint(b,null)},this.addY=function(b){this.addPoint(null,b)},this.addBoundingBox=function(b){this.addPoint(b.x1,b.y1),this.addPoint(b.x2,b.y2)},this.addQuadraticCurve=function(t,s,n,m,r,q){var p=t+2/3*(n-t),o=s+2/3*(m-s),l=p+1/3*(r-t),k=o+1/3*(q-s);this.addBezierCurve(t,s,p,l,o,k,r,q)},this.addBezierCurve=function(v,C,w,x,y,z,A,B){var N=[v,C],H=[w,x],F=[y,z],G=[A,B];for(this.addPoint(N[0],N[1]),this.addPoint(G[0],G[1]),i=0;i<=1;i++){var O=function(b){return Math.pow(1-b,3)*N[i]+3*Math.pow(1-b,2)*b*H[i]+3*(1-b)*Math.pow(b,2)*F[i]+Math.pow(b,3)*G[i]},M=6*N[i]-12*H[i]+6*F[i],I=-3*N[i]+9*H[i]-9*F[i]+3*G[i],D=3*H[i]-3*N[i];if(0!=I){var E=Math.pow(M,2)-4*D*I;if(!(0>E)){var J=(-M+Math.sqrt(E))/(2*I);J>0&&1>J&&(0==i&&this.addX(O(J)),1==i&&this.addY(O(J)));var K=(-M-Math.sqrt(E))/(2*I);K>0&&1>K&&(0==i&&this.addX(O(K)),1==i&&this.addY(O(K)))}}else{if(0==M){continue}var L=-D/M;L>0&&1>L&&(0==i&&this.addX(O(L)),1==i&&this.addY(O(L)))}}},this.isPointInBox=function(k,j){return this.x1<=k&&k<=this.x2&&this.y1<=j&&j<=this.y2},this.addPoint(f,e),this.addPoint(h,g)},d.Transform=function(k){var o=this;this.Type={},this.Type.translate=function(e){this.p=d.CreatePoint(e),this.apply=function(f){f.translate(this.p.x||0,this.p.y||0)},this.applyToPoint=function(f){f.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(f){var e=d.ToNumberArray(f);this.angle=new d.Property("angle",e[0]),this.cx=e[1]||0,this.cy=e[2]||0,this.apply=function(g){g.translate(this.cx,this.cy),g.rotate(this.angle.toRadians()),g.translate(-this.cx,-this.cy)},this.applyToPoint=function(g){var h=this.angle.toRadians();g.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),g.applyTransform([Math.cos(h),Math.sin(h),-Math.sin(h),Math.cos(h),0,0]),g.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(e){this.p=d.CreatePoint(e),this.apply=function(f){f.scale(this.p.x||1,this.p.y||this.p.x||1)},this.applyToPoint=function(f){f.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(e){this.m=d.ToNumberArray(e),this.apply=function(f){f.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.applyToPoint=function(f){f.applyTransform(this.m)}},this.Type.SkewBase=function(e){this.base=o.Type.matrix,this.base(e),this.angle=new d.Property("angle",e)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(e){this.base=o.Type.SkewBase,this.base(e),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(e){this.base=o.Type.SkewBase,this.base(e),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(e){for(var f=0;f<this.transforms.length;f++){this.transforms[f].apply(e)}},this.applyToPoint=function(e){for(var f=0;f<this.transforms.length;f++){this.transforms[f].applyToPoint(e)}};for(var n=d.trim(d.compressSpaces(k)).replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),b=0;b<n.length;b++){var m=n[b].split("(")[0],j=n[b].split("(")[1].replace(")",""),l=new this.Type[m](j);l.type=m,this.transforms.push(l)}},d.AspectRatio=function(D,z,t,w,s,x,b,r,v,u){z=d.compressSpaces(z),z=z.replace(/^defer\s/,"");var y=z.split(" ")[0]||"xMidYMid",F=z.split(" ")[1]||"meet",A=t/w,B=s/x,E=Math.min(A,B),C=Math.max(A,B);"meet"==F&&(w*=E,x*=E),"slice"==F&&(w*=C,x*=C),v=new d.Property("refX",v),u=new d.Property("refY",u),v.hasValue()&&u.hasValue()?D.translate(-E*v.toPixels("x"),-E*u.toPixels("y")):(y.match(/^xMid/)&&("meet"==F&&E==B||"slice"==F&&C==B)&&D.translate(t/2-w/2,0),y.match(/YMid$/)&&("meet"==F&&E==A||"slice"==F&&C==A)&&D.translate(0,s/2-x/2),y.match(/^xMax/)&&("meet"==F&&E==B||"slice"==F&&C==B)&&D.translate(t-w,0),y.match(/YMax$/)&&("meet"==F&&E==A||"slice"==F&&C==A)&&D.translate(0,s-x)),"none"==y?D.scale(A,B):"meet"==F?D.scale(E,E):"slice"==F&&D.scale(C,C),D.translate(null==b?0:-b,null==r?0:-r)},d.Element={},d.EmptyProperty=new d.Property("EMPTY",""),d.Element.ElementBase=function(q){if(this.attributes={},this.styles={},this.children=[],this.attribute=function(g,f){var e=this.attributes[g];return null!=e?e:(1==f&&(e=new d.Property(g,""),this.attributes[g]=e),e||d.EmptyProperty)},this.style=function(h,j){var w=this.styles[h];if(null!=w){return w}var v=this.attribute(h);if(null!=v&&v.hasValue()){return this.styles[h]=v,v}var k=this.parent;if(null!=k){var u=k.style(h);if(null!=u&&u.hasValue()){return u}}return 1==j&&(w=new d.Property(h,""),this.styles[h]=w),w||d.EmptyProperty},this.render=function(f){if("none"!=this.style("display").value&&"hidden"!=this.attribute("visibility").value){if(f.save(),this.attribute("mask").hasValue()){var e=this.attribute("mask").getDefinition();null!=e&&e.apply(f,this)}else{if(this.style("filter").hasValue()){var g=this.style("filter").getDefinition();null!=g&&g.apply(f,this)}else{this.setContext(f),this.renderChildren(f),this.clearContext(f)}}f.restore()}},this.setContext=function(e){},this.clearContext=function(e){},this.renderChildren=function(e){for(var f=0;f<this.children.length;f++){this.children[f].render(e)}},this.addChild=function(g,f){var e=g;f&&(e=d.CreateElement(g)),e.parent=this,this.children.push(e)},null!=q&&1==q.nodeType){for(var s=0;s<q.childNodes.length;s++){var p=q.childNodes[s];1==p.nodeType&&this.addChild(p,!0),this.captureTextNodes&&3==p.nodeType&&this.addChild(new d.Element.tspan(p),!1)}for(var s=0;s<q.attributes.length;s++){var n=q.attributes[s];this.attributes[n.nodeName]=new d.Property(n.nodeName,n.nodeValue)}var t=d.Styles[q.nodeName];if(null!=t){for(var r in t){this.styles[r]=t[r]}}if(this.attribute("class").hasValue()){for(var m=d.compressSpaces(this.attribute("class").value).split(" "),o=0;o<m.length;o++){if(t=d.Styles["."+m[o]],null!=t){for(var r in t){this.styles[r]=t[r]}}if(t=d.Styles[q.nodeName+"."+m[o]],null!=t){for(var r in t){this.styles[r]=t[r]}}}}if(this.attribute("id").hasValue()){var t=d.Styles["#"+this.attribute("id").value];if(null!=t){for(var r in t){this.styles[r]=t[r]}}}if(this.attribute("style").hasValue()){for(var t=this.attribute("style").value.split(";"),s=0;s<t.length;s++){if(""!=d.trim(t[s])){var l=t[s].split(":"),r=d.trim(l[0]),b=d.trim(l[1]);this.styles[r]=new d.Property(r,b)}}}this.attribute("id").hasValue()&&null==d.Definitions[this.attribute("id").value]&&(d.Definitions[this.attribute("id").value]=this)}},d.Element.RenderedElementBase=function(b){this.base=d.Element.ElementBase,this.base(b),this.setContext=function(j){if(this.style("fill").isUrlDefinition()){var n=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity"));null!=n&&(j.fillStyle=n)}else{if(this.style("fill").hasValue()){var p=this.style("fill");"currentColor"==p.value&&(p.value=this.style("color").value),j.fillStyle="none"==p.value?"rgba(0,0,0,0)":p.value}}if(this.style("fill-opacity").hasValue()){var p=new d.Property("fill",j.fillStyle);p=p.addOpacity(this.style("fill-opacity").value),j.fillStyle=p.value}if(this.style("stroke").isUrlDefinition()){var n=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity"));null!=n&&(j.strokeStyle=n)}else{if(this.style("stroke").hasValue()){var o=this.style("stroke");"currentColor"==o.value&&(o.value=this.style("color").value),j.strokeStyle="none"==o.value?"rgba(0,0,0,0)":o.value}}if(this.style("stroke-opacity").hasValue()){var o=new d.Property("stroke",j.strokeStyle);o=o.addOpacity(this.style("stroke-opacity").value),j.strokeStyle=o.value}if(this.style("stroke-width").hasValue()){var m=this.style("stroke-width").toPixels();j.lineWidth=0==m?0.001:m}if(this.style("stroke-linecap").hasValue()&&(j.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(j.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(j.miterLimit=this.style("stroke-miterlimit").value),"undefined"!=typeof j.font&&(j.font=d.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()),this.attribute("transform").hasValue()){var k=new d.Transform(this.attribute("transform").value);k.apply(j)}if(this.attribute("clip-path").hasValue()){var l=this.attribute("clip-path").getDefinition();null!=l&&l.apply(j)}this.style("opacity").hasValue()&&(j.globalAlpha=this.style("opacity").numValue())}},d.Element.RenderedElementBase.prototype=new d.Element.ElementBase,d.Element.PathElementBase=function(b){this.base=d.Element.RenderedElementBase,this.base(b),this.path=function(e){return null!=e&&e.beginPath(),new d.BoundingBox},this.renderChildren=function(j){this.path(j),d.Mouse.checkPath(this,j),""!=j.fillStyle&&j.fill(),""!=j.strokeStyle&&j.stroke();var f=this.getMarkers();if(null!=f){if(this.style("marker-start").isUrlDefinition()){var g=this.style("marker-start").getDefinition();g.render(j,f[0][0],f[0][1])}if(this.style("marker-mid").isUrlDefinition()){for(var g=this.style("marker-mid").getDefinition(),h=1;h<f.length-1;h++){g.render(j,f[h][0],f[h][1])}}if(this.style("marker-end").isUrlDefinition()){var g=this.style("marker-end").getDefinition();g.render(j,f[f.length-1][0],f[f.length-1][1])}}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},d.Element.PathElementBase.prototype=new d.Element.RenderedElementBase,d.Element.svg=function(b){this.base=d.Element.RenderedElementBase,this.base(b),this.baseClearContext=this.clearContext,this.clearContext=function(e){this.baseClearContext(e),d.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(j){j.strokeStyle="rgba(0,0,0,0)",j.lineCap="butt",j.lineJoin="miter",j.miterLimit=4,this.baseSetContext(j),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),j.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var q=d.ViewPort.width(),p=d.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),"undefined"==typeof this.root){q=this.attribute("width").toPixels("x"),p=this.attribute("height").toPixels("y");var n=0,m=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(n=-this.attribute("refX").toPixels("x"),m=-this.attribute("refY").toPixels("y")),j.beginPath(),j.moveTo(n,m),j.lineTo(q,m),j.lineTo(q,p),j.lineTo(n,p),j.closePath(),j.clip()}if(d.ViewPort.SetCurrent(q,p),this.attribute("viewBox").hasValue()){var o=d.ToNumberArray(this.attribute("viewBox").value),l=o[0],k=o[1];q=o[2],p=o[3],d.AspectRatio(j,this.attribute("preserveAspectRatio").value,d.ViewPort.width(),q,d.ViewPort.height(),p,l,k,this.attribute("refX").value,this.attribute("refY").value),d.ViewPort.RemoveCurrent(),d.ViewPort.SetCurrent(o[2],o[3])}}},d.Element.svg.prototype=new d.Element.RenderedElementBase,d.Element.rect=function(b){this.base=d.Element.PathElementBase,this.base(b),this.path=function(o){var j=this.attribute("x").toPixels("x"),p=this.attribute("y").toPixels("y"),m=this.attribute("width").toPixels("x"),l=this.attribute("height").toPixels("y"),n=this.attribute("rx").toPixels("x"),k=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(k=n),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(n=k),n=Math.min(n,m/2),k=Math.min(k,l/2),null!=o&&(o.beginPath(),o.moveTo(j+n,p),o.lineTo(j+m-n,p),o.quadraticCurveTo(j+m,p,j+m,p+k),o.lineTo(j+m,p+l-k),o.quadraticCurveTo(j+m,p+l,j+m-n,p+l),o.lineTo(j+n,p+l),o.quadraticCurveTo(j,p+l,j,p+l-k),o.lineTo(j,p+k),o.quadraticCurveTo(j,p,j+n,p),o.closePath()),new d.BoundingBox(j,p,j+m,p+l)}},d.Element.rect.prototype=new d.Element.PathElementBase,d.Element.circle=function(b){this.base=d.Element.PathElementBase,this.base(b),this.path=function(j){var h=this.attribute("cx").toPixels("x"),g=this.attribute("cy").toPixels("y"),f=this.attribute("r").toPixels();return null!=j&&(j.beginPath(),j.arc(h,g,f,0,2*Math.PI,!0),j.closePath()),new d.BoundingBox(h-f,g-f,h+f,g+f)}},d.Element.circle.prototype=new d.Element.PathElementBase,d.Element.ellipse=function(b){this.base=d.Element.PathElementBase,this.base(b),this.path=function(k){var j=4*((Math.sqrt(2)-1)/3),l=this.attribute("rx").toPixels("x"),m=this.attribute("ry").toPixels("y"),h=this.attribute("cx").toPixels("x"),n=this.attribute("cy").toPixels("y");return null!=k&&(k.beginPath(),k.moveTo(h,n-m),k.bezierCurveTo(h+j*l,n-m,h+l,n-j*m,h+l,n),k.bezierCurveTo(h+l,n+j*m,h+j*l,n+m,h,n+m),k.bezierCurveTo(h-j*l,n+m,h-l,n+j*m,h-l,n),k.bezierCurveTo(h-l,n-j*m,h-j*l,n-m,h,n-m),k.closePath()),new d.BoundingBox(h-l,n-m,h+l,n+m)}},d.Element.ellipse.prototype=new d.Element.PathElementBase,d.Element.line=function(b){this.base=d.Element.PathElementBase,this.base(b),this.getPoints=function(){return[new d.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new d.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(f){var e=this.getPoints();return null!=f&&(f.beginPath(),f.moveTo(e[0].x,e[0].y),f.lineTo(e[1].x,e[1].y)),new d.BoundingBox(e[0].x,e[0].y,e[1].x,e[1].y)},this.getMarkers=function(){var f=this.getPoints(),e=f[0].angleTo(f[1]);return[[f[0],e],[f[1],e]]}},d.Element.line.prototype=new d.Element.PathElementBase,d.Element.polyline=function(b){this.base=d.Element.PathElementBase,this.base(b),this.points=d.CreatePath(this.attribute("points").value),this.path=function(g){var f=new d.BoundingBox(this.points[0].x,this.points[0].y);null!=g&&(g.beginPath(),g.moveTo(this.points[0].x,this.points[0].y));for(var e=1;e<this.points.length;e++){f.addPoint(this.points[e].x,this.points[e].y),null!=g&&g.lineTo(this.points[e].x,this.points[e].y)}return f},this.getMarkers=function(){for(var f=[],e=0;e<this.points.length-1;e++){f.push([this.points[e],this.points[e].angleTo(this.points[e+1])])}return f.push([this.points[this.points.length-1],f[f.length-1][1]]),f}},d.Element.polyline.prototype=new d.Element.PathElementBase,d.Element.polygon=function(b){this.base=d.Element.polyline,this.base(b),this.basePath=this.path,this.path=function(f){var e=this.basePath(f);return null!=f&&(f.lineTo(this.points[0].x,this.points[0].y),f.closePath()),e}},d.Element.polygon.prototype=new d.Element.polyline,d.Element.path=function(e){this.base=d.Element.PathElementBase,this.base(e);var b=this.attribute("d").value;b=b.replace(/,/gm," "),b=b.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),b=b.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),b=b.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2"),b=b.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),b=b.replace(/([0-9])([+\-])/gm,"$1 $2"),b=b.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),b=b.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),b=d.compressSpaces(b),b=d.trim(b),this.PathParser=new function(f){this.tokens=f.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new d.Point(0,0),this.control=new d.Point(0,0),this.current=new d.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return this.isEnd()?!0:null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return !0}return !1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var g=new d.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(g)},this.getAsControlPoint=function(){var g=this.getPoint();return this.control=g,g},this.getAsCurrentPoint=function(){var g=this.getPoint();return this.current=g,g},this.getReflectedControlPoint=function(){if("c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()){return this.current}var g=new d.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return g},this.makeAbsolute=function(g){return this.isRelativeCommand()&&(g.x+=this.current.x,g.y+=this.current.y),g},this.addMarker=function(h,g,j){null!=j&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(j)),this.addMarkerAngle(h,null==g?null:g.angleTo(h))},this.addMarkerAngle=function(h,g){this.points.push(h),this.angles.push(g)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var h=0;h<this.angles.length;h++){if(null==this.angles[h]){for(var g=h+1;g<this.angles.length;g++){if(null!=this.angles[g]){this.angles[h]=this.angles[g];break}}}}return this.angles}}(b),this.path=function(al){var am=this.PathParser;am.reset();var ad=new d.BoundingBox;for(null!=al&&al.beginPath();!am.isEnd();){switch(am.nextCommand(),am.command){case"M":case"m":var ag=am.getAsCurrentPoint();for(am.addMarker(ag),ad.addPoint(ag.x,ag.y),null!=al&&al.moveTo(ag.x,ag.y),am.start=am.current;!am.isCommandOrEnd();){var ag=am.getAsCurrentPoint();am.addMarker(ag,am.start),ad.addPoint(ag.x,ag.y),null!=al&&al.lineTo(ag.x,ag.y)}break;case"L":case"l":for(;!am.isCommandOrEnd();){var O=am.current,ag=am.getAsCurrentPoint();am.addMarker(ag,O),ad.addPoint(ag.x,ag.y),null!=al&&al.lineTo(ag.x,ag.y)}break;case"H":case"h":for(;!am.isCommandOrEnd();){var U=new d.Point((am.isRelativeCommand()?am.current.x:0)+am.getScalar(),am.current.y);am.addMarker(U,am.current),am.current=U,ad.addPoint(am.current.x,am.current.y),null!=al&&al.lineTo(am.current.x,am.current.y)}break;case"V":case"v":for(;!am.isCommandOrEnd();){var U=new d.Point(am.current.x,(am.isRelativeCommand()?am.current.y:0)+am.getScalar());am.addMarker(U,am.current),am.current=U,ad.addPoint(am.current.x,am.current.y),null!=al&&al.lineTo(am.current.x,am.current.y)}break;case"C":case"c":for(;!am.isCommandOrEnd();){var ae=am.current,aa=am.getPoint(),aj=am.getAsControlPoint(),ak=am.getAsCurrentPoint();am.addMarker(ak,aj,aa),ad.addBezierCurve(ae.x,ae.y,aa.x,aa.y,aj.x,aj.y,ak.x,ak.y),null!=al&&al.bezierCurveTo(aa.x,aa.y,aj.x,aj.y,ak.x,ak.y)}break;case"S":case"s":for(;!am.isCommandOrEnd();){var ae=am.current,aa=am.getReflectedControlPoint(),aj=am.getAsControlPoint(),ak=am.getAsCurrentPoint();am.addMarker(ak,aj,aa),ad.addBezierCurve(ae.x,ae.y,aa.x,aa.y,aj.x,aj.y,ak.x,ak.y),null!=al&&al.bezierCurveTo(aa.x,aa.y,aj.x,aj.y,ak.x,ak.y)}break;case"Q":case"q":for(;!am.isCommandOrEnd();){var ae=am.current,aj=am.getAsControlPoint(),ak=am.getAsCurrentPoint();am.addMarker(ak,aj,aj),ad.addQuadraticCurve(ae.x,ae.y,aj.x,aj.y,ak.x,ak.y),null!=al&&al.quadraticCurveTo(aj.x,aj.y,ak.x,ak.y)}break;case"T":case"t":for(;!am.isCommandOrEnd();){var ae=am.current,aj=am.getReflectedControlPoint();am.control=aj;var ak=am.getAsCurrentPoint();am.addMarker(ak,aj,aj),ad.addQuadraticCurve(ae.x,ae.y,aj.x,aj.y,ak.x,ak.y),null!=al&&al.quadraticCurveTo(aj.x,aj.y,ak.x,ak.y)}break;case"A":case"a":for(;!am.isCommandOrEnd();){var ae=am.current,ai=am.getScalar(),ah=am.getScalar(),ab=am.getScalar()*(Math.PI/180),Q=am.getScalar(),M=am.getScalar(),ak=am.getAsCurrentPoint(),af=new d.Point(Math.cos(ab)*(ae.x-ak.x)/2+Math.sin(ab)*(ae.y-ak.y)/2,-Math.sin(ab)*(ae.x-ak.x)/2+Math.cos(ab)*(ae.y-ak.y)/2),K=Math.pow(af.x,2)/Math.pow(ai,2)+Math.pow(af.y,2)/Math.pow(ah,2);K>1&&(ai*=Math.sqrt(K),ah*=Math.sqrt(K));var W=(Q==M?-1:1)*Math.sqrt((Math.pow(ai,2)*Math.pow(ah,2)-Math.pow(ai,2)*Math.pow(af.y,2)-Math.pow(ah,2)*Math.pow(af.x,2))/(Math.pow(ai,2)*Math.pow(af.y,2)+Math.pow(ah,2)*Math.pow(af.x,2)));isNaN(W)&&(W=0);var ac=new d.Point(W*ai*af.y/ah,W*-ah*af.x/ai),Z=new d.Point((ae.x+ak.x)/2+Math.cos(ab)*ac.x-Math.sin(ab)*ac.y,(ae.y+ak.y)/2+Math.sin(ab)*ac.x+Math.cos(ab)*ac.y),V=function(f){return Math.sqrt(Math.pow(f[0],2)+Math.pow(f[1],2))},P=function(g,f){return(g[0]*f[0]+g[1]*f[1])/(V(g)*V(f))},Y=function(g,f){return(g[0]*f[1]<g[1]*f[0]?-1:1)*Math.acos(P(g,f))},I=Y([1,0],[(af.x-ac.x)/ai,(af.y-ac.y)/ah]),H=[(af.x-ac.x)/ai,(af.y-ac.y)/ah],J=[(-af.x-ac.x)/ai,(-af.y-ac.y)/ah],S=Y(H,J);P(H,J)<=-1&&(S=Math.PI),P(H,J)>=1&&(S=0);var N=1-M?1:-1,X=I+N*(S/2),L=new d.Point(Z.x+ai*Math.cos(X),Z.y+ah*Math.sin(X));if(am.addMarkerAngle(L,X-N*Math.PI/2),am.addMarkerAngle(ak,X-N*Math.PI),ad.addPoint(ak.x,ak.y),null!=al){var P=ai>ah?ai:ah,T=ai>ah?1:ai/ah,R=ai>ah?ah/ai:1;al.translate(Z.x,Z.y),al.rotate(ab),al.scale(T,R),al.arc(0,0,P,I,I+S,1-M),al.scale(1/T,1/R),al.rotate(-ab),al.translate(-Z.x,-Z.y)}}break;case"Z":case"z":null!=al&&al.closePath(),am.current=am.start}}return ad},this.getMarkers=function(){for(var f=this.PathParser.getMarkerPoints(),h=this.PathParser.getMarkerAngles(),j=[],g=0;g<f.length;g++){j.push([f[g],h[g]])}return j}},d.Element.path.prototype=new d.Element.PathElementBase,d.Element.pattern=function(b){this.base=d.Element.ElementBase,this.base(b),this.createPattern=function(n,l){var p=this.attribute("width").toPixels("x",!0),o=this.attribute("height").toPixels("y",!0),u=new d.Element.svg;u.attributes.viewBox=new d.Property("viewBox",this.attribute("viewBox").value),u.attributes.width=new d.Property("width",p+"px"),u.attributes.height=new d.Property("height",o+"px"),u.attributes.transform=new d.Property("transform",this.attribute("patternTransform").value),u.children=this.children;var t=document.createElement("canvas");t.width=p,t.height=o;var s=t.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&s.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(var r=-1;1>=r;r++){for(var q=-1;1>=q;q++){s.save(),s.translate(r*t.width,q*t.height),u.render(s),s.restore()}}var m=n.createPattern(t,"repeat");return m}},d.Element.pattern.prototype=new d.Element.ElementBase,d.Element.marker=function(b){this.base=d.Element.ElementBase,this.base(b),this.baseRender=this.render,this.render=function(f,h,g){f.translate(h.x,h.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&f.rotate(g),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&f.scale(f.lineWidth,f.lineWidth),f.save();var j=new d.Element.svg;j.attributes.viewBox=new d.Property("viewBox",this.attribute("viewBox").value),j.attributes.refX=new d.Property("refX",this.attribute("refX").value),j.attributes.refY=new d.Property("refY",this.attribute("refY").value),j.attributes.width=new d.Property("width",this.attribute("markerWidth").value),j.attributes.height=new d.Property("height",this.attribute("markerHeight").value),j.attributes.fill=new d.Property("fill",this.attribute("fill").valueOrDefault("black")),j.attributes.stroke=new d.Property("stroke",this.attribute("stroke").valueOrDefault("none")),j.children=this.children,j.render(f),f.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&f.scale(1/f.lineWidth,1/f.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&f.rotate(-g),f.translate(-h.x,-h.y)}},d.Element.marker.prototype=new d.Element.ElementBase,d.Element.defs=function(b){this.base=d.Element.ElementBase,this.base(b),this.render=function(e){}},d.Element.defs.prototype=new d.Element.ElementBase,d.Element.GradientBase=function(e){this.base=d.Element.ElementBase,this.base(e),this.gradientUnits=this.attribute("gradientUnits").valueOrDefault("objectBoundingBox"),this.stops=[];for(var b=0;b<this.children.length;b++){var f=this.children[b];"stop"==f.type&&this.stops.push(f)}this.getGradient=function(){},this.createGradient=function(o,p,q){var A=this;this.attribute("xlink:href").hasValue()&&(A=this.attribute("xlink:href").getDefinition());var r=function(g){if(q.hasValue()){var h=new d.Property("color",g);return h.addOpacity(q.value).value}return g},v=this.getGradient(o,p);if(null==v){return r(A.stops[A.stops.length-1].color)}for(var x=0;x<A.stops.length;x++){v.addColorStop(A.stops[x].offset,r(A.stops[x].color))}if(this.attribute("gradientTransform").hasValue()){var u=d.ViewPort.viewPorts[0],y=new d.Element.rect;y.attributes.x=new d.Property("x",-d.MAX_VIRTUAL_PIXELS/3),y.attributes.y=new d.Property("y",-d.MAX_VIRTUAL_PIXELS/3),y.attributes.width=new d.Property("width",d.MAX_VIRTUAL_PIXELS),y.attributes.height=new d.Property("height",d.MAX_VIRTUAL_PIXELS);var s=new d.Element.g;s.attributes.transform=new d.Property("transform",this.attribute("gradientTransform").value),s.children=[y];var z=new d.Element.svg;z.attributes.x=new d.Property("x",0),z.attributes.y=new d.Property("y",0),z.attributes.width=new d.Property("width",u.width),z.attributes.height=new d.Property("height",u.height),z.children=[s];var w=document.createElement("canvas");w.width=u.width,w.height=u.height;var t=w.getContext("2d");return t.fillStyle=v,z.render(t),t.createPattern(w,"no-repeat")}return v}},d.Element.GradientBase.prototype=new d.Element.ElementBase,d.Element.linearGradient=function(b){this.base=d.Element.GradientBase,this.base(b),this.getGradient=function(l,k){var j=k.getBoundingBox();this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var h="objectBoundingBox"==this.gradientUnits?j.x()+j.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),o="objectBoundingBox"==this.gradientUnits?j.y()+j.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),n="objectBoundingBox"==this.gradientUnits?j.x()+j.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),m="objectBoundingBox"==this.gradientUnits?j.y()+j.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return h==n&&o==m?null:l.createLinearGradient(h,o,n,m)}},d.Element.linearGradient.prototype=new d.Element.GradientBase,d.Element.radialGradient=function(b){this.base=d.Element.GradientBase,this.base(b),this.getGradient=function(n,m){var k=m.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var j="objectBoundingBox"==this.gradientUnits?k.x()+k.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),q="objectBoundingBox"==this.gradientUnits?k.y()+k.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),p=j,o=q;this.attribute("fx").hasValue()&&(p="objectBoundingBox"==this.gradientUnits?k.x()+k.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(o="objectBoundingBox"==this.gradientUnits?k.y()+k.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var l="objectBoundingBox"==this.gradientUnits?(k.width()+k.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return n.createRadialGradient(p,o,0,j,q,l)}},d.Element.radialGradient.prototype=new d.Element.GradientBase,d.Element.stop=function(e){this.base=d.Element.ElementBase,this.base(e),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),this.offset>1&&(this.offset=1);var b=this.style("stop-color");this.style("stop-opacity").hasValue()&&(b=b.addOpacity(this.style("stop-opacity").value)),this.color=b.value},d.Element.stop.prototype=new d.Element.ElementBase,d.Element.AnimateBase=function(b){this.base=d.Element.ElementBase,this.base(b),d.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var e=this.attribute("attributeType").value,f=this.attribute("attributeName").value;return"CSS"==e?this.parent.style(f,!0):this.parent.attribute(f,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(h){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"!=this.attribute("repeatCount").value&&"indefinite"!=this.attribute("repeatDur").value){return"remove"!=this.attribute("fill").valueOrDefault("remove")||this.removed?!1:(this.removed=!0,this.getProperty().value=this.initialValue,!0)}this.duration=0}this.duration=this.duration+h;var e=!1;if(this.begin<this.duration){var f=this.calcValue();if(this.attribute("type").hasValue()){var g=this.attribute("type").value;f=g+"("+f+")"}this.getProperty().value=f,e=!0}return e},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var f={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var j=f.progress*(this.values.value.length-1),h=Math.floor(j),g=Math.ceil(j);f.from=new d.Property("from",parseFloat(this.values.value[h])),f.to=new d.Property("to",parseFloat(this.values.value[g])),f.progress=(j-h)/(g-h)}else{f.from=this.from,f.to=this.to}return f}},d.Element.AnimateBase.prototype=new d.Element.ElementBase,d.Element.animate=function(b){this.base=d.Element.AnimateBase,this.base(b),this.calcValue=function(){var f=this.progress(),e=f.from.numValue()+(f.to.numValue()-f.from.numValue())*f.progress;return e+this.initialUnits}},d.Element.animate.prototype=new d.Element.AnimateBase,d.Element.animateColor=function(b){this.base=d.Element.AnimateBase,this.base(b),this.calcValue=function(){var n=this.progress(),h=new a(n.from.value),m=new a(n.to.value);if(h.ok&&m.ok){var l=h.r+(m.r-h.r)*n.progress,k=h.g+(m.g-h.g)*n.progress,j=h.b+(m.b-h.b)*n.progress;return"rgb("+parseInt(l,10)+","+parseInt(k,10)+","+parseInt(j,10)+")"}return this.attribute("from").value}},d.Element.animateColor.prototype=new d.Element.AnimateBase,d.Element.animateTransform=function(b){this.base=d.Element.AnimateBase,this.base(b),this.calcValue=function(){for(var l=this.progress(),k=d.ToNumberArray(l.from.value),h=d.ToNumberArray(l.to.value),j="",g=0;g<k.length;g++){j+=k[g]+(h[g]-k[g])*l.progress+" "}return j}},d.Element.animateTransform.prototype=new d.Element.animate,d.Element.font=function(e){this.base=d.Element.ElementBase,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var f=0;f<this.children.length;f++){var b=this.children[f];"font-face"==b.type?(this.fontFace=b,b.style("font-family").hasValue()&&(d.Definitions[b.style("font-family").value]=this)):"missing-glyph"==b.type?this.missingGlyph=b:"glyph"==b.type&&(""!=b.arabicForm?(this.isRTL=!0,this.isArabic=!0,"undefined"==typeof this.glyphs[b.unicode]&&(this.glyphs[b.unicode]=[]),this.glyphs[b.unicode][b.arabicForm]=b):this.glyphs[b.unicode]=b)}},d.Element.font.prototype=new d.Element.ElementBase,d.Element.fontface=function(b){this.base=d.Element.ElementBase,this.base(b),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},d.Element.fontface.prototype=new d.Element.ElementBase,d.Element.missingglyph=function(b){this.base=d.Element.path,this.base(b),this.horizAdvX=0},d.Element.missingglyph.prototype=new d.Element.path,d.Element.glyph=function(b){this.base=d.Element.path,this.base(b),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},d.Element.glyph.prototype=new d.Element.path,d.Element.text=function(b){this.captureTextNodes=!0,this.base=d.Element.RenderedElementBase,this.base(b),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),this.style("dominant-baseline").hasValue()&&(e.textBaseline=this.style("dominant-baseline").value),this.style("alignment-baseline").hasValue()&&(e.textBaseline=this.style("alignment-baseline").value)},this.renderChildren=function(e){this.textAnchor=this.style("text-anchor").valueOrDefault("start"),this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y");for(var f=0;f<this.children.length;f++){this.renderChild(e,this,f)}},this.renderChild=function(q,l,j){var k=l.children[j];k.attribute("x").hasValue()?k.x=k.attribute("x").toPixels("x"):(this.attribute("dx").hasValue()&&(this.y+=this.attribute("dx").toPixels("x")),k.attribute("dx").hasValue()&&(this.x+=k.attribute("dx").toPixels("x")),k.x=this.x);var n=k.measureText(q);if("start"!=this.textAnchor&&(0==j||k.attribute("x").hasValue())){for(var p=n,o=j+1;o<this.children.length;o++){var m=this.children[o];if(m.attribute("x").hasValue()){break}p+=m.measureText(q)}k.x-="end"==this.textAnchor?p:p/2}this.x=k.x+n,k.attribute("y").hasValue()?k.y=k.attribute("y").toPixels("y"):(this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),k.attribute("dy").hasValue()&&(this.y+=k.attribute("dy").toPixels("y")),k.y=this.y),this.y=k.y,k.render(q);for(var j=0;j<k.children.length;j++){this.renderChild(q,k,j)}}},d.Element.text.prototype=new d.Element.RenderedElementBase,d.Element.TextElementBase=function(b){this.base=d.Element.RenderedElementBase,this.base(b),this.getGlyph=function(m,g,h){var k=g[h],l=null;if(m.isArabic){var j="isolated";(0==h||" "==g[h-1])&&h<g.length-2&&" "!=g[h+1]&&(j="terminal"),h>0&&" "!=g[h-1]&&h<g.length-2&&" "!=g[h+1]&&(j="medial"),h>0&&" "!=g[h-1]&&(h==g.length-1||" "==g[h+1])&&(j="initial"),"undefined"!=typeof m.glyphs[k]&&(l=m.glyphs[k][j],null==l&&"glyph"==m.glyphs[k].type&&(l=m.glyphs[k]))}else{l=m.glyphs[k]}return null==l&&(l=m.missingGlyph),l},this.renderChildren=function(u){var t=this.parent.style("font-family").getDefinition();if(null==t){""!=u.fillStyle&&u.fillText(d.compressSpaces(this.getText()),this.x,this.y),""!=u.strokeStyle&&u.strokeText(d.compressSpaces(this.getText()),this.x,this.y)}else{var p=this.parent.style("font-size").numValueOrDefault(d.Font.Parse(d.ctx.font).fontSize),n=this.parent.style("font-style").valueOrDefault(d.Font.Parse(d.ctx.font).fontStyle),r=this.getText();t.isRTL&&(r=r.split("").reverse().join(""));for(var o=d.ToNumberArray(this.parent.attribute("dx").value),s=0;s<r.length;s++){var m=this.getGlyph(t,r,s),q=p/t.fontFace.unitsPerEm;u.translate(this.x,this.y),u.scale(q,-q);var l=u.lineWidth;u.lineWidth=u.lineWidth*t.fontFace.unitsPerEm/p,"italic"==n&&u.transform(1,0,0.4,1,0,0),m.render(u),"italic"==n&&u.transform(1,0,-0.4,1,0,0),u.lineWidth=l,u.scale(1/q,-1/q),u.translate(-this.x,-this.y),this.x+=p*(m.horizAdvX||t.horizAdvX)/t.fontFace.unitsPerEm,"undefined"==typeof o[s]||isNaN(o[s])||(this.x+=o[s])}}},this.getText=function(){},this.measureText=function(t){var s=this.parent.style("font-family").getDefinition();if(null!=s){var n=this.parent.style("font-size").numValueOrDefault(d.Font.Parse(d.ctx.font).fontSize),q=0,r=this.getText();s.isRTL&&(r=r.split("").reverse().join(""));for(var p=d.ToNumberArray(this.parent.attribute("dx").value),u=0;u<r.length;u++){var m=this.getGlyph(s,r,u);q+=(m.horizAdvX||s.horizAdvX)*n/s.fontFace.unitsPerEm,"undefined"==typeof p[u]||isNaN(p[u])||(q+=p[u])}return q}var o=d.compressSpaces(this.getText());if(!t.measureText){return 10*o.length}t.save(),this.setContext(t);var l=t.measureText(o).width;return t.restore(),l}},d.Element.TextElementBase.prototype=new d.Element.RenderedElementBase,d.Element.tspan=function(b){this.captureTextNodes=!0,this.base=d.Element.TextElementBase,this.base(b),this.text=b.nodeValue||b.text||"",this.getText=function(){return this.text}},d.Element.tspan.prototype=new d.Element.TextElementBase,d.Element.tref=function(b){this.base=d.Element.TextElementBase,this.base(b),this.getText=function(){var e=this.attribute("xlink:href").getDefinition();return null!=e?e.children[0].getText():void 0}},d.Element.tref.prototype=new d.Element.TextElementBase,d.Element.a=function(b){this.base=d.Element.TextElementBase,this.base(b),this.hasText=!0;for(var e=0;e<b.childNodes.length;e++){3!=b.childNodes[e].nodeType&&(this.hasText=!1)}this.text=this.hasText?b.childNodes[0].nodeValue:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(f){if(this.hasText){this.baseRenderChildren(f);var g=new d.Property("fontSize",d.Font.Parse(d.ctx.font).fontSize);d.Mouse.checkBoundingBox(this,new d.BoundingBox(this.x,this.y-g.toPixels("y"),this.x+this.measureText(f),this.y))}else{var h=new d.Element.g;h.children=this.children,h.parent=this,h.render(f)}},this.onclick=function(){window.open(this.attribute("xlink:href").value)},this.onmousemove=function(){d.ctx.canvas.style.cursor="pointer"}},d.Element.a.prototype=new d.Element.TextElementBase,d.Element.image=function(f){this.base=d.Element.RenderedElementBase,this.base(f);var b=this.attribute("xlink:href").value,h=b.match(/\.svg$/);if(d.Images.push(this),this.loaded=!1,h){this.img=d.ajax(b),this.loaded=!0}else{this.img=document.createElement("img");var g=this;this.img.onload=function(){g.loaded=!0},this.img.onerror=function(){console&&console.log('ERROR: image "'+b+'" not found'),g.loaded=!0},this.img.src=b}this.renderChildren=function(j){var l=this.attribute("x").toPixels("x"),k=this.attribute("y").toPixels("y"),n=this.attribute("width").toPixels("x"),m=this.attribute("height").toPixels("y");0!=n&&0!=m&&(j.save(),h?j.drawSvg(this.img,l,k,n,m):(j.translate(l,k),d.AspectRatio(j,this.attribute("preserveAspectRatio").value,n,this.img.width,m,this.img.height,0,0),j.drawImage(this.img,0,0)),j.restore())},this.getBoundingBox=function(){var j=this.attribute("x").toPixels("x"),m=this.attribute("y").toPixels("y"),l=this.attribute("width").toPixels("x"),k=this.attribute("height").toPixels("y");return new d.BoundingBox(j,m,j+l,m+k)}},d.Element.image.prototype=new d.Element.RenderedElementBase,d.Element.g=function(b){this.base=d.Element.RenderedElementBase,this.base(b),this.getBoundingBox=function(){for(var f=new d.BoundingBox,e=0;e<this.children.length;e++){f.addBoundingBox(this.children[e].getBoundingBox())}return f}},d.Element.g.prototype=new d.Element.RenderedElementBase,d.Element.symbol=function(b){this.base=d.Element.RenderedElementBase,this.base(b),this.baseSetContext=this.setContext,this.setContext=function(j){if(this.baseSetContext(j),this.attribute("viewBox").hasValue()){var f=d.ToNumberArray(this.attribute("viewBox").value),h=f[0],g=f[1];width=f[2],height=f[3],d.AspectRatio(j,this.attribute("preserveAspectRatio").value,this.attribute("width").toPixels("x"),width,this.attribute("height").toPixels("y"),height,h,g),d.ViewPort.SetCurrent(f[2],f[3])}}},d.Element.symbol.prototype=new d.Element.RenderedElementBase,d.Element.style=function(I){this.base=d.Element.ElementBase,this.base(I);for(var T="",V=0;V<I.childNodes.length;V++){T+=I.childNodes[V].nodeValue}T=T.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,""),T=d.compressSpaces(T);for(var M=T.split("}"),V=0;V<M.length;V++){if(""!=d.trim(M[V])){for(var D=M[V].split("{"),F=D[0].split(","),R=D[1].split(";"),H=0;H<F.length;H++){var N=d.trim(F[H]);if(""!=N){for(var P={},U=0;U<R.length;U++){var K=R[U].indexOf(":"),O=R[U].substr(0,K),G=R[U].substr(K+1,R[U].length-K);null!=O&&null!=G&&(P[d.trim(O)]=new d.Property(d.trim(O),d.trim(G)))}if(d.Styles[N]=P,"@font-face"==N){for(var C=P["font-family"].value.replace(/"/g,""),Q=P.src.value.split(","),S=0;S<Q.length;S++){if(Q[S].indexOf('format("svg")')>0){for(var J=Q[S].indexOf("url"),B=Q[S].indexOf(")",J),A=Q[S].substr(J+5,B-J-6),z=d.parseXml(d.ajax(A)),E=z.getElementsByTagName("font"),L=0;L<E.length;L++){var b=d.CreateElement(E[L]);d.Definitions[C]=b}}}}}}}}},d.Element.style.prototype=new d.Element.ElementBase,d.Element.use=function(b){this.base=d.Element.RenderedElementBase,this.base(b),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),this.attribute("x").hasValue()&&e.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&e.translate(0,this.attribute("y").toPixels("y"))},this.getDefinition=function(){var e=this.attribute("xlink:href").getDefinition();return this.attribute("width").hasValue()&&(e.attribute("width",!0).value=this.attribute("width").value),this.attribute("height").hasValue()&&(e.attribute("height",!0).value=this.attribute("height").value),e},this.path=function(e){var f=this.getDefinition();null!=f&&f.path(e)},this.renderChildren=function(e){var f=this.getDefinition();if(null!=f){var g=f.parent;f.parent=null,f.render(e),f.parent=g}}},d.Element.use.prototype=new d.Element.RenderedElementBase,d.Element.mask=function(b){this.base=d.Element.ElementBase,this.base(b),this.apply=function(m,q){var t=this.attribute("x").toPixels("x"),s=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),u=this.attribute("height").toPixels("y"),l=q.attribute("mask").value;q.attribute("mask").value="";var o=document.createElement("canvas");o.width=t+r,o.height=s+u;var n=o.getContext("2d");this.renderChildren(n);var p=document.createElement("canvas");p.width=t+r,p.height=s+u;var v=p.getContext("2d");q.render(v),v.globalCompositeOperation="destination-in",v.fillStyle=n.createPattern(o,"no-repeat"),v.fillRect(0,0,t+r,s+u),m.fillStyle=v.createPattern(p,"no-repeat"),m.fillRect(0,0,t+r,s+u),q.attribute("mask").value=l},this.render=function(e){}},d.Element.mask.prototype=new d.Element.ElementBase,d.Element.clipPath=function(b){this.base=d.Element.ElementBase,this.base(b),this.apply=function(e){for(var f=0;f<this.children.length;f++){this.children[f].path&&(this.children[f].path(e),e.clip())}},this.render=function(e){}},d.Element.clipPath.prototype=new d.Element.ElementBase,d.Element.filter=function(b){this.base=d.Element.ElementBase,this.base(b),this.apply=function(p,B){var u=B.getBoundingBox(),w=this.attribute("x").toPixels("x"),v=this.attribute("y").toPixels("y");("image"==B.type||0==w||0==v)&&(w=u.x1,v=u.y1);var A=this.attribute("width").toPixels("x"),z=this.attribute("height").toPixels("y");("image"==B.type||0==A||0==z)&&(A=u.width(),z=u.height());var o=B.style("filter").value;B.style("filter").value="";var q="image"==B.type?0:0.2,y=q*A,x=q*z,t=document.createElement("canvas");t.width=A+2*y,t.height=z+2*x;var r=t.getContext("2d");r.translate(-w+y,-v+x),B.render(r);for(var s=0;s<this.children.length;s++){this.children[s].apply(r,0,0,A+2*y,z+2*x)}p.drawImage(t,0,0,A+2*y,z+2*x,w-y,v-x,A+2*y,z+2*x),B.style("filter",!0).value=o},this.render=function(e){}},d.Element.filter.prototype=new d.Element.ElementBase,d.Element.feColorMatrix=function(e){function b(h,g,m,l,j,k){return h[m*l*4+4*g+k]}function f(j,h,o,n,k,m,l){j[o*n*4+4*h+m]=l}this.base=d.Element.ElementBase,this.base(e),this.apply=function(q,t,s,v,u){for(var r=q.getImageData(0,0,v,u),s=0;u>s;s++){for(var t=0;v>t;t++){var o=b(r.data,t,s,v,u,0),n=b(r.data,t,s,v,u,1),m=b(r.data,t,s,v,u,2),p=(o+n+m)/3;f(r.data,t,s,v,u,0,p),f(r.data,t,s,v,u,1,p),f(r.data,t,s,v,u,2,p)}}q.clearRect(0,0,v,u),q.putImageData(r,0,0)}},d.Element.filter.prototype=new d.Element.feColorMatrix,d.Element.feGaussianBlur=function(n){function m(f){f=Math.max(f,0.01);var g=Math.ceil(4*f)+1;mask=[];for(var e=0;g>e;e++){mask[e]=Math.exp(-0.5*(e/f)*(e/f))}return mask}function l(f){for(var g=0,e=1;e<f.length;e++){g+=Math.abs(f[e])}g=2*g+Math.abs(f[0]);for(var e=0;e<f.length;e++){f[e]/=g}return f}function o(u,g,s,A,w){for(var y=0;w>y;y++){for(var z=0;A>z;z++){for(var t=b(u,z,y,A,w,3)/255,x=0;4>x;x++){for(var p=s[0]*(0==t?255:b(u,z,y,A,w,x))*(0==t||3==x?1:t),v=1;v<s.length;v++){var r=b(u,Math.max(z-v,0),y,A,w,3)/255,q=b(u,Math.min(z+v,A-1),y,A,w,3)/255;p+=s[v]*((0==r?255:b(u,Math.max(z-v,0),y,A,w,x))*(0==r||3==x?1:r)+(0==q?255:b(u,Math.min(z+v,A-1),y,A,w,x))*(0==q||3==x?1:q))}k(g,y,z,w,A,x,p)}}}}function b(h,g,s,r,p,q){return h[s*r*4+4*g+q]}function k(p,h,u,t,q,s,r){p[u*t*4+4*h+s]=r}function j(r,f,e,p){var q=r.getImageData(0,0,f,e),s=m(p);s=l(s),tmp=[],o(q.data,tmp,s,f,e),o(tmp,q.data,s,e,f),r.clearRect(0,0,f,e),r.putImageData(q,0,0)}this.base=d.Element.ElementBase,this.base(n),this.apply=function(g,p,h,f,q){j(g,f,q,this.attribute("stdDeviation").numValue())}},d.Element.filter.prototype=new d.Element.feGaussianBlur,d.Element.title=function(b){},d.Element.title.prototype=new d.Element.ElementBase,d.Element.desc=function(b){},d.Element.desc.prototype=new d.Element.ElementBase,d.Element.MISSING=function(b){console&&console.log("ERROR: Element '"+b.nodeName+"' not yet implemented.")},d.Element.MISSING.prototype=new d.Element.ElementBase,d.CreateElement=function(b){var f=b.nodeName.replace(/^[^:]+:/,"");f=f.replace(/\-/g,"");var e=null;return e="undefined"!=typeof d.Element[f]?new d.Element[f](b):new d.Element.MISSING(b),e.type=b.nodeName,e},d.load=function(b,e){d.loadXml(b,d.ajax(e))},d.loadXml=function(b,e){d.loadXmlDoc(b,d.parseXml(e))},d.loadXmlDoc=function(o,j){d.init(o);var m=function(f){for(var e=o.canvas;e;){f.x-=e.offsetLeft,f.y-=e.offsetTop,e=e.offsetParent}return window.scrollX&&(f.x+=window.scrollX),window.scrollY&&(f.y+=window.scrollY),f};1!=d.opts.ignoreMouse&&(o.canvas.onclick=function(e){var f=m(new d.Point(null!=e?e.clientX:event.clientX,null!=e?e.clientY:event.clientY));d.Mouse.onclick(f.x,f.y)},o.canvas.onmousemove=function(e){var f=m(new d.Point(null!=e?e.clientX:event.clientX,null!=e?e.clientY:event.clientY));d.Mouse.onmousemove(f.x,f.y)});var b=d.CreateElement(j.documentElement);b.root=!0;var l=!0,k=function(){d.ViewPort.Clear(),o.canvas.parentNode&&d.ViewPort.SetCurrent(o.canvas.parentNode.clientWidth,o.canvas.parentNode.clientHeight),1!=d.opts.ignoreDimensions&&(b.style("width").hasValue()&&(o.canvas.width=b.style("width").toPixels("x"),o.canvas.style.width=o.canvas.width+"px"),b.style("height").hasValue()&&(o.canvas.height=b.style("height").toPixels("y"),o.canvas.style.height=o.canvas.height+"px"));var s=o.canvas.clientWidth||o.canvas.width,r=o.canvas.clientHeight||o.canvas.height;if(1==d.opts.ignoreDimensions&&b.style("width").hasValue()&&b.style("height").hasValue()&&(s=b.style("width").toPixels("x"),r=b.style("height").toPixels("y")),d.ViewPort.SetCurrent(s,r),null!=d.opts.offsetX&&(b.attribute("x",!0).value=d.opts.offsetX),null!=d.opts.offsetY&&(b.attribute("y",!0).value=d.opts.offsetY),null!=d.opts.scaleWidth&&null!=d.opts.scaleHeight){var p=1,f=1,q=d.ToNumberArray(b.attribute("viewBox").value);b.attribute("width").hasValue()?p=b.attribute("width").toPixels("x")/d.opts.scaleWidth:isNaN(q[2])||(p=q[2]/d.opts.scaleWidth),b.attribute("height").hasValue()?f=b.attribute("height").toPixels("y")/d.opts.scaleHeight:isNaN(q[3])||(f=q[3]/d.opts.scaleHeight),b.attribute("width",!0).value=d.opts.scaleWidth,b.attribute("height",!0).value=d.opts.scaleHeight,b.attribute("viewBox",!0).value="0 0 "+s*p+" "+r*f,b.attribute("preserveAspectRatio",!0).value="none"}1!=d.opts.ignoreClear&&o.clearRect(0,0,s,r),b.render(o),l&&(l=!1,"function"==typeof d.opts.renderCallback&&d.opts.renderCallback())},n=!0;d.ImagesLoaded()&&(n=!1,k()),d.intervalID=setInterval(function(){var e=!1;if(n&&d.ImagesLoaded()&&(n=!1,e=!0),1!=d.opts.ignoreMouse&&(e|=d.Mouse.hasEvents()),1!=d.opts.ignoreAnimation){for(var f=0;f<d.Animations.length;f++){e|=d.Animations[f].update(1000/d.FRAMERATE)}}"function"==typeof d.opts.forceRedraw&&1==d.opts.forceRedraw()&&(e=!0),e&&(k(),d.Mouse.runEvents())},1000/d.FRAMERATE)},d.stop=function(){d.intervalID&&clearInterval(d.intervalID)},d.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(f,e){this.events.push({type:"onclick",x:f,y:e,run:function(b){b.onclick&&b.onclick()}})},this.onmousemove=function(f,e){this.events.push({type:"onmousemove",x:f,y:e,run:function(b){b.onmousemove&&b.onmousemove()}})},this.eventElements=[],this.checkPath=function(g,e){for(var f=0;f<this.events.length;f++){var h=this.events[f];e.isPointInPath&&e.isPointInPath(h.x,h.y)&&(this.eventElements[f]=g)}},this.checkBoundingBox=function(h,g){for(var f=0;f<this.events.length;f++){var e=this.events[f];g.isPointInBox(e.x,e.y)&&(this.eventElements[f]=h)}},this.runEvents=function(){d.ctx.canvas.style.cursor="";for(var b=0;b<this.events.length;b++){for(var e=this.events[b],f=this.eventElements[b];f;){e.run(f),f=f.parent}}this.events=[],this.eventElements=[]}},d}this.canvg=function(t,r,p){if(null!=t||null!=r||null!=p){p=p||{},"string"==typeof t&&(t=document.getElementById(t)),null!=t.svg&&t.svg.stop();var q=c();(1!=t.childNodes.length||"OBJECT"!=t.childNodes[0].nodeName)&&(t.svg=q),q.opts=p;var n=t.getContext("2d");"undefined"!=typeof r.documentElement?q.loadXmlDoc(n,r):"<"==r.substr(0,1)?q.loadXml(n,r):q.load(n,r)}else{for(var l=document.getElementsByTagName("svg"),m=0;m<l.length;m++){var s=l[m],o=document.createElement("canvas");o.width=s.clientWidth,o.height=s.clientHeight,s.parentNode.insertBefore(o,s),s.parentNode.removeChild(s);var b=document.createElement("div");b.appendChild(s),canvg(o,b.innerHTML)}}}}(),window.CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(g,f,k,j,h){canvg(this.canvas,g,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:f,offsetY:k,scaleWidth:j,scaleHeight:h})}),function(A,B){var Z,D,H,E,C,X,S,M,Q,G,L,W,Y,N,V,P,K,J,F,I,T,R,O,U;Z=function(c){return new Z.prototype.init(c)},"undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=Z:A.Globalize=Z,Z.cultures={},Z.prototype={constructor:Z,init:function(c){return this.cultures=Z.cultures,this.cultureSelector=c,this}},Z.prototype.init.prototype=Z.prototype,Z.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},Z.cultures["default"].calendar=Z.cultures["default"].calendars.standard,Z.cultures.en=Z.cultures["default"],Z.cultureSelector="en",D=/^0x[a-f0-9]+$/i,H=/^[+\-]?infinity$/i,E=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,C=/^\s+|\s+$/g,X=function(f,h){if(f.indexOf){return f.indexOf(h)}for(var e=0,g=f.length;g>e;e++){if(f[e]===h){return e}}return -1},S=function(d,c){return d.substr(d.length-c.length)===c},M=function(){var o,q,r,s,n,m,t=arguments[0]||{},p=1,j=arguments.length,l=!1;for("boolean"==typeof t&&(l=t,t=arguments[1]||{},p=2),"object"==typeof t||G(t)||(t={});j>p;p++){if(null!=(o=arguments[p])){for(q in o){r=t[q],s=o[q],t!==s&&(l&&s&&(L(s)||(n=Q(s)))?(n?(n=!1,m=r&&Q(r)?r:[]):m=r&&L(r)?r:{},t[q]=M(l,m,s)):s!==B&&(t[q]=s))}}}return t},Q=Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)},G=function(b){return"[object Function]"===Object.prototype.toString.call(b)},L=function(b){return"[object Object]"===Object.prototype.toString.call(b)},W=function(d,c){return 0===d.indexOf(c)},Y=function(b){return(b+"").replace(C,"")},N=function(b){return isNaN(b)?NaN:Math[0>b?"ceil":"floor"](b)},V=function(f,h,g){var e;for(e=f.length;h>e;e+=1){f=g?"0"+f:f+"0"}return f},P=function(n,h){for(var m=0,j=!1,o=0,k=n.length;k>o;o++){var l=n.charAt(o);switch(l){case"'":j?h.push("'"):m++,j=!1;break;case"\\":j&&h.push("\\"),j=!j;break;default:h.push(l),j=!1}}return m},K=function(j,g){g=g||"F";var f,h=j.patterns,k=g.length;if(1===k){if(f=h[g],!f){throw"Invalid date format string '"+g+"'."}g=f}else{2===k&&"%"===g.charAt(0)&&(g=g.charAt(1))}return g},J=function(aw,ar,al){function at(h,f){var e,j=h+"";return f>1&&j.length<f?(e=ai[f-2]+j,e.substr(e.length-f,f)):e=j}function aj(){return ao||ab?ao:(ao=ae.test(ar),ab=!0,ao)}function af(d,c){if(am){return am[c]}switch(c){case 0:return d.getFullYear();case 1:return d.getMonth();case 2:return d.getDate();default:throw"Invalid part value "+c}}var ax,av=al.calendar,ah=av.convert;if(!ar||!ar.length||"i"===ar){if(al&&al.name.length){if(ah){ax=J(aw,av.patterns.F,al)}else{var r=new Date(aw.getTime()),ad=T(aw,av.eras);r.setFullYear(R(aw,av,ad)),ax=r.toLocaleString()}}else{ax=aw.toString()}return ax}var ak=av.eras,g="s"===ar;ar=K(av,ar),ax=[];var aq,ao,ab,am,ai=["0","00","000"],ae=/([^d]|^)(d|dd)([^d]|$)/g,p=0,k=I();for(!g&&ah&&(am=ah.fromGregorian(aw));;){var q=k.lastIndex,an=k.exec(ar),ag=ar.slice(q,an?an.index:ar.length);if(p+=P(ag,ax),!an){break}if(p%2){ax.push(an[0])}else{var ac=an[0],au=ac.length;switch(ac){case"ddd":case"dddd":var aa=3===au?av.days.namesAbbr:av.days.names;ax.push(aa[aw.getDay()]);break;case"d":case"dd":ao=!0,ax.push(at(af(aw,2),au));break;case"MMM":case"MMMM":var ap=af(aw,1);ax.push(av.monthsGenitive&&aj()?av.monthsGenitive[3===au?"namesAbbr":"names"][ap]:av.months[3===au?"namesAbbr":"names"][ap]);break;case"M":case"MM":ax.push(at(af(aw,1)+1,au));break;case"y":case"yy":case"yyyy":ap=am?am[0]:R(aw,av,T(aw,ak),g),4>au&&(ap%=100),ax.push(at(ap,au));break;case"h":case"hh":aq=aw.getHours()%12,0===aq&&(aq=12),ax.push(at(aq,au));break;case"H":case"HH":ax.push(at(aw.getHours(),au));break;case"m":case"mm":ax.push(at(aw.getMinutes(),au));break;case"s":case"ss":ax.push(at(aw.getSeconds(),au));break;case"t":case"tt":ap=aw.getHours()<12?av.AM?av.AM[0]:" ":av.PM?av.PM[0]:" ",ax.push(1===au?ap.charAt(0):ap);break;case"f":case"ff":case"fff":ax.push(at(aw.getMilliseconds(),3).substr(0,au));break;case"z":case"zz":aq=aw.getTimezoneOffset()/60,ax.push((0>=aq?"+":"-")+at(Math.floor(Math.abs(aq)),au));break;case"zzz":aq=aw.getTimezoneOffset()/60,ax.push((0>=aq?"+":"-")+at(Math.floor(Math.abs(aq)),2)+":"+at(Math.abs(aw.getTimezoneOffset()%60),2));break;case"g":case"gg":av.eras&&ax.push(av.eras[T(aw,ak)].name);break;case"/":ax.push(av["/"]);break;default:throw"Invalid date format pattern '"+ac+"'."}}}return ax.join("")},function(){var b;b=function(v,w,s){var t=s.groupSizes,x=t[0],u=1,e=Math.pow(10,w),q=Math.round(v*e)/e;isFinite(q)||(q=v),v=q;var ac=v+"",ad="",z=ac.split(/e/i),ab=z.length>1?parseInt(z[1],10):0;ac=z[0],z=ac.split("."),ac=z[0],ad=z.length>1?z[1]:"";ab>0?(ad=V(ad,ab,!1),ac+=ad.slice(0,ab),ad=ad.substr(ab)):0>ab&&(ab=-ab,ac=V(ac,ab+1,!0),ad=ac.slice(-ab,ac.length)+ad,ac=ac.slice(0,-ab)),ad=w>0?s["."]+(ad.length>w?ad.slice(0,w):V(ad,w)):"";for(var aa=ac.length-1,r=s[","],y="";aa>=0;){if(0===x||x>aa){return ac.slice(0,aa+1)+(y.length?r+y+ad:ad)}y=ac.slice(aa-x+1,aa+1)+(y.length?r+y:""),aa-=x,u<t.length&&(x=t[u],u++)}return ac.slice(0,aa+1)+r+y+ad},F=function(y,x,s){if(!isFinite(y)){return y===1/0?s.numberFormat.positiveInfinity:y===-(1/0)?s.numberFormat.negativeInfinity:s.numberFormat.NaN}if(!x||"i"===x){return s.name.length?y.toLocaleString():y.toString()}x=x||"D";var t,w=s.numberFormat,aa=Math.abs(y),u=-1;x.length>1&&(u=parseInt(x.slice(1),10));var z,q=x.charAt(0).toUpperCase();switch(q){case"D":t="n",aa=N(aa),-1!==u&&(aa=V(""+aa,u,!0)),0>y&&(aa="-"+aa);break;case"N":z=w;case"C":z=z||w.currency;case"P":z=z||w.percent,t=0>y?z.pattern[0]:z.pattern[1]||"n",-1===u&&(u=z.decimals),aa=b(aa*("P"===q?100:1),u,z);break;default:throw"Bad number format specifier: "+q}for(var m=/n|\$|-|%/g,v="";;){var e=m.lastIndex,r=m.exec(t);if(v+=t.slice(e,r?r.index:t.length),!r){break}switch(r[0]){case"n":v+=aa;break;case"$":v+=w.currency.symbol;break;case"-":/[1-9]/.test(aa)&&(v+=w["-"]);break;case"%":v+=w.percent.symbol}}return v}}(),I=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},T=function(l,g){if(!g){return 0}for(var m,k=l.getTime(),h=0,j=g.length;j>h;h++){if(m=g[h].start,null===m||k>=m){return h}}return 0},R=function(k,g,j,h){var f=k.getFullYear();return !h&&g.eras&&(f-=g.eras[j].offset),f},function(){var g,d,b,o,c,k,l;g=function(q,j){if(100>j){var p=new Date,m=T(p),n=R(p,q,m),h=q.twoDigitYearMax;h="string"==typeof h?(new Date).getFullYear()%100+parseInt(h,10):h,j+=n-n%100,j>h&&(j-=100)}return j},d=function(n,f,j){var e,m=n.days,p=n._upperDays;return p||(n._upperDays=p=[l(m.names),l(m.namesAbbr),l(m.namesShort)]),f=k(f),j?(e=X(p[1],f),-1===e&&(e=X(p[2],f))):e=X(p[0],f),e},b=function(f,e,p){var n=f.months,m=f.monthsGenitive||f.months,s=f._upperMonths,r=f._upperMonthsGen;s||(f._upperMonths=s=[l(n.names),l(n.namesAbbr)],f._upperMonthsGen=r=[l(m.names),l(m.namesAbbr)]),e=k(e);var q=X(p?s[1]:s[0],e);return 0>q&&(q=X(p?r[1]:r[0],e)),q},o=function(z,y){var ad=z._parseRegExp;if(ad){var u=ad[y];if(u){return u}}else{z._parseRegExp=ad={}}for(var ae,ab=K(z,y).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),af=["^"],v=[],ac=0,x=0,w=I();null!==(ae=w.exec(ab));){var r=ab.slice(ac,ae.index);if(ac=w.lastIndex,x+=P(r,af),x%2){af.push(ae[0])}else{var ag,aa=ae[0],p=aa.length;switch(aa){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":ag="(\\D+)";break;case"tt":case"t":ag="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":ag="(\\d{"+p+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":ag="(\\d\\d?)";break;case"zzz":ag="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":ag="([+-]?\\d\\d?)";break;case"/":ag="(\\/)";break;default:throw"Invalid date format pattern '"+aa+"'."}ag&&af.push(ag),v.push(ae[0])}}P(ab.slice(ac),af),af.push("$");var ai=af.join("").replace(/\s+/g,"\\s+"),ah={regExp:ai,groups:v};return ad[y]=ah},c=function(f,e,h){return e>f||f>h},k=function(e){return e.split(" ").join(" ").toUpperCase()},l=function(e){for(var j=[],f=0,h=e.length;h>f;f++){j[f]=k(e[f])}return j},O=function(aq,m,h){aq=Y(aq);var aE=h.calendar,ad=o(aE,m),ah=new RegExp(ad.regExp).exec(aq);if(null===ah){return null}for(var aw,aj=ad.groups,av=null,ay=null,az=null,ax=null,ar=null,aA=0,ap=0,an=0,af=0,au=null,ab=!1,am=0,n=aj.length;n>am;am++){var aC=ah[am+1];if(aC){var al=aj[am],ag=al.length,aB=parseInt(aC,10);switch(al){case"dd":case"d":if(ax=aB,c(ax,1,31)){return null}break;case"MMM":case"MMMM":if(az=b(aE,aC,3===ag),c(az,0,11)){return null}break;case"M":case"MM":if(az=aB-1,c(az,0,11)){return null}break;case"y":case"yy":case"yyyy":if(ay=4>ag?g(aE,aB):aB,c(ay,0,9999)){return null}break;case"h":case"hh":if(aA=aB,12===aA&&(aA=0),c(aA,0,11)){return null}break;case"H":case"HH":if(aA=aB,c(aA,0,23)){return null}break;case"m":case"mm":if(ap=aB,c(ap,0,59)){return null}break;case"s":case"ss":if(an=aB,c(an,0,59)){return null}break;case"tt":case"t":if(ab=aE.PM&&(aC===aE.PM[0]||aC===aE.PM[1]||aC===aE.PM[2]),!ab&&(!aE.AM||aC!==aE.AM[0]&&aC!==aE.AM[1]&&aC!==aE.AM[2])){return null}break;case"f":case"ff":case"fff":if(af=aB*Math.pow(10,3-ag),c(af,0,999)){return null}break;case"ddd":case"dddd":if(ar=d(aE,aC,3===ag),c(ar,0,6)){return null}break;case"zzz":var at=aC.split(/:/);if(2!==at.length){return null}if(aw=parseInt(at[0],10),c(aw,-12,13)){return null}var ac=parseInt(at[1],10);if(c(ac,0,59)){return null}au=60*aw+(W(aC,"-")?-ac:ac);break;case"z":case"zz":if(aw=aB,c(aw,-12,13)){return null}au=60*aw;break;case"g":case"gg":var ao=aC;if(!ao||!aE.eras){return null}ao=Y(ao.toLowerCase());for(var ak=0,j=aE.eras.length;j>ak;ak++){if(ao===aE.eras[ak].name.toLowerCase()){av=ak;break}}if(null===av){return null}}}}var ae,aD=new Date,ai=aE.convert;if(ae=ai?ai.fromGregorian(aD)[0]:aD.getFullYear(),null===ay?ay=ae:aE.eras&&(ay+=aE.eras[av||0].offset),null===az&&(az=0),null===ax&&(ax=1),ai){if(aD=ai.toGregorian(ay,az,ax),null===aD){return null}}else{if(aD.setFullYear(ay,az,ax),aD.getDate()!==ax){return null}if(null!==ar&&aD.getDay()!==ar){return null}}if(ab&&12>aA&&(aA+=12),aD.setHours(aA,ap,an,af),null!==au){var aa=aD.getMinutes()-(au+aD.getTimezoneOffset());aD.setHours(aD.getHours()+parseInt(aa/60,10),aa%60)}return aD}}(),U=function(h,k,j){var l,d=k["-"],m=k["+"];switch(j){case"n -":d=" "+d,m=" "+m;case"n-":S(h,d)?l=["-",h.substr(0,h.length-d.length)]:S(h,m)&&(l=["+",h.substr(0,h.length-m.length)]);break;case"- n":d+=" ",m+=" ";case"-n":W(h,d)?l=["-",h.substr(d.length)]:W(h,m)&&(l=["+",h.substr(m.length)]);break;case"(n)":W(h,"(")&&S(h,")")&&(l=["-",h.substr(1,h.length-2)])}return l||["",h]},Z.prototype.findClosestCulture=function(c){return Z.findClosestCulture.call(this,c)},Z.prototype.format=function(e,g,f){return Z.format.call(this,e,g,f)},Z.prototype.localize=function(d,e){return Z.localize.call(this,d,e)},Z.prototype.parseInt=function(e,g,f){return Z.parseInt.call(this,e,g,f)},Z.prototype.parseFloat=function(e,g,f){return Z.parseFloat.call(this,e,g,f)},Z.prototype.culture=function(c){return Z.culture.call(this,c)},Z.addCultureInfo=function(g,k,j){var f={},h=!1;"string"!=typeof g?(j=g,g=this.culture().name,f=this.cultures[g]):"string"!=typeof k?(j=k,h=null==this.cultures[g],f=this.cultures[g]||this.cultures["default"]):(h=!0,f=this.cultures[k]),this.cultures[g]=M(!0,{},f,j),h&&(this.cultures[g].calendar=this.cultures[g].calendars.standard)},Z.findClosestCulture=function(y){var v;if(!y){return this.findClosestCulture(this.cultureSelector)||this.cultures["default"]}if("string"==typeof y&&(y=y.split(",")),Q(y)){var x,z,t=this.cultures,q=y,s=q.length,u=[];for(z=0;s>z;z++){y=Y(q[z]);var w,r=y.split(";");x=Y(r[0]),1===r.length?w=1:(y=Y(r[1]),0===y.indexOf("q=")?(y=y.substr(2),w=parseFloat(y),w=isNaN(w)?0:w):w=1),u.push({lang:x,pri:w})}for(u.sort(function(d,c){return d.pri<c.pri?1:d.pri>c.pri?-1:0}),z=0;s>z;z++){if(x=u[z].lang,v=t[x]){return v}}for(z=0;s>z;z++){for(x=u[z].lang;;){var p=x.lastIndexOf("-");if(-1===p){break}if(x=x.substr(0,p),v=t[x]){return v}}}for(z=0;s>z;z++){x=u[z].lang;for(var b in t){var j=t[b];if(j.language==x){return j}}}}else{if("object"==typeof y){return y}}return v||null},Z.format=function(f,e,g){var h=this.findClosestCulture(g);return f instanceof Date?f=J(f,e,h):"number"==typeof f&&(f=F(f,e,h)),f},Z.localize=function(d,c){return this.findClosestCulture(c).messages[d]||this.cultures["default"].messages[d]},Z.parseDate=function(m,r,q){q=this.findClosestCulture(q);var p,l,o;if(r){if("string"==typeof r&&(r=[r]),r.length){for(var n=0,j=r.length;j>n;n++){var k=r[n];if(k&&(p=O(m,k,q))){break}}}}else{o=q.calendar.patterns;for(l in o){if(p=O(m,o[l],q)){break}}}return p||null},Z.parseInt=function(e,g,f){return N(Z.parseFloat(e,g,f))},Z.parseFloat=function(an,ad,w){"number"!=typeof ad&&(w=ad,ad=10);var aj=this.findClosestCulture(w),ae=NaN,am=aj.numberFormat;if(an.indexOf(aj.numberFormat.currency.symbol)>-1&&(an=an.replace(aj.numberFormat.currency.symbol,""),an=an.replace(aj.numberFormat.currency["."],aj.numberFormat["."])),an.indexOf(aj.numberFormat.percent.symbol)>-1&&(an=an.replace(aj.numberFormat.percent.symbol,"")),an=an.replace(/ /g,""),H.test(an)){ae=parseFloat(an)}else{if(!ad&&D.test(an)){ae=parseInt(an,16)}else{var al=U(an,am,am.pattern[0]),ah=al[0],ai=al[1];""===ah&&"(n)"!==am.pattern[0]&&(al=U(an,am,"(n)"),ah=al[0],ai=al[1]),""===ah&&"-n"!==am.pattern[0]&&(al=U(an,am,"-n"),ah=al[0],ai=al[1]),ah=ah||"+";var ab,ag,af=ai.indexOf("e");0>af&&(af=ai.indexOf("E")),0>af?(ag=ai,ab=null):(ag=ai.substr(0,af),ab=ai.substr(af+1));var ak,ac,f=am["."],z=ag.indexOf(f);0>z?(ak=ag,ac=null):(ak=ag.substr(0,z),ac=ag.substr(z+f.length));var y=am[","];ak=ak.split(y).join("");var v=y.replace(/\u00A0/g," ");y!==v&&(ak=ak.split(v).join(""));var aa=ah+ak;if(null!==ac&&(aa+="."+ac),null!==ab){var s=U(ab,am,"-n");aa+="e"+(s[0]||"+")+s[1]}E.test(aa)&&(ae=parseFloat(aa))}}return ae},Z.culture=function(b){return"undefined"!=typeof b&&(this.cultureSelector=b),this.findClosestCulture(b)||this.cultures["default"]}}(this),function(a0,aV,aS){function aB(e){var d,f="";e=Math.abs(e);do{d=e%26,f=String.fromCharCode(d+97)+f,e=(e-d)/26}while(e>0);return f}function ag(){return az+aB(al++)}function ar(){return ak++}function aa(){var c=[8,9,"a","b"],d=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return d()+d()+"-"+d()+"-4"+d().substr(0,3)+"-"+c[Math.floor(4*Math.random())]+d().substr(0,3)+"-"+d()+d()+d()}function ad(d,c){return typeof Globalize===aW&&typeof Globalize.format===aW?Globalize.parseDate(d,c):new Date(d)}function ae(d){var e;return e=a1.defined(d)&&typeof Globalize===aW&&typeof Globalize.parseFloat===aW?Globalize.parseFloat(d):Number(d),isNaN(e)?null:e}function aD(l){if(!a1.defined(l)||""===l){return""}var k=/\{([\.\d\w\:\-\/\' \[\]]+)\}/g,f=arguments,j=f&&f.length>1&&typeof f[1]===aJ,h=typeof Globalize===aW&&typeof Globalize.format===aW;return l.replace(k,function(e,b){var o,n,m=b.indexOf(":");if(m>0){var g=b;b=g.substring(0,m),n=g.substring(m+1)}return o=j?/^\d+$/.test(b)?f[parseInt(b,10)+1]:aA(f[1],b):f[parseInt(b,10)+1],n&&h&&(o=Globalize.format(o,n)),o})}function aG(d){if(a1.func(d)){var e=[].slice.call(arguments);return e.shift(),d.apply(this,e)}return aD.apply(this,arguments)}function ao(){return typeof Globalize===aW&&Globalize.cultures&&Globalize.cultures[Globalize.cultureSelector]&&Globalize.cultures[Globalize.cultureSelector].calendar?Globalize.cultures[Globalize.cultureSelector].calendar:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},firstDay:0,months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]}}}function ah(){return typeof Globalize===aW&&Globalize.cultures&&Globalize.cultures[Globalize.cultureSelector]&&Globalize.cultures[Globalize.cultureSelector].numberFormat?Globalize.cultures[Globalize.cultureSelector].numberFormat.currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}}function ai(c,d){if(d=d!==aS?d:aQ.dieOnError){throw new Error(c)}aV.console&&aV.console.error&&console.error(c)}function aY(d){var c=Object.prototype.toString.call(d);return null===d?"null":d===aS?"undefined":c.substr(8,c.length-9).toLowerCase()}function aH(r){var q,p,s,o,u,k=Array.apply(null,arguments),j=a1.array(r)&&r.length&&!aL(r,function(c){return !a1.func(c)}).length,t=k[1],b=function(d,c){return d instanceof c};if(!j){return aR.apply(a0,k)}for(a1.object(t)||a1.array(t)||(t={}),p=2;p<k.length;p++){if(q=k[p]){for(s in q){q.hasOwnProperty(s)&&(u=q[s],o=t[s],u&&aL(r,aI(b,null,u)).length?t[s]=u:a1.object(u)||a1.array(u)?(a1.object(o)||(o=t[s]=a1.array(u)?[]:{}),t[s]=aH(r,o,u)):a1.date(u)?t[s]=new Date(u.getTime()):u!==aS&&(t[s]=u))}}}return t}function aC(d){var e,f=[];for(e in d){d.hasOwnProperty(e)&&f.push(e)}return f}function aA(h,f){var j;if(!a1.string(f)){throw new Error("shield.get: parameter 'path' must be a string.")}if(f=ax(f),j=at[f]){return j(h)}try{j=new Function("a","try{return a"+f+"}catch(e){return arguments[1];}")}catch(g){throw new Error("shield.get: invalid 'path' parameter")}return at[f]=j,j(h)}function aj(k,g,j){var l;if(!a1.string(g)){throw new Error("shield.set: parameter 'path' must be a string")}if(g=ax(g),l=au[g]){return l(k,j)}try{l=new Function("obj,val","obj"+g+"=val;")}catch(h){throw new Error("shield.set: invalid 'path' parameter")}return au[g]=l,l(k,j),k}function ax(k){var n,h,l,j,m,o=k.split(".");for(h=0,l=o.length;l>h;h++){j=o[h],n=j.indexOf("["),j&&(0>n?(m=j.indexOf("'")<0?"'":'"',j=o[h]="["+m+j+m+"]"):n>0&&(j=o[h]="."+j))}return o.join("")}function am(b,d){aQ.ui[b]=d,a0.fn[az+b]=function(h){var f,c=this;return typeof h===av?(f=[].slice.call(arguments,1),this.each(function(){var j,g,e=a0.data(this,aM);if(!e){throw new Error(aG("shield: cannot call method '{0}' on uninitialized {1}.",h,b))}if(j=e[h],typeof j!==aW){throw new Error(aG("shield: cannot find method '{0}' of {1}",h,b))}return g=j.apply(e,f),g!==aS?(c=g,!1):void 0}),c):this.each(function(){var g=new d(this,h);a0(this).data(aM,g),a0(this).data(aM+"-"+b,g)})}}function aU(b){b?aX.onselectstart==aU.handler&&(aX.onselectstart=aU.onselectstart,aX.ondragstart=aU.ondragstart):aX.onselectstart!=aU.handler&&(aU.onselectstart=aX.onselectstart,aU.ondragstart=aX.ondragstart,aX.onselectstart=aX.ondragstart=aU.handler)}var aQ=aV.shield=aV.shield||{},aR=a0.extend,aL=a0.grep,aI=a0.proxy,aZ=navigator.userAgent,aX=document,az="shield",aM="shieldWidget",aJ="object",av="string",aW="function",aF="array",aE="number",aq="date",an="boolean",ap="null",ay="undefined",aK=function(){},al=100,ak=1000,aT={},at={},au={},aO=function(){},af={SVG_NS:"http://www.w3.org/2000/svg",XHTML_NS:"http://www.w3.org/1999/xhtml",KeyCode:{BACK:8,TAB:9,ENTER:13,CTRL:17,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:46}};aO.extend=function(j){var n,d,p,l,m=this,o=j&&j.init?j.init:function(){m.apply(this,arguments)},k=function(){};k.prototype=m.prototype,n=o.fn=o.prototype=new k;for(d in j){j.hasOwnProperty(d)&&(p=j[d],l=aY(p),p&&typeof p===aJ?n[d]=aR(!0,l===aF?[]:{},m.prototype[d],p):n[d]=p)}return n.constructor=o,o.extend=m.extend,o},Date.prototype.toISOString||!function(){function b(c){var d=String(c);return 1===d.length&&(d="0"+d),d}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1000).toFixed(3)).slice(2,5)+"Z"}}(),a0.fn.swidget=function(d){var b=this.map(function(c){return d?a0(this).data(aM+"-"+d):a0(this).data(aM)}).get();return b.length?b.length>1?b:b[0]:null};var aP=aO.extend({init:function(e){var f,g=this,h=(e||{}).events;g.events={},e=e||{};for(f in h){typeof h[f]===aW&&g.on(f,h[f])}},on:function(y,u,n){var s,x,v,o,r,t=this,p=t.events,w=aN.array(y),q=a1.func(u);if(a1.object(y)){w=[];for(r in y){y.hasOwnProperty(r)&&w.push(r)}q=!1,u=y}for(v=0,o=w.length;o>v;v++){y=w[v],s=t._eventType(y),x=q?u:u[y],a1.func(x)&&(n&&(x=t._one(y,x)),(p[s]||(p[s]=[])).push({name:y,handler:x}))}return t},_one:function(e,h){var g=this,f=function(){g.off(e,f),h.apply(this,arguments)};return f},_eventType:function(d){var c=(d+="").indexOf(".");return c>-1?d.substring(0,c):d},_eventNameMatch:function(p,o){var r,s,n,q,l=this,b=l._eventType(p),m=l._eventType(o);if(p+="",o+="",(b===m||!m)&&(r=p.split("."),r.shift(),r=aL(r,function(c){return a1.string(c)&&c.length>0}),s=o.split("."),m&&s.shift(),s=aL(s,function(c){return a1.string(c)&&c.length>0}),r&&s)){for(n=0,q=0;q<s.length;q++){a0.inArray(s[q],r)>-1&&n++}return n>=s.length}return !1},one:function(d,c){this.on(d,c,!0)},off:function(x,t){var v,w,u,q,y,o,r=this,s=r.events,p=aN.array(x),j=a1.func(t);if(a1.object(x)){p=[];for(o in x){x.hasOwnProperty(o)&&p.push(o)}j=!1,t=x}if(a1.string(x)&&0===x.indexOf(".")){for(v in s){if(s.hasOwnProperty(v)){for(w=s[v]||[],u=j?t:t||aS,y=w.length-1;y>=0;y--){!r._eventNameMatch(w[y].name,x)||a1.defined(u)&&w[y].handler!==u||w.splice(y,1)}w.length||delete s[v]}}}else{for(q=0;q<p.length;q++){for(x=p[q],v=r._eventType(x),w=s[v]||[],u=j?t:(t||{})[x],y=w.length-1;y>=0;y--){!r._eventNameMatch(w[y].name,x)||a1.defined(u)&&w[y].handler!==u||w.splice(y,1)}w.length||delete s[v]}}return r},trigger:function(m,l){var j,o,h=this,k=h._eventType(m),n=(h.events[k]||[]).slice();for(j=0,o=n.length;o>j;j++){n[j].handler.apply(h,[].slice.call(arguments,1))}return l},destroy:function(){this.events={}}}),aw=aO.extend({init:function(f){var e=!1,d=!1;aR(this,{timeStamp:(new Date).getTime(),isDefaultPrevented:function(){return e},isPropagationStopped:function(){return d},preventDefault:function(){e=!0},stopPropagation:function(){d=!0}},f)}}),ac=aP.extend({init:function(f,b){var h=this,g=h.constructor;b=b||{},h.element=a0(f),h.initialOptions=b,h.options=aR(!0,{},g.defaults,(g.themes||{})[b.theme],b),h._iid=ar(),aP.fn.init.call(h,b)},getInstanceId:function(){return this._iid},refresh:function(b){this.refreshWithElement(this.element,b)},refreshWithElement:function(e,h){var f=this,g=aH([aO],f.options,h);f.destroy(),f.init(e,g)},hide:function(){a0(this.element).hide()},show:function(){a0(this.element).show()},isVisible:function(){return a0(this.element).is(":visible")},visible:function(){var d=this,c=[].slice.call(arguments);return c.length>0?void (c[0]?d.show():d.hide()):d.isVisible()},focus:function(){a0(this.element).focus()},trigger:function(f,l,b){var k,j=this;return l=a1.event(l)?{domEvent:l}:l,!l||!l.domEvent||l.domEvent instanceof a0.Event||(l.domEvent=a0.Event(l.domEvent)),k=new aw(aR({type:f,target:j},l)),aP.fn.trigger.call(j,f,k),typeof b!==aW||k.isDefaultPrevented()||b.call(j,k),k}}),ab=aP.extend({options:{total:0,pageBuffer:2,createContainer:aK,getItems:aK,eventNS:".shieldVirtualized",skipRender:!1},init:function(e,f){var b=this;f=b.options=aR({},b.options,f),b.element=a0(e),aP.fn.init.call(b,f),f.skipRender||b.render()},_elements:function(){var k,h,b=this,g=b.element,j=b.options;k=b.wrapper=g.off(j.eventNS).empty().css({overflow:"auto",position:"relative"}).on("scroll"+j.eventNS,aI(b._onscroll,b)).append('<div class="sui-virtualized" />').find(".sui-virtualized").css({position:"relative",overflow:"visible"}),h=b.container=a0(j.createContainer(k)),k.children().css({position:"absolute",top:0})},_dimensions:function(){var p=this,o=p.options,n=o.total,r=o.itemHeight,m=Math.min(n*r,aQ.support.maxElementHeight),q=p.element.height(),l=Math.ceil(q/r),k=l*r,j=m-q;return{total:n,itemHeight:r,totalHeight:m,viewportHeight:q,itemsPerPage:l,pageHeight:k,totalScrollableHeight:j}},render:function(){var e,f=this,g=f.element,h=f.options;f._elements(),f.prevScroll=0,e=f.dimensions=f._dimensions(),g.find(".sui-virtualized").height(e.totalHeight),f._renderItems(0,Math.min(h.total,(h.pageBuffer+1)*e.itemsPerPage))},_onscroll:function(c){var d=this;d._to&&clearTimeout(d._to),d._to=setTimeout(aI(d.scroll,d,c),20)},scroll:function(r){var C,B,y,G=this,u=G.options,D=u.pageBuffer,H=G.dimensions,E=G.element.scrollTop(),v=G.prevScroll,x=E-v,A=E/H.totalScrollableHeight,z=G.wrapper.children().first(),w=z.data("sui-vz-top")||0,F=E-A*(H.pageHeight-H.viewportHeight),s=x>0&&F-w>(D/4+1)*H.pageHeight,t=0>x&&F-w<=D/4*H.pageHeight;(t||s)&&(B=Math.min(H.total,Math.floor(A*H.total-A*H.itemsPerPage)),C=Math.max(0,B-D/2*H.itemsPerPage),y=Math.min(H.total,C+(D+1)*H.itemsPerPage),F=Math.max(0,F-(B-C)*H.itemHeight),G._renderItems(C,y,function(){z.css("top",F),z.data("sui-vz-top",F)})),G.prevScroll=E},_renderItems:function(m,l,o){var j,n,p=this,k=p.options;k.getItems(m,l,function(b,c){for(c=a1.defined(c)?!!c:!0,c&&p.container.empty(),j=0,n=b.length;n>j;j++){p.container.append(b[j])}o&&o()})},destroy:function(){var d=this,c=d.options;d.element.off(c.eventNS),d.element=null,c.createContainer=aK,c.getItems=aK,aP.fn.destroy.call(d)}}),a1={string:function(b){return aY(b)===av},number:function(b){return aY(b)===aE},integer:function(b){return aY(b)===aE&&/^[\+\-]?\d+$/.test(b+"")},"float":function(b){return aY(b)===aE&&/^[\+\-]?\d+\.\d+$/.test(b+"")},func:function(b){return aY(b)===aW},object:function(b){return aY(b)===aJ},array:function(b){return aY(b)===aF},date:function(b){return aY(b)===aq},"boolean":function(b){return aY(b)===an},"null":function(b){return aY(b)===ap},undefined:function(b){return aY(b)===ay},defined:function(b){return b!==aS&&null!==b},event:function(b){return typeof aV.Event==aW&&b instanceof aV.Event||b&&b.altKey!==aS}},aN={"int":function(d,c){return parseInt(d,c||10)},"float":function(b){return parseFloat(b)},number:function(b){return ae(b+"")},array:function(b){return b instanceof Array?b:b!==aS?[b]:[]},string:function(b){return b+""},key:function(b){var j,m,l,k,d=aY(b);switch(d){case ap:case ay:return d;case aJ:return j=aC(b).sort(),m=[],a0.each(j,function(e,c){m.push(c+":"+aN.key(b[c]))}),"{"+m.join(",")+"}";case aF:for(m="[",l=0,k=b.length;k>l;l++){m+=aN.key(b[l]),k-1>l&&(m+=",")}return m+="]";case aq:return b.toISOString();default:return b+""}}};!function(){aT.stableSort=function(){var b="abcdefghijklmnopqrstuvwxyz";return"xyzvwtursopqmnklhijfgdeabc"==b.split("").sort(function(d,e){return ~~(b.indexOf(e)/2.3)-~~(b.indexOf(d)/2.3)}).join("")}(),aT.scrollbar=function(){var c,d=aX.createElement("div");return d.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both",d.innerHTML="&nbsp;",aX.body.appendChild(d),c=d.offsetWidth-d.scrollWidth,aX.body.removeChild(d),c},aT.isRtl=function(b){return a0(b).closest(".sui-rtl").length>0},aT.transitions=function(){var e,j=(aX.body||aX.documentElement).style,h="Transition",g=["Moz","webkit","Webkit","Khtml","O","ms"];if(a1.string(j[h.toLowerCase()])){return !0}for(e=0;e<g.length;e++){if(a1.string(j[g[e]+h])){return !0}}return !1}()}(),function(){aQ.rAF=function(b){return(aV.requestAnimationFrame||aV.webkitRequestAnimationFrame||aV.mozRequestAnimationFrame||function(c){return this.setTimeout(c,1000/60)}).call(aV,b)},aQ.cAF=function(b){return(aV.cancelAnimationFrame||aV.clearTimeout)(b)}}(),function(){var c=/MSIE/i.test(aZ),o=/Trident/i.test(aZ),n=/Firefox/i.test(aZ),m=/Opera/i.test(aZ),l=/Safari/i.test(aZ),j=/Chrome/i.test(aZ),k=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(aZ);aT.browser={ie:c||o,firefox:n,opera:m,safari:!j&&l,chrome:j,mobile:k,version:c?parseInt(aZ.substr(aZ.indexOf("MSIE ")+5),10):o?parseInt(aZ.substr(aZ.indexOf("rv:")+3),10):n?parseInt(aZ.substr(aZ.indexOf("Firefox/")+8),10):m?parseInt(aZ.substr(aZ.indexOf("Version/")+8),10):j?parseInt(aZ.substr(aZ.indexOf("Chrome/")+7),10):l?parseInt(aZ.substr(aZ.indexOf("Version/")+8),10):0}}(),a0(function(){for(var b,h=1000000,e=aT.browser.firefox?6000000:1000000000,k=a0("<div style='display:none' />").appendTo(aX.body),j=h;;){if(b=j+h,k.css("height",b),b>e||k.height()!==b){break}j=b}k.remove(),aT.maxElementHeight=j}),aU.handler=function(){return !1},aR(aQ,{Class:aO,Dispatcher:aP,Event:aw,Constants:af,format:aG,formatString:aD,parseDate:ad,getCalendarInfo:ao,getCurrencyInfo:ah,error:ai,dieOnError:!0,iid:ar,strid:ag,guid:aa,support:aT,extend:aH,selection:aU,type:aY,is:a1,to:aN,keys:aC,get:aA,set:aj,ui:aR({},aQ.ui||{},{Widget:ac,VirtualizedContainer:ab,plugin:am})})}(jQuery,this),function(aP,aL,W,aN){function az(f,k){var g,j,h=[];if(f.map){return f.map(k)}for(g=0,j=f.length;j>g;g++){h[g]=k(f[g],g,f)}return h}function au(l,k,c,j,g){var f=aM(l,k);return f===aN?c&&(f=aQ.def(c,j,g!==!1)):f=aQ.convert(f,c),f}var an,ae,aB,aO,ax,aR,ar,aD,aC,af,ai,aj,ah,aQ,aF=aL.Class,aG=aL.Dispatcher,am=Math.min,av=Math.max,aS=aL.is,at=aL.to,aM=aL.get,ap=aL.set,aE=(aL.support,aL.type),al=function(){},aK=aP.extend,aJ=aP.proxy,aH=aP.each,ao=aP.grep,ak=aP.inArray,ay=aP.Deferred,aw="function",aq="array",ag="object",X="string",aI="change",aA="error",ab="start",ad="complete",Z="save",ac="afterset",Y="insert",aa="remove";an=aF.extend({init:function(b){this.data=b},read:function(d,e,f){return e(this.data)},modify:function(d,e,f){e()}}),ae=aF.extend({init:function(d,c){this.options=d,this.cache=c},read:function(p,o,m){var n,f=this.options,d=f.read,l=this.cache;return aS.func(d)?void d(p,o,m):(d=aS.string(d)?{url:d}:aK(!0,{},d),aS.func(d.data)&&(p=d.data(p)),n=l.get(p),void (n!==aN?o(n,!0):(d.data=p,d.error=m,d.success=function(b){l.set(p,b),o(b)},aP.ajax(d))))},modify:function(y,v,t){var C,D,w,A,B,s=this.options,x=s.modify||{},u=["create","update","remove"],j=["added","edited","removed"],z=[],d=function(b){return b.data};if(aS.func(x)){return void x(y,v,t)}for(B=0;B<u.length;B++){w=u[B],A=j[B],D=x[w],y[A].length?(aS.string(D)&&(D={url:D,type:"POST"}),aS.func(D)?(C=z[B]=new ay,D(y[A],aJ(C.resolve,C),aJ(C.reject,C))):aS.object(D)?(D=aK(!0,{},D),aS.func(D.data)?D.data=D.data(y[A]):(D.data={},D.data[A]=az(y[A],d)),C=z[B]=aP.ajax(D)):(C=z[B]=new ay,C.resolve())):(C=z[B]=new ay,C.resolve())}aP.when.apply(aP,z).then(v,t)}}),aB=aF.extend({init:function(){this.values={}},get:function(b){return this.values[at.key(b)]},set:function(c,d){return this.values[at.key(c)]=d,d},remove:function(d){var e=at.key(d),f=this.values[e];return delete this.values[e],f},clear:function(){this.values=[]}}),aB.noop={get:al,set:al},ax=aF.extend({init:function(d,e){aS.object(d)?d=at.array(d):aS.string(d)&&(d=[{path:d,desc:!!e}]),this._expr=d},build:function(){var d=this._expr,e=ax.cache;return aS.func(d)?function(b){return function(f,h){var g=b(f.item,h.item);return 0!==g?g:f.index-h.index}}(d):aS.array(d)?e.get(d)||e.set(d,function(c){return function(n,g){var p,s,r,q,b,u,t,o;for(q=0,b=c.length;b>q;q++){if(u=n.item,t=g.item,p=c[q]||{},s=p.path,r=p.desc?-1:1,aS.string(s)?(u=aM(u,s),t=aM(t,s)):aS.func(s)&&(u=s(u),t=s(t)),aS.date(u)&&(u=u.getTime()),aS.date(t)&&(t=t.getTime()),u!==t&&(null!=u||null!=t)){if(null==u){return -1*r}if(null==t){return 1*r}if(aS.number(u)&&aS.number(t)||(u=u.toString(),t=t.toString()),u.localeCompare){if(o=u.localeCompare(t),0===o){continue}return o*r}if(u>t){return 1*r}if(t>u){return -1*r}}}return n.index-g.index}}([].concat(d))):void 0}}),ax.cache=new aB,aR=aF.extend({init:function(b){this._expr=b||[]},build:function(){var h=this,f=aR.cache,g=h._expr,b=h._func||(h._func=f.get(g));return b||(b=h._buildRecursive(g,!0),b&&f.set(g,b)),b},_single:function(e){var b;if(e){if(aS.func(e.filter)){return e.filter}if(b=aR.filters[aR.filterAliases[e.filter]]){return function(g,f,j,h){return function(c){return f(aM(c,g),j,h)}}(e.path,b,e.value,e.sensitive)}}},_multiple:function(d,c){return function(g){var j,h=!0,b=d.length;for(j=0;b>j;j++){if(h=d[j](g),c){if(!h){break}}else{if(h){break}}}return h}},_buildRecursive:function(h,j){var n,k,m=this,l=[];if(aS.array(h)){for(n=0,k=h.length;k>n;n++){l.push(m._buildRecursive(h[n]))}return l.length>1?m._multiple(l,j):l[0]}return h.and||h.or?m._buildRecursive(h.and||h.or,!!h.and):m._single(h)}}),aR.cache=new aB,aR.normalize={equatable:function(g,f,b){return aS.date(g)?{a:g.getTime(),b:new Date(f).getTime()}:aR.normalize.string(g,f,b)},string:function(e,d,f){return{a:f?e+"":(e+"").toLowerCase(),b:f?d+"":(d+"").toLowerCase()}},scalar:function(d,e){return aS.date(d)?{a:d.getTime(),b:new Date(e).getTime()}:isNaN(parseFloat(d))?{a:d,b:e}:{a:parseFloat(d),b:parseFloat(e)}}},aR.filters={eq:function(h,g,f){var b=aR.normalize.equatable(h,g,f);return b.a===b.b},neq:function(h,g,f){var b=aR.normalize.equatable(h,g,f);return b.a!==b.b},con:function(h,g,f){var b=aR.normalize.string(h,g,f);return b.a.indexOf(b.b)>-1},notcon:function(h,g,f){var b=aR.normalize.string(h,g,f);return b.a.indexOf(b.b)<0},starts:function(h,g,f){var b=aR.normalize.string(h,g,f);return 0===b.a.indexOf(b.b)},ends:function(h,g,f){var b=aR.normalize.string(h,g,f);return b.a.indexOf(b.b)===b.a.length-b.b.length},gt:function(f,e){var b=aR.normalize.scalar(f,e);return b.a>b.b},lt:function(f,e){var b=aR.normalize.scalar(f,e);return b.a<b.b},gte:function(f,e){var b=aR.normalize.scalar(f,e);return b.a>=b.b},lte:function(f,e){var b=aR.normalize.scalar(f,e);return b.a<=b.b},isnull:function(b){return null==b},notnull:function(b){return null!=b}},aR.filterAliases={eq:"eq",equal:"eq",equals:"eq","==":"eq",neq:"neq",ne:"neq",doesnotequal:"neq",notequal:"neq",notequals:"neq","!=":"neq",con:"con",contains:"con",notcon:"notcon",doesnotcontain:"notcon",notcontains:"notcon",starts:"starts",startswith:"starts",ends:"ends",endswith:"ends",gt:"gt",greaterthan:"gt",">":"gt",lt:"lt",lessthan:"lt","<":"lt",gte:"gte",ge:"gte",greaterthanorequal:"gte",">=":"gte",lte:"lte",le:"lte",lessthanorequal:"lte","<=":"lte",isnull:"isnull","null":"isnull",notnull:"notnull",isnotnull:"notnull"},ar=aF.extend({init:function(){},build:function(e){var g=this,h=ar.cache,f=h.get(e);return f||(f=g._build(e),f&&h.set(e,f)),f},_build:function(k){if(!k){return null}var j=k.field,l=k.aggregate,c=k.type||Number,f=function(b){return b===aN?aQ.def(c):aQ.convert(b,c)};return aS.func(l)?l:"count"==l?function(b){return b.length}:"sum"==l?function(h){var n,m,g=0,b=h.length;for(n=0;b>n;n++){m=au(h[n],j,c),g+=c==Date&&aS.date(m)?m.getTime():m}return f(g)}:"average"==l?function(h){var n,m,g=0,b=h.length;for(n=0;b>n;n++){m=au(h[n],j,c),g+=c==Date&&aS.date(m)?m.getTime():m}return f(g/b)}:"min"==l?function(b){return f(am.apply(null,az(b,function(d){return au(d,j,c)})))}:"max"==l?function(b){return f(av.apply(null,az(b,function(d){return au(d,j,c)})))}:aN}}),ar.cache=new aB,aO=aF.extend({init:function(n,m,k,j,l){var h=this;h.data=n,h.total=null!=m?m:n?n.length:0,h.aggregates=k,h.groups=j,h.indices=aS.array(l)?l.slice(0):az(n||[],function(c,d){return d})},filter:function(b){var q,m,o,r=this,l=new aR(b).build(),n=r.data,p=[],e=[];if(l){for(q=0,m=n.length;m>q;q++){o=n[q],l(o)&&(p.push(o),e.push(r.indices[q]))}r.indices=e}else{p=n.slice(0)}return new aO(p,p.length,r.aggregates,r.groups,r.indices)},aggregate:function(r){var q,p,o,n,e=this,l=new ar,m=e.data;for(aS.array(r)||(r=[r]),e.aggregates=[],q=0;q<r.length;q++){p=r[q],o=l.build(p),o&&(n=o(m,p)),e.aggregates.push(aK({},p,{value:n}))}return new aO(m.slice(0),e.total,e.aggregates,e.groups,e.indices)},aggregateGroups:function(h){var f=this,e=f.data.slice(0),g=new aO(f._getInnerMostItems(e),null,null,null,null).aggregate(h);return new aO(e,f.total,g.aggregates,f.groups,f.indices)},_getInnerMostItems:function(c){var d=[];return aH(this._getInnerMostGroups(c),function(f,e){d=d.concat(e.items)}),d},_getInnerMostGroups:function(f){var d=this,e=[];return aH(f||[],function(b,g){e=e.concat(d._hasInnerGroups(g)?d._getInnerMostGroups(g.items):g)}),e},_hasInnerGroups:function(c){return c&&c.items&&c.items.length>0?c.items[0].field&&aS.array(c.items[0].items):!1},group:function(j){var h,e=this,g=e.data.slice(0);return aS.array(j)||(j=[j]),j.length>0&&(h=e._groupData(j,g,e.indices),g=h[0],e.indices=h[1]),new aO(g,e.total,e.aggregates,e.groups,e.indices)},_groupData:function(G,g,H){var F,O,K,T,R,e=this,S=[],M=[],N=G.slice(0),P=N.shift(),l=P.field,D=P.aggregate,C=P.order,v={};if(aH(g,function(f,c){O=aM(c,l),K=v[O],aS.defined(K)?S[K].items.push({item:c,index:H[f]}):(v[O]=S.length,S.push(aK({},P,{value:O,items:[{item:c,index:H[f]}]})))}),C&&(F=new ax("value","desc"==C).build())){for(T=0;T<S.length;T++){S[T]={item:S[T],index:T}}for(S.sort(F),T=0;T<S.length;T++){S[T]=S[T].item}}for(T=0;T<S.length;T++){for(R=0;R<S[T].items.length;R++){M.push(S[T].items[R].index),S[T].items[R]=S[T].items[R].item}}if(D&&aH(S,function(d,c){S[d].aggregate=new aO(c.items).aggregate(D).aggregates}),N&&N.length>0){var J=0,L=[];for(T=0;T<S.length;T++){var Q=S[T],I=M.slice(J,J+(Q.items?Q.items.length:0)),E=e._groupData(N,Q.items,I);S[T].items=E[0],L=L.concat(E[1]),J+=Q.items?Q.items.length:0}M=L}return[S,M]},sort:function(l,k){var r,q=this,n=new ax(l,k).build(),p=q.data.slice(0),o=[],m=p?p.length:0,e=q.indices;if(n){for(r=0;m>r;r++){o.push({index:e[r],item:p[r]})}for(o.sort(n),r=0;m>r;r++){p[r]=o[r].item,q.indices[r]=o[r].index}}return new aO(p,q.total,q.aggregates,q.groups,q.indices)},sortGroups:function(l,k){var e,j=this,m=j.data.slice(0),o=[],n=0;return e=function(c){if(j._hasInnerGroups(c)){aH(c.items,function(f,d){e(d)})}else{var b=new aO(c.items,null,null,null,j.indices.slice(n,n+(c.items?c.items.length:0))).sort(l,k);c.items=b.data,o=o.concat(b.indices),n+=c.items?c.items.length:0}},aH(m,function(d,b){e(b)}),new aO(m,j.total,j.aggregates,j.groups,o)},_sliceGroups:function(q,p,u,t){var s,l=this,o=0,n=[],r=[],m=aS.defined(t);return 0!==u||m?(s=function(c){if(l._hasInnerGroups(c)){var g=[],d=0;return aH(c.items,function(w,v){var f=s(v);f>0&&(g.push(v),d+=f)}),c.items=g,d}var b,k,e=o,j=c.items.length,h=e+j-1;return m?t-1>=h?h>=u&&(b=av(0,u-e),k=j):t-1>=e&&h>=u&&(b=av(0,u-e),k=am(j,t-e)):e>=u?(b=0,k=j):u>=e&&h>=u&&(b=av(0,u-e),k=j),aS.defined(b)&&aS.defined(k)&&k>b?(c.items=c.items.slice(b,k),r=r.concat(p.slice(e+b,e+k))):c.items=[],o+=j,c.items.length},aH(q,function(f,e){var d=s(e);d>0&&n.push(e)}),[n,r]):[q.slice(0),p.slice(0)]},skip:function(c){var d=this;return new aO(d.data.slice(c),d.total,d.aggregates,d.groups,d.indices.slice(c))},skipGroups:function(f){var e=this,d=e._sliceGroups(e.data,e.indices,f);return new aO(d[0],e.total,e.aggregates,e.groups,d[1])},take:function(c){var d=this;return new aO(d.data.slice(0,c),d.total,d.aggregates,d.groups,d.indices.slice(0,c))},takeGroups:function(f){var e=this,d=e._sliceGroups(e.data,e.indices,0,f);return new aO(d[0],e.total,e.aggregates,e.groups,d[1])}}),aO.create=function(p,r,o,n,m){r=r||{};var q=new aO(p,o,n,m),l=r.remoteOperations||[],k=l.join(" "),e=k.indexOf("group")>-1;return r.group||e?(r.group?(r.filter&&(q=q.filter(r.filter)),q=q.group(r.group)):q.data=q.groups,r.aggregate&&(q=q.aggregateGroups(r.aggregate)),r.sort&&(q=q.sortGroups(r.sort)),r.skip&&(q=q.skipGroups(r.skip)),r.take&&(q=q.takeGroups(r.take))):(r.filter&&(q=q.filter(r.filter)),r.aggregate&&(q=q.aggregate(r.aggregate)),r.sort&&(q=q.sort(r.sort)),r.skip&&(q=q.skip(r.skip)),r.take&&(q=q.take(r.take))),q},aD=aG.extend({init:function(k){var g=this,l=g.options=aS.array(k)?{data:k}:k||{},j=l.schema||{},h=aD.schemas[j.type||"json"];g.data=null,g.filter=l.filter,g.sort=l.sort,g.skip=l.skip,g.take=l.take,g.group=l.group,g.aggregate=l.aggregate,g.schema=new h(j),g.remote=l.remote,g.cache=new aB,aG.fn.init.call(g,l)},trigger:aL.ui.Widget.fn.trigger,_client:function(){var d=this,e=d.remote;return aS.object(e)?new ae(e,e.cache?d.cache:aB.noop):new an(d.options.data)},_params:function(){var h,g=this,l=["filter","aggregate","group","sort","skip","take"],k=g.remote,j=g._remoteOperations().join(" "),m={local:{},remote:{}};return aH(l,function(b,c){h=g[c],null!=h&&(k&&j.indexOf(c)>-1?m.remote[c]=h:m.local[c]=h)}),m},_remoteOperations:function(){var b=this.remote;return b&&b.read?b.read.operations||b.operations||[]:[]},_success:function(n,m,l,o){var j=this,k=j.schema,h=k.process(l);j.data=h.data,j._pTotal=h.total,j._pAggregates=h.aggregates,j._pGroups=h.groups,j._createView(h.data,m),j.trigger(ad),j.trigger(aI,{fromCache:!!o}),n.resolve(j.view,!!o)},_createView:function(h,g){var f=this,e=aO.create(h,aK({},g||f._params().local,{remoteOperations:f._remoteOperations()}),f._pTotal,f._pAggregates,f._pGroups);f.view=e.data,f.total=e.total,f._indices=e.indices,f.aggregates=e.aggregates},_error:function(k,j,h,g){var f=this;k.reject(g),j&&f.trigger(ad),f.trigger(aA,{errorType:"transport",error:g,operation:h})},read:function(){var f=this,e=new ay,h=f._params(),g=f.trigger(ab,{params:h});return g.isDefaultPrevented()?e.resolve():(f.cancel(),f._client().read(h.remote,aJ(f._success,f,e,h.local),aJ(f._error,f,e,!0,"read"))),e.promise()},_ensureTracker:function(){var e=this,g=e.tracker,f=e.data;if(!g){if(!f||!aS.array(f)){throw new Error("shield.DataSource: cannot modify when no data array is available.")}g=e.tracker=new ah({data:f,model:e.schema.model,events:{change:function(b){e._createView(e.data),b&&b.afterset||e.trigger(aI)},error:function(b){e.trigger(aA,{errorType:"tracker",path:b?b.path:"undefined path",value:b?b.value:"undefined value",error:b?b.reason:"undefined error",model:b?b.target:"undefined target model"})}}}),e.data=g.data}},getDataIndex:function(b){return this._indices[b]},add:function(b){return this._ensureTracker(),this.tracker.add(b)},insert:function(d,c){return this._ensureTracker(),this.tracker.insert(d,c)},remove:function(b){return this._ensureTracker(),this.tracker.remove(b)},removeAt:function(b){return this._ensureTracker(),this.tracker.removeAt(b)},edit:function(b){return this._ensureTracker(),this.tracker.edit(b)},insertView:function(d,c){return this._ensureTracker(),this.tracker.insert(this._indices[d],c)},removeAtView:function(b){return this._ensureTracker(),this.tracker.removeAt(this._indices[b])},editView:function(b){return this._ensureTracker(),this.tracker.edit(this._indices[b])},save:function(q){var p,o,r,n,u=this,t=u.tracker,k=t?t.changes:{added:[],edited:[],removed:[]},j=t&&u.trigger(Z,{changes:k}),s=new ay;if(q=aS.defined(q)?!!q:!0,j&&!j.isDefaultPrevented()){for(p=u.data=t.original,o=t.data,p.length=0,r=0;r<o.length;r++){p[r]=o[r]}u.options.data&&!aS.func(u.options.data)&&s.done(aJ(u._syncLocalData,u)),u._client().modify(k,aJ(s.resolve,s),aJ(u._error,u,s,!1,"save")),t.destroy(),t=u.tracker=null}else{s.resolve(k)}return q&&(n=function(){u._createView(u.data),u.trigger(aI)},s.then(n,n)),s.promise()},_syncLocalData:function(){var h,n=this,m=n.schema,k=(m.options.fields,n.data),l=(n.options.data,[]),j=aS.array(m.getReverseDataFirstItem(n.options.data));for(h=0;h<k.length;h++){l[h]=j?[]:{},m.reverseFields(k[h],l[h])}m.reverseData(l,n.options.data)},cancel:function(){var d=this,e=d.tracker,f=e&&(e.changes.added.length||e.changes.edited.length||e.changes.removed.length);e&&(d.data=e.original,e.destroy(),e=d.tracker=null,f&&(d._createView(d.data),d.trigger(aI)))},destroy:function(){var e,d=this,f=["options","data","total","aggregates","filter","sort","aggregate","group","skip","take","schema","remote","view","cache"];for(d.cancel(),d.cache.clear(),e=0;e<f.length;e++){delete d[f[e]]}aG.fn.destroy.call(d)}}),aD.create=function(d,c){return d instanceof aD?d:new aD(aK({},d,c))},aC=aF.extend({init:function(b){this.options=b},parse:function(d){var g=this.options.parse;if(aS.func(g)){return g(d)}if(aS.string(d)){try{d=aP.parseJSON(d)}catch(f){}}return d},data:function(e){var d=this.options.data;return aS.func(d)?d(e):aS.string(d)?aM(e,d):e},aggregates:function(e){var d=this.options.aggregates;return aS.func(d)?d(e):aS.string(d)?aM(e,d):aN},groups:function(e){var d=this.options.groups;return aS.func(d)?d(e):aS.string(d)?aM(e,d):aN},reverseData:function(h,f){var j,g=this.options.data;if(aS.func(g)){g(h,f)}else{if(aS.string(g)){ap(f,g,h)}else{if(aS.array(f)){for(f.length=0,j=0;j<h.length;j++){f[j]=h[j]}}}}},getReverseDataFirstItem:function(e){var d=this.data(e);return aS.array(d)&&d.length>0?d[0]:aN},total:function(e,f){var g=this.options.total;return e=e||[],f=f||[],aS.func(g)?g(e):aS.string(g)?aM(e,g):f.length},fields:function(f){var c=this,h=c.options.fields,g=c.model=aQ.define(h);return h?az(f,function(b){return aC.mapFields(b,g.fn.fields)}):f},reverseFields:function(){var r,q,s,k=this,p=k.options.fields,o=[].slice.call(arguments),n=o[0],l=o.length<=1,m=l?n:o[1];for(s in p){p.hasOwnProperty(s)&&(r=p[s],q=n[s],aS.string(r.path)?ap(m,r.path,q):aS.func(r.path)?r.path(n,q):m[s]=q,l&&delete m[s])}},process:function(g){var h=this,m=h.parse(g),k=h.aggregates(g),j=h.groups(g),l=h.fields(h.data(m));return{data:l,aggregates:k,groups:j,total:h.total(m,l)}}}),aC.mapFields=function(l,g){var k,c,m,f={};l=l||{};for(k in g){g.hasOwnProperty(k)&&(c=g[k],aS.string(c.path)?(m=aM(l,c.path),m===aN&&(m=aM(l,k))):m=aS.func(c.path)?c.path(l):l[k],m===aN?c.type&&(m=aQ.def(c.type,c.def,c.nullable!==!1)):m=aQ.convert(m,c.type),f[k]=m)}return f},af=aC.extend({parse:function(d){var j=this,h=j.options;if(aS.func(h.parse)){d=h.parse(d)}else{if(aS.string(d)){try{d=aP.parseXML(d)}catch(g){}}}return d&&9===d.nodeType&&(d=j._json(j._root(d))),d},_root:function(g){var f,h,e=g.childNodes;for(f=0,h=e.length;h>f;f++){if(1===e[f].nodeType){return e[f]}}return null},_json:function(m){var j,p,o,l,q={},k={},n="";for(o=0,l=m.attributes.length;l>o;o++){j=m.attributes[o],q["_"+j.nodeName]=j.nodeValue}for(o=0,l=m.childNodes.length;l>o;o++){switch(j=m.childNodes[o],p=j.nodeName,j.nodeType){case 1:k[p]?(aS.array(q[p])||(q[p]=[q[p]]),q[p].push(this._json(j))):(q[p]=this._json(j),k[p]=!0);break;case 3:n+=j.nodeValue;break;case 4:q._cdata=j.nodeValue}}return n=n.replace(/^\s+(.*)\s+$/gim,"$1"),n&&(q._text=n),q}}),ai=aC.extend({parse:function(o){var n,d=this.options,k=d.parse,m=aP(o),l=[],j=[];if(aS.func(k)){return k(o)}if(d.result){return d.result}if(!m[0]||"table"!==m[0].tagName.toLowerCase()){return o}m.eq(0).find("thead th").each(function(){j.push(aP(this).text())}).end().find("tbody tr").each(function(){n={},aP(this).children().each(function(b){n[j[b]]=aP(this).text()}),l.push(n)});return d.result=l,l}}),aj=aC.extend({parse:function(l){var d=this.options,h=d.parse,k=aP(l),j=[];return aS.func(h)?h(l):d.result?d.result:k[0]&&"select"===k[0].tagName.toLowerCase()?(k.find("option").each(function(c){var e=aP(this);j.push({value:e.attr("value"),text:e.text(),selected:e.is(":selected")})}),d.result=j,j):l}}),aD.schemas={json:aC,xml:af,table:ai,select:aj},ah=aG.extend({init:function(d){var c=this;c.original=d.data,c.data=Array.apply(null,d.data),c.model=d.model,c.changes={added:[],edited:[],removed:[]},aG.fn.init.call(this,d)},_model:function(f){var e=this,d=new e.model(f);return d.on(aI,aJ(e.trigger,e,aI)),d.on(aA,aJ(e.trigger,e,aA)),d.on(ac,aJ(e.trigger,e,aI,{afterset:!0})),d},add:function(b){return this.insert(this.data.length,b)},insert:function(g,k){var h,m=this,l=m.data,j=m.changes;if(0>g||g>l.length){throw new Error("shield.DataSource: invalid item index.")}return h=m._model(k),j.added.push(h),l.splice(g,0,h.data),m.trigger(aI,{operation:Y,index:g,model:h}),h},edit:function(g){var f,j=this,k=j.data,h=j.changes;if(isNaN(g)||0>g||g>=k.length){throw new Error("shield.DataSource: invalid item index.")}return(f=ao(h.added.concat(h.edited),function(c){return c.data===k[g]})[0])?f:(f=j._model(k[g]),h.edited.push(f),k[g]=f.data,f)},remove:function(k){var g=this,j=g.changes,h=ao(j.added.concat(j.edited),function(b){return b===k})[0],c=-1;return k instanceof aQ?h&&(c=ak(h.data,g.data)):c=ak(k,g.data),c>-1?g.removeAt(c):void 0},removeAt:function(g){var k=this,j=k.data,h=k.changes,f=ao(h.added.concat(h.edited),function(c){return c.data===j[g]})[0];if(0>g||g>j.length){throw new Error("shield.DataSource: invalid item index.")}return f?f.destroy():f=new k.model(j[g]),h.removed.push(f),j.splice(g,1),k.trigger(aI,{operation:aa,index:g,model:f}),f},destroy:function(){var e,h=this,f=h.changes,g=f.added.concat(f.edited).concat(f.removed);for(e=0;e<g.length;e++){g[e].destroy()}f.added.length=f.edited.length=f.removed.length=0,h.data=h.original=null,aG.fn.destroy.call(h)}}),aQ=aG.extend({init:function(d,f){var e=this;aG.fn.init.call(e,f),e.fields=aK(!0,{},e.constructor.prototype.fields),e.data=aK(!0,{},d)},trigger:aL.ui.Widget.fn.trigger,get:function(b){return aM(this.data,b)},set:function(f,e){var d=this;e=d.validate(f,e),e!==aN&&(ap(d.data,f,e),d.trigger(ac))},validate:function(m,f){var n,l,k=this,c=aM(k.fields,m);if(!c){return f}if(aE(c.validator)===aw){n=c.validator}else{if(aE(c.type.validate)===aw){n=c.type.validate}else{var g=c.type.toString().split("(")[0].split(" ")[1].toLowerCase();n=aQ.validators[g]}}if(n){if(l=n(f),l===aN){return void k.trigger(aA,{errorType:"validation",path:m,value:f,error:"validation error"})}f=l}return null===f&&c.nullable===!1?void k.trigger(aA,{errorType:"validation",path:m,value:f,error:"null value not allowed"}):f}}),aQ.define=function(b){return aQ.extend({fields:aQ.normalize(aK(!0,{},b))})},aQ.normalize=function(f){var e,h,g;f=f||{};for(e in f){f.hasOwnProperty(e)&&(h=f[e],g=aE(h),g===aw?f[e]={type:h}:g===aq?f[e]={type:h}:g===X&&(f[e]={path:h}))}return f},aQ.def=function(f,e,g){var h;return e!==aN?aE(e)===aw?e():e:g?null:f===String?"":f===Number?0:f===Date?null:f===Boolean?!1:f===Array?[]:f===Object?{}:(h=aE(f),h===aq?[]:h===ag?{}:h===aw?f():null)},aQ.convert=function(e,f){var g;return null==e?e:f===String?e.toString():f===Number?(g=parseFloat(e),isNaN(g)?e:g):f===Date?(g=new Date(e),isNaN(g.getTime())?e:g):f===Boolean?aS.string(e)?!/^(false|0)$/i.test(e):!!e:e},aQ.validators={string:function(b){return null==b?null:b.toString()},number:function(b){return null===b?null:isNaN(+b)?aN:+b},date:function(b){return null===b?null:b instanceof Date?b:(b=new Date(b),isNaN(b.getTime())?aN:b)},"boolean":function(b){return null===b?null:null==b?aN:!!b},array:function(b){return null===b?null:aE(b)===aq?b:aN},object:function(b){return null===b?null:aE(b)===ag?b:aN}},aK(aL,{map:az,DataSource:aD,DataQuery:aO,Model:aQ})}(jQuery,shield,this),function(aQ,aL,au,aP){function aY(){if(aK(bf)){return bf}var h,j,f=aQ('<div style="width:50px;position:absolute;overflow:hidden;height:50px;display:block;"><div style="width:auto;height:100px;"></div></div>'),g=f.children()[0];return aQ(aJ.body).append(f),h=g.offsetWidth,f.css(bj,bb),j=g.offsetWidth,h===j&&(j=f[0].clientWidth),f.remove(),bf=h-j}function bB(g){var f=g.isWindow||g.isDocument?"":g.element.css(ak),k=g.isWindow||g.isDocument?"":g.element.css(af),j=f===bb||f===bA&&g.width<g.element[0].scrollWidth,h=k===bb||k===bA&&g.height<g.element[0].scrollHeight;return{width:h?aY():0,height:j?aY():0}}function a7(g){var f=aQ(g||au),j=br(f[0]),h=!!f[0]&&9===f[0].nodeType;return{element:f,isWindow:j,isDocument:h,offset:f.offset()||{left:0,top:0},scrollLeft:f.scrollLeft(),scrollTop:f.scrollTop(),width:j||h?f.width():f.outerWidth(),height:j||h?f.height():f.outerHeight()}}function a0(e,d,f){return[a6(e[0])*(aZ.test(e[0])?d/100:1),a6(e[1])*(aZ.test(e[1])?f/100:1)]}function aM(d,f){var e=d.css(f);return e?bs(e)||0:0}function ae(d){var c=d[0];return 9===c.nodeType?{width:d.width(),height:d.height(),offset:{top:0,left:0}}:br(c)?{width:d.width(),height:d.height(),offset:{top:d.scrollTop(),left:d.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:d.outerWidth(),height:d.outerHeight(),offset:d.offset()}}function aW(j,h){var d=0,f=aK(h)?aQ(h).find(j):aQ(j);return f.each(function(b){d=aF(d,aM(aQ(this),"z-index"))}),d}function ac(b){return b.pageX||b.pageY?{x:b.pageX,y:b.pageY}:{x:b.clientX+aJ.body.scrollLeft-aJ.body.clientLeft,y:b.clientY+aJ.body.scrollTop-aJ.body.clientTop}}var bf,ap,am,an,ao,ay,a9,bc,bi,ad,av=aL.ui.Widget,aj=(aL.Class,aL.Constants.KeyCode),aJ=document,aO=Math.abs,bm=Math.min,aF=Math.max,bv=Math.round,aS=Math.floor,ah=aQ.extend,aB=aQ.proxy,by=aQ.each,br=aQ.isWindow,aK=aL.is.defined,bd=aL.is.func,aI=aL.is.number,be=aL.is.object,bs=aL.to["int"],a6=aL.to.number,bo=aL.to.string,a3=/left|center|right/,a2=/top|center|bottom/,a1=/[\+\-]\d+(\.[\d]+)?%?/,bt=/^\w+/,aZ=/%$/,az="mousedown",bn="mouseup",ax="mousemove",aV="keydown",aU="start",aT="stop",bw="resize",bC="resized",aN="drag",ab="cancel",aA="disabled",aC="px",aE="left",aq="right",aD="top",ar="bottom",aG="middle",aH="center",bj="overflow",bA="auto",at="position",a5="absolute",bq="relative",ak="overflow-x",af="overflow-y",bb="scroll",bg="horizontal",bh="vertical",aR="my",al="at",ag="marginLeft",bu="marginRight",bx="marginTop",bp="marginBottom",bz="flip",bk="sui-resizable",a8=bk+"-"+aA,aw="sui-draggable",a4=aw+"-"+aA,aX=aw+"-dragging",bl="sui-unselectable",ai=0;an={},an.GetWithinInfo=a7,an.GetMaxZIndex=aW,an.GetCoordinates=ac,aL.ui.Util=an,ap=function(){return ai++,am?am:(this.init(),void (am=this))},ap.prototype={_pos:null,init:function(){var c=this;aQ(aJ).on(ax+".suiMouseTracker",aB(c._onMouseMove,c))},_onMouseMove:function(b){this._pos=this.getPosFromEvent(b)},getPosFromEvent:function(b){return ac(b)},getPosition:function(c){var d=this;return null===d._pos&&aK(c)&&(d._pos=d.getPosFromEvent(c)),d._pos},isInWindow:function(l){var k=this,j=k.getPosition(l),p=j.x,o=j.y,n=aQ(au).scrollTop(),m=aQ(au).scrollLeft();return p>=m&&p<=m+aQ(au).width()&&o>=n&&o<=n+aQ(au).height()},destroy:function(){--ai>0||(aQ(aJ).off(ax+".suiMouseTracker"),am=null)}},aL.MouseTracker=ap,ao={},ao.Set=function(k,S,V){if(!k||!S||!V){throw"Invalid arguments passed to Position.Set"}var M,Y,X,Q,W,F,aa={my:V.source,at:V.target,collision:V.overflow,inside:V.inside},U=aQ(S),O=a7(aa.inside),P=bB(O),I=(aa.collision||bz).split(" "),o={};F=ae(U),U[0].preventDefault&&(aa.at="left top"),Y=F.width,X=F.height,Q=F.offset,W=ah({},Q),by([aR,al],function(){var e,l,g=this,f=(aa[g]||"").split(" ");1===f.length&&(f=a3.test(f[0])?f.concat([aH]):a2.test(f[0])?[aH].concat(f):[aH,aH]),f[0]=a3.test(f[0])?f[0]:aH,f[1]=a2.test(f[1])?f[1]:aH,e=a1.exec(f[0]),l=a1.exec(f[1]),o[g]=[e?e[0]:0,l?l[0]:0],aa[g]=[bt.exec(f[0])[0],bt.exec(f[1])[0]]}),1===I.length&&(I[1]=I[0]),aa.at[0]===aq?W.left+=Y:aa.at[0]===aH&&(W.left+=Y/2),aa.at[1]===ar?W.top+=X:aa.at[1]===aH&&(W.top+=X/2),M=a0(o.at,Y,X),W.left+=M[0],W.top+=M[1];var G,j,Z=aQ(k),R=Z.outerWidth(),T=Z.outerHeight(),h=aM(Z,ag),v=aM(Z,bx),c=R+h+aM(Z,bu)+P.width,d=T+v+aM(Z,bp)+P.height,ba=ah({},W),u=a0(o.my,Z.outerWidth(),Z.outerHeight());aa.my[0]===aq?ba.left-=R:aa.my[0]===aH&&(ba.left-=R/2),aa.my[1]===ar?ba.top-=T:aa.my[1]===aH&&(ba.top-=T/2),ba.left+=u[0],ba.top+=u[1],ba.left=bv(ba.left),ba.top=bv(ba.top),G={marginLeft:h,marginTop:v},by([aE,aD],function(b,e){ay[I[b]]&&ay[I[b]][e](ba,{targetWidth:Y,targetHeight:X,elemWidth:R,elemHeight:T,collisionPosition:G,collisionWidth:c,collisionHeight:d,offset:[M[0]+u[0],M[1]+u[1]],my:aa.my,at:aa.at,within:O,elem:Z})}),bd(V.callback)&&(j=function(){var n=Q.left-ba.left,b=n+Y-R,g=Q.top-ba.top,l=g+X-T,f={target:{element:U,left:Q.left,top:Q.top,width:Y,height:X},element:{element:Z,left:ba.left,top:ba.top,width:R,height:T},horizontal:0>b?aE:n>0?aq:aH,vertical:0>l?aD:g>0?ar:aG};R>Y&&aO(n+b)<Y&&(f.horizontal=aH),T>X&&aO(g+l)<X&&(f.vertical=aG),aF(aO(n),aO(b))>aF(aO(g),aO(l))?f.important=bg:f.important=bh,V.callback(f)}),Z.offset(ba),j&&j()},ay={fit:{left:function(s,q){var k,n=q.within,p=n.isWindow?n.scrollLeft:n.offset.left,m=n.width,l=s.left-q.collisionPosition.marginLeft,r=p-l,o=l+q.collisionWidth-m-p;q.collisionWidth>m?r>0&&0>=o?(k=s.left+r+q.collisionWidth-m-p,s.left+=r-k):o>0&&0>=r?s.left=p:r>o?s.left=p+m-q.collisionWidth:s.left=p:r>0?s.left+=r:o>0?s.left-=o:s.left=aF(s.left-l,s.left)},top:function(s,r){var k,m=r.within,p=m.isWindow?m.scrollTop:m.offset.top,n=r.within.height,l=s.top-r.collisionPosition.marginTop,q=p-l,o=l+r.collisionHeight-n-p;r.collisionHeight>n?q>0&&0>=o?(k=s.top+q+r.collisionHeight-n-p,s.top+=q-k):o>0&&0>=q?s.top=p:q>o?s.top=p+n-r.collisionHeight:s.top=p:q>0?s.top+=q:o>0?s.top-=o:s.top=aF(s.top-l,s.top)}},flip:{left:function(z,B){var u,v,A=B.within,c=A.offset.left+A.scrollLeft,s=A.width,t=A.isWindow?A.scrollLeft:A.offset.left,r=z.left-B.collisionPosition.marginLeft,q=r-t,j=r+B.collisionWidth-s-t,y=B.my[0]===aE?-B.elemWidth:B.my[0]===aq?B.elemWidth:0,w=B.at[0]===aE?B.targetWidth:B.at[0]===aq?-B.targetWidth:0,x=-2*B.offset[0];0>q?(u=z.left+y+w+x+B.collisionWidth-s-c,(0>u||u<aO(q))&&(z.left+=y+w+x)):j>0&&(v=z.left-B.collisionPosition.marginLeft+y+w+x-t,(v>0||aO(v)<j)&&(z.left+=y+w+x))},top:function(C,D){var u,v,z=D.within,k=z.offset.top+z.scrollTop,s=z.height,t=z.isWindow?z.scrollTop:z.offset.top,r=C.top-D.collisionPosition.marginTop,x=r-t,w=r+D.collisionHeight-s-t,c=D.my[1]===aD,A=c?-D.elemHeight:D.my[1]===ar?D.elemHeight:0,B=D.at[1]===aD?D.targetHeight:D.at[1]===ar?-D.targetHeight:0,y=-2*D.offset[1];0>x?(v=C.top+A+B+y+D.collisionHeight-s-k,C.top+A+B+y>x&&(0>v||v<aO(x))&&(C.top+=A+B+y)):w>0&&(u=C.top-D.collisionPosition.marginTop+A+B+y-t,C.top+A+B+y>w&&(u>0||aO(u)<w)&&(C.top+=A+B+y))}},flipfit:{left:function(){ay.flip.left.apply(this,arguments),ay.fit.left.apply(this,arguments)},top:function(){ay.flip.top.apply(this,arguments),ay.fit.top.apply(this,arguments)}}},aL.ui.Position=ao,ad={enabled:!0,cls:aP,resizeCls:aP,delta:1,handles:["e","w","n","s","se","sw","ne","nw"],handleWidth:8,handleZIndex:105,minHeight:16,minWidth:16,maxHeight:aP,maxWidth:aP,events:{}},bi=av.extend({init:function(){av.fn.init.apply(this,arguments);var f=this,g=aQ(f.element),j=f.options,h=j.cls;f.mouseTracker=new ap,g.addClass(bk+(h?" "+h:"")),f._initHandles(),f.enabled(j.enabled)},_initHandles:function(){var u,x,w,z=this,m=aQ(z.element),g=(m.width(),m.height()),p=z.options,l=p.handles,n=p.handleWidth,t=n+aC,v=n+2+aC,y="-"+(n-2)+aC,A=p.handleZIndex;for(z.handles=[],w=0;w<l.length;w++){switch(u=bo(l[w]).toLowerCase(),x={},u){case"e":x={width:t,height:g+aC,top:0,right:y};break;case"w":x={width:t,height:g+aC,top:0,left:y};break;case"n":x={width:"100%",height:t,top:y};break;case"s":x={width:"100%",height:t,bottom:y};break;case"se":x={width:v,height:v,bottom:y,right:y};break;case"sw":x={width:v,height:v,bottom:y,left:y};break;case"ne":x={width:v,height:v,top:y,right:y};break;case"nw":x={width:v,height:v,top:y,left:y}}x.zIndex=A,z.handles[w]={type:u},z.handles[w][az]=aB(z._handleMouseDown,z,w),z.handles[w].element=aQ('<div class="sui-resizable-handle sui-resizable-dir-'+u+'"></div>').appendTo(m).css(x).on(az,z.handles[w][az])}aQ(aJ).on(bn+".shieldResizable"+z.getInstanceId(),aB(z._handleMouseUp,z)),aQ(aJ).on(ax+".shieldResizable"+z.getInstanceId(),aB(z._handleMouseMove,z))},_destroyHandles:function(){var g,e=this,f=e.handles;for(aQ(aJ).off(bn+".shieldResizable"+e.getInstanceId()),aQ(aJ).off(ax+".shieldResizable"+e.getInstanceId()),g=0;g<f.length;g++){aQ(e.handles[g].element).off(az,e.handles[g][az]).remove()}e.handles=[]},_handleMouseDown:function(g,f){var e=this;e._enabled&&!e.resizing&&(e.resizing=!0,e.resizingHandle=g,e.oldPos=e.mouseTracker.getPosition(f),e.startSent=!1,aQ(e.element).addClass(bl))},_handleMouseMove:function(L){var S,k,f,aa,ba,bG,bH,bD,bE,M,K,W,Z,Q,bF=this,Y=aQ(bF.element),U=bF.options,O=U.delta,c=U.minWidth,X=U.maxWidth,V=U.minHeight,T=U.maxHeight,P=U.resizeCls,N=bF.resizingHandle,R=bF.handles,l=bF.mouseTracker,j=bF.oldPos;if(l.isInWindow(L)&&bF.resizing&&aK(N)&&(f=l.getPosition(L),aa=f.x-j.x,ba=f.y-j.y,S=R[N],k=S.type,aO(aa)>=O||aO(ba)>=O)){switch(/^(se|sw|ne|nw)$/i.test(k)||(/^(e|w)$/i.test(k)?ba=0:aa=0),aO(aa)<O&&(aa=0),aO(ba)<O&&(ba=0),bG=aa,bH=ba,bD=0,bE=0,k){case"w":bG=-aa,bD=-bG;break;case"n":bH=-ba,bE=-bH;break;case"nw":bG=-aa,bH=-ba,bD=-bG,bE=-bH;break;case"sw":bG=-aa,bD=-bG;break;case"ne":bH=-ba,bE=-bH}if(W=Y.width(),Z=Y.height(),M=aM(Y,aD),K=aM(Y,aE),bG>0?(aK(X)&&W+bG>X&&(bG=X-W,0!==bD&&(bD=-bG)),0>K+bD&&(bG-=K-bD,bD=-bG)):0>bG&&aK(c)&&c>W+bG&&(bG=c-W,0!==bD&&(bD=-bG)),bH>0?(aK(T)&&Z+bH>T&&(bH=T-Z,0!==bE&&(bE=-bH)),0>M+bE&&(bH-=M-bE,bE=-bH)):0>bH&&aK(V)&&V>Z+bH&&(bH=V-Z,0!==bE&&(bE=-bH)),0!==bG||0!==bH){bF.startSent||(bF.startSent=!0,bF.trigger(aU),P&&Y.addClass(P));var d=bF.trigger(bw,{deltaX:bG,deltaY:bH});if(!d.isDefaultPrevented()){if(Y.width(W+bG).height(Z+bH),(0!==bD||0!==bE)&&Y.css({top:M+bE+aC,left:K+bD+aC}),bF.oldPos.x=bF.oldPos.x+aa,bF.oldPos.y=bF.oldPos.y+ba,0!==ba){for(Q=0;Q<R.length;Q++){S=R[Q],/^(e|w)$/i.test(S.type)&&aQ(S.element).height(Z+bH)}}bF.trigger(bC)}}}},_handleMouseUp:function(b){var j=this,g=!!j.startSent,h=j.options.resizeCls;j.resizing&&(j.resizing=!1,j.resizingHandle=aP,j.oldPos=aP,j.startSent=!1,g&&j.trigger(aT),aQ(j.element).removeClass(bl+(h?" "+h:"")))},resize:function(j,h){var g=this,f=g.options;j=aF(bm(j,f.maxWidth),f.minWidth),h=aF(bm(h,f.maxHeight),f.minHeight),aQ(g.element).width(j).height(h)},enabled:function(){var f,j=this,h=aQ(j.element),g=[].slice.call(arguments);return g.length>0?(f=!!g[0],f?h.removeClass(a8):h.addClass(a8),j._enabled=f,void 0):j._enabled},destroy:function(){var d=this,e=d.options.cls;d.mouseTracker.destroy(),d.mouseTracker=null,aQ(d.element).removeClass(bk+(e?" "+e:"")),d._destroyHandles(),av.fn.destroy.call(d)}}),bi.defaults=ad,aL.ui.plugin("Resizable",bi),bc={enabled:!0,cls:aP,dragCls:aP,handle:aP,direction:aP,min:aP,max:aP,step:aP,allowedPositions:aP,stack:!0,helper:aP,events:{}},a9=av.extend({init:function(){av.fn.init.apply(this,arguments);var l,g=this,k=aQ(g.element),j=g.options,h=j.cls;g.mouseTracker=new ap,k.addClass(aw+(h?" "+h:"")),l=k.css(at),l!==bq&&l!==a5&&(g._origPosStyle=l,k.css(at,bq)),g.enabled(j.enabled),g.startSent=!1},_handleMouseDown:function(j){var q,d=this,m=d.element,k=d.options,o=k.helper,g=k.cls,p=k.dragCls;d._enabled&&!d._dragging&&(d._dragging=!0,d.startSent=!1,d._helper=d._isCustomHelper=null,d.stepPosition=d.mousePos=d.mouseTracker.getPosition(j),aQ(aJ).on(ax+".shieldDraggable"+d.getInstanceId(),aB(d._handleMouseMove,d)).on(bn+".shieldDraggable"+d.getInstanceId(),aB(d._handleMouseUp,d)).on(aV+".shieldDraggable"+d.getInstanceId(),aB(d._handleKeyDown,d)),o&&"original"!==o?(q=bd(o)?o.call(d,{position:d.oriPosition,event:j}):"clone"==o?m.clone():aQ(o),q.parents("body").length||m.after(q),/(fixed|absolute)/i.test(q.css(at))||q.css(at,a5),ao.Set(q,m,{source:"left top",target:"left top",overflow:"none"}),d._isCustomHelper=!0):(q=m,d._isCustomHelper=!1),d._helper=q,q.addClass(bl+" "+aw+(g?" "+g:"")+" "+aX+(p?" "+p:"")),d.oriPosition={left:aM(q,aE),top:aM(q,aD)})},_handleMouseMove:function(bI){var Z,bJ,bK,I,U,bN,bM,bP,bO,bQ=this,bL=aQ(bQ._helper),c=bL.width(),d=bL.height(),V=bQ.options,bG=V.step,X=V.direction,bH=V.allowedPositions,b=bH!==aP&&bH.length>0,ba=V.min,bE=V.max,f=bQ.mouseTracker,Y=f.getPosition(bI);if(f.isInWindow(bI)&&bQ._dragging){if(I=aM(bL,aD),U=aM(bL,aE),b){var k,j,T,G,W,bF,aa=aP,bD=aP,F=aP,B=aP;for(k=Y.x-bQ.stepPosition.x,j=Y.y-bQ.stepPosition.y,T=U+k,G=I+j,W=0;W<bH.length;W++){bF=bH[W],bF.x!==aP&&(F===aP||F>aO(T-bF.x))&&(F=aO(T-bF.x),aa=W),bF.y!==aP&&(B===aP||B>aO(G-bF.y))&&(B=aO(G-bF.y),bD=W)}bN=U,bM=I,aa!==aP&&(bN=bH[aa].x,bQ.stepPosition.x+=bH[aa].x-U),bD!==aP&&(bM=bH[bD].y,bQ.stepPosition.y+=bH[bD].y-I)}else{if(bP=X==bh?0:Y.x-bQ.mousePos.x,bO=X==bg?0:Y.y-bQ.mousePos.y,aK(bG)){if(Z=bd(bG)?bG.call(this,{deltaX:bP,deltaY:bO,element:bL,domEvent:bI,helperLeft:aM(bL,aE),helperTop:aM(bL,aD),mouse:Y}):bG,aI(Z)?bJ=bK=Z:be(Z)&&(bJ=Z.x,bK=Z.y),aK(bJ)&&aO(bP)<bJ&&aK(bK)&&aO(bO)<bK){return}aK(bJ)&&bJ>1&&bP%bJ!==0&&(bP=(bP>=0?1:-1)*aS(aO(bP)/bJ)*bJ),aK(bK)&&bK>1&&bO%bK!==0&&(bO=(bO>=0?1:-1)*aS(aO(bO)/bK)*bK)}bN=U+bP,bM=aF(0,I+bO)}X==bg&&(ba!==aP&&(bN=aF(ba,bN),bN===ba&&(bP=0)),bE!==aP&&(bN=bm(bE-c,bN),bN===bE-c&&(bP=0))),X==bh&&(ba&&(bM=aF(ba,bM),bM===ba&&(bO=0)),bE&&(bM=bm(bE-d,bM),bM===bE-d&&(bO=0))),bL.css({left:bN,top:bM}),bQ.mousePos=Y,bQ.startSent||(bQ.startSent=!0,bQ.trigger(aU,{element:bL,domEvent:bI}),bQ._adjustZIndex()),bQ.trigger(aN,{deltaX:bP,deltaY:bO,element:bL,domEvent:bI})}},_handleMouseUp:function(h){var k,g=this,j=g.element,d=g._helper;g._dragging&&(g.startSent&&(k=g.trigger(aT,{left:aM(d,aE),top:aM(d,aD),element:d,domEvent:h}),k.isDefaultPrevented()?g._isCustomHelper||d.css({left:g.oriPosition.left,top:g.oriPosition.top}):g._isCustomHelper&&(ao.Set(j,d,{source:"left top",target:"left top",overflow:"none"}),g._adjustZIndex(j))),g._endDrag())},_adjustZIndex:function(e){var f=this,g=f.options.stack;g!==!1&&(aK(e)||(e=f._helper),aQ(e).css("z-index",aW(g===!0?"."+aw:g)+1))},_handleKeyDown:function(d){var e=this,f=d.keyCode;switch(f){case aj.ESC:e._dragging&&(e._helper.css({left:e.oriPosition.left+aC,top:e.oriPosition.top+aC}),e.trigger(ab),e._endDrag())}},_endDrag:function(){var d=this,e=d.options.dragCls;d._dragging=!1,d._isCustomHelper?aQ(d._helper).remove():aQ(d._helper).removeClass(bl+" "+aX+(e?" "+e:"")),aQ(aJ).off(ax+".shieldDraggable"+d.getInstanceId()).off(bn+".shieldDraggable"+d.getInstanceId()).off(aV+".shieldDraggable"+d.getInstanceId()),d.mousePos=d.oriPosition=d._helper=d._isCustomHelper=null},enabled:function(){var n,h=this,m=aQ(h.element),l=h.options,k=l.handle?aQ(l.handle):m,j=[].slice.call(arguments);return j.length>0?(n=!!j[0],n?(m.removeClass(a4),h._mouseDownProxy||(h._mouseDownProxy=aB(h._handleMouseDown,h),k.on(az,h._mouseDownProxy))):(m.addClass(a4),h._mouseDownProxy&&(k.off(az,h._mouseDownProxy),h._mouseDownProxy=null)),h._enabled=n,void 0):h._enabled},destroy:function(){var d=this,e=d.options.cls;d.mouseTracker.destroy(),d.mouseTracker=null,aQ(d.element).removeClass(aw+(e?" "+e:"")),d._origPosStyle&&(aQ(d.element).css(at,d._origPosStyle),d._origPosStyle=null),av.fn.destroy.call(d)}}),a9.defaults=bc,aL.ui.plugin("Draggable",a9)}(jQuery,shield,this),function(aC,aL,aP,aO){var bg,ay,a6,aW,aV,ao,aK=aL.exp=aL.exp||{},bj=aL.Class,a5=(aL.DataSource,aL.support.browser),ab=aL.iid,az=document,ap=aC.extend,aD=aC.map,bq=aC.each,aF=aL.is,aM=aF.string,aw=aF.array,ar=aF.number,bw=aF["boolean"],aq=aF.date,aQ=aF.defined,ax=aF["null"],a3=aF.func,a0=aF.object,bb=aL.to["int"],by=aL.to.key,aJ=aL.error,a9=aL.keys,aS=(aL.get,aL.Constants.XHTML_NS),a7="application/octet-stream",bm="download",bh="Untitled",bz=function(){},bs="l",bc="p",aG="mm",ai="in",bn="pt",aN="cm",bp="px",bl="pc",al="em",ag="ex",aX="RG",at="helvetica",aE="times",bA="sans-serif",aI="arial",aj="verdana",ae="fixed",br="monospace",a4="serif",aA="terminal",ah="cursive",ac="fantasy",au="courier",av="normal",am="bold",bk="italic",bi="bolditalic",ad="center",bB="both",bu="S",bo="F",a2="FD",ak="DF",af="B",bD="f*",bx="B*",a1=19.049976/25.4,aB=function(b){return aC("<div/>").text(b).html().replace('"',"&quot;")},aZ=function(d){aq(d)||(aM(d)&&(d=d.replace(/\s+/g,"")),d=new Date(d));var c=25569+d.getTime()/86400000;return c.toString()},aY=function(c){return aQ(c)?aq(c)?c:new Date(aM(c)?c.replace(/\s+/g,""):c):new Date},bf=function(b){return aY(b).toISOString().replace(/\.\d+/,"")},be=function(c){return aQ(c)&&aM(c)&&c.length>0?c.charAt(0).toUpperCase()+c.substr(1):c},an=function(b){return b?1:0},aU=function(b){return("FF"+b).replace("#","").toUpperCase()},bt=function(g){for(var e,f=bb(g),h="";f>0;){e=(f-1)%26,h=String.fromCharCode(65+e)+h,f=bb((f-e)/26)}return h},bd=function(d,c){return bt(c)+d},aT=function(d,c){return'<?xml version="1.0"'+(d?' encoding="UTF-8"':"")+(c?' standalone="yes"':"")+"?>\n"},aH=function(){return aT(1,1)},a8=function(b){return b},bC=function(e,d){return d=aQ(d)?d:7,a8(((e-5)/7*100+0.5)/100)},bv=function(e,d){return d=aQ(d)?d:7,a8((e*d+5)/d*256/256)},aR=function(e,d){if(e&&d){var f=e.indexOf(d);return f>=0&&f===e.length-d.length}return !1};!function(e){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";aQ(e.btoa)||(e.btoa=function(B){var u,r,s,t,w,v,p,A,z=0,b=0,x="",q=[];if(!B){return B}do{u=B.charCodeAt(z++),r=B.charCodeAt(z++),s=B.charCodeAt(z++),A=u<<16|r<<8|s,t=A>>18&63,w=A>>12&63,v=A>>6&63,p=63&A,q[b++]=d.charAt(t)+d.charAt(w)+d.charAt(v)+d.charAt(p)}while(z<B.length);x=q.join("");var y=B.length%3;return(y?x.slice(0,y-3):x)+"===".slice(y||3)}),aQ(e.atob)||(e.atob=function(z){var v,t,o,p,q,r,u,w,y=0,s=0,b="",x=[];if(!z){return z}z+="";do{p=d.indexOf(z.charAt(y++)),q=d.indexOf(z.charAt(y++)),r=d.indexOf(z.charAt(y++)),u=d.indexOf(z.charAt(y++)),w=p<<18|q<<12|r<<6|u,v=w>>16&255,t=w>>8&255,o=255&w,64==r?x[s++]=String.fromCharCode(v):64==u?x[s++]=String.fromCharCode(v,t):x[s++]=String.fromCharCode(v,t,o)}while(y<z.length);return b=x.join("")})}(aP),function(){if(aP.URL=aP.URL||aP.webkitURL,aP.Blob&&aP.URL){try{new aP.Blob;return void (aK.Blob=aP.Blob)}catch(b){}}var g=aP.BlobBuilder||aP.WebKitBlobBuilder||aP.MozBlobBuilder||function(){var D=function(c){return Object.prototype.toString.call(c).match(/^\[object\s(.*)\]$/)[1]},C=function(){this.data=[]},K=function(e,k,j){var h=this;h.data=e,h.size=e.length,h.type=k,h.encoding=j},I=C.prototype,J=K.prototype,z=aP.FileReaderSync,w=function(c){var d=this;d.code=d[d.name=c]},E="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),H=E.length,L=aP.URL||aP.webkitURL||aP,B=L.createObjectURL,A=L.revokeObjectURL,G=L,y=aP.btoa,x=aP.atob,p=aP.ArrayBuffer,F=aP.Uint8Array,n=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(K.fake=J.fake=!0;H--;){w.prototype[E[H]]=H+1}return L.createObjectURL||(G=aP.URL=function(h){var d,e=az.createElementNS(aS,"a");return e.href=h,"origin" in e||("data:"===e.protocol.toLowerCase()?e.origin=null:(d=h.match(n),e.origin=d&&d[1])),e}),G.createObjectURL=function(d){var c,h=d.type;return ax(h)&&(h=a7),d instanceof K?(c="data:"+h,"base64"===d.encoding?c+";base64,"+d.data:"URI"===d.encoding?c+","+decodeURIComponent(d.data):y?c+";base64,"+y(d.data):c+","+encodeURIComponent(d.data)):B?B.call(L,d):void 0},G.revokeObjectURL=function(c){"data:"!==c.substring(0,5)&&A&&A.call(L,c)},I.append=function(s){var r=this.data;if(aQ(F)&&(s instanceof p||s instanceof F)){var q,o="",m=new F(s),k=m.length;for(q=0;k>q;q++){o+=String.fromCharCode(m[q])}r.push(o)}else{if("Blob"===D(s)||"File"===D(s)){if(!z){throw new w("NOT_READABLE_ERR")}var d=new z;r.push(d.readAsBinaryString(s))}else{s instanceof K?"base64"===s.encoding&&x?r.push(x(s.data)):"URI"===s.encoding?r.push(decodeURIComponent(s.data)):"raw"===s.encoding&&r.push(s.data):(s+="",r.push(aP.unescape(encodeURIComponent(s))))}}},I.getBlob=function(c){return arguments.length||(c=null),new K(this.data.join(""),c,"raw")},I.toString=function(){return"[object BlobBuilder]"},J.slice=function(k,j,d){var h=this,l=arguments.length;return 3>l&&(d=null),new K(h.data.slice(k,l>1?j:h.data.length),d,h.encoding)},J.toString=function(){return"[object Blob]"},J.close=function(){this.size=0,delete this.data},C}();aK.Blob=function(p,m){var r,l,q,c=m?m.type||"":"",o=new g,n=aP.Uint8Array;if(p){for(r=0,l=p.length;l>r;r++){aQ(n)&&n&&p[r] instanceof n?o.append(p[r].buffer):o.append(p[r])}}return q=o.getBlob(c),!q.slice&&q.webkitSlice&&(q.slice=q.webkitSlice),q};var f=Object.getPrototypeOf||function(c){return c.__proto__};aK.Blob.prototype=f(new aK.Blob)}(),function(){var b=aP.saveAs||function(){if(a5.ie&&a5.version<10){return aO}var C=function(){return aP.URL||aP.webkitURL||aP},D=az.createElementNS(aS,"a"),G=bm in D,H=function(f){var e=new MouseEvent("click");f.dispatchEvent(e)},B=aP.webkitRequestFileSystem,v=aP.requestFileSystem||B||aP.mozRequestFileSystem,c=function(e){(aP.setImmediate||aP.setTimeout)(function(){throw e},0)},A=a7,w=0,d=500,y=function(e){var f=function(){aM(e)?C().revokeObjectURL(e):e.remove()};aP.chrome?f():setTimeout(f,d)},z=function(g,h,k){var m,l;for(h=[].concat(h),m=h.length;m--;){if(l=g["on"+h[m]],a3(l)){try{l.call(g,k||g)}catch(j){c(j)}}}},n=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e},x=function(m,j,p){p||(m=n(m));var k,f,s,o=this,K=m.type,J=!1,I=function(){z(o,"writestart progress write writeend".split(" "))},h=function(){var e;(J||!k)&&(k=C().createObjectURL(m)),f?f.location.href=k:(e=aP.open(k,"_blank"),aQ(e)||"undefined"==typeof safari||(aP.location.href=k)),o.readyState=o.DONE,I(),y(k)},g=function(e){return function(){return o.readyState!==o.DONE?e.apply(this,arguments):void 0}},t={create:!0,exclusive:!1};return o.readyState=o.INIT,j||(j=bh),G?(k=C().createObjectURL(m),D.href=k,D.download=j,void setTimeout(function(){H(D),I(),y(k),o.readyState=o.DONE})):(aP.chrome&&K&&K!==A&&(s=m.slice||m.webkitSlice,m=s.call(m,0,m.size,A),J=!0),B&&j!==bm&&(j+="."+bm),(K===A||B)&&(f=aP),v?(w+=m.size,void v(aP.TEMPORARY,w,g(function(e){e.root.getDirectory("saved",t,g(function(q){var l=function(){q.getFile(j,t,g(function(r){r.createWriter(g(function(u){u.onwriteend=function(L){f.location.href=r.toURL(),o.readyState=o.DONE,z(o,"writeend",L),y(r)},u.onerror=function(){var L=u.error;L.code!==L.ABORT_ERR&&h()},"writestart progress write abort".split(" ").forEach(function(L){u["on"+L]=o["on"+L]}),u.write(m),o.abort=function(){u.abort(),o.readyState=o.DONE},o.readyState=o.WRITING}),h)}),h)};q.getFile(j,{create:!1},g(function(r){r.remove(),l()}),g(function(r){r.code===r.NOT_FOUND_ERR?l():h()}))}),h)}),h)):void h())},E=x.prototype,F=function(f,e,g){return new x(f,e,g)};return aQ(navigator)&&navigator.msSaveOrOpenBlob?function(f,e,g){return g||(f=n(f)),navigator.msSaveOrOpenBlob(f,e||bh)}:(E.abort=function(){var e=this;e.readyState=e.DONE,z(e,"abort")},E.readyState=E.INIT=0,E.WRITING=1,E.DONE=2,E.error=E.onwritestart=E.onprogress=E.onwrite=E.onabort=E.onerror=E.onwriteend=null,F)}();aK.saveAs=function(p){var o=p.content,n=p.contentType,l=p.name,e=p.noAutoBom,g=p.proxy,f="suidlifrm"+ab();aQ(b)&&!p.forceProxy?b(new aK.Blob([o],{type:n}),l,e):g?(aC(bg).remove(),bg=aC('<div style="display:none;"><iframe name="'+f+'"></iframe></div>').appendTo(az.body),aC('<form action="'+g+'" target="'+f+'" method="POST"><input type="hidden" name="fileName" value="'+l+'"/><input type="hidden" name="contentType" value="'+n+'"/><input type="hidden" name="base64content" value="'+aP.btoa(o)+'"/></form>').appendTo(bg).submit()):aJ("shield.export.saveAs: No proxy url set for older browser support",p.dieOnError)},aK.saveAsNative=aQ(b)}(),ay=bj.extend({init:function(b){this.options=ap(!0,{},b)},getExt:null,getContentType:null,getContent:null,saveAs:function(f){var n=this,o=f.fileName,k=aQ(f.forceExt)?!!f.forceExt:!0,m=n.getExt(),g=!aK.saveAsNative||f.forceProxy?{type:"string"}:{},l=n.getContent(g);return aQ(l)?(o||(o=bh),o+="",!aR(o,m)&&k&&(o+=m),void aK.saveAs({content:l,contentType:n.getContentType(),name:o,proxy:f.proxy,forceProxy:f.forceProxy,noAutoBom:f.noAutoBom,dieOnError:f.dieOnError})):void aJ("shield.export.ExportBase.saveAs: Error generating content",n.options.dieOnError)},destroy:bz}),ao=ay.extend({getExt:function(){return".xml"},getContentType:function(){return"text/xml;charset=utf-8"},getContent:function(p){var X,u=this,U=u.options,H=bf(U.created||new Date),R=U.author,P=U.worksheets||[],I=20,M=[],y=[],Q=aT()+'<?mso-application progid="Excel.Sheet"?><Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40"><DocumentProperties xmlns="urn:schemas-microsoft-com:office:office"><Created>'+H+"</Created>"+(R?"<Author>"+R+"</Author>":"")+'</DocumentProperties><ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"><ProtectStructure>False</ProtectStructure><ProtectWindows>False</ProtectWindows></ExcelWorkbook>';for(X=0;X<P.length;X++){var S,bF,Y,bE,ba,W,bH,aa,V,Z,bG,bI,O=P[X],L=O.name,N=O.columns||[],T=[],v=O.rows||[],m=[];for(bF=0;bF<N.length;bF++){bE=N[bF],T.push("<Column"+(aQ(bE.autoWidth)?' ss:AutoFitWidth="'+an(bE.autoWidth)+'"':"")+(aQ(bE.width)?' ss:Width="'+bE.width+'"':"")+(aQ(bE.index)?' ss:Index="'+bE.index+'"':"")+"/>")}for(bF=0;bF<v.length;bF++){for(ba=v[bF],S=ba.cells||[],W="<Row"+(aQ(ba.height)?' ss:Height="'+ba.height+'"':"")+(aQ(ba.index)?' ss:Index="'+ba.index+'"':"")+">",Y=0;Y<S.length;Y++){bH=S[Y],aa=bH.type,bG=bH.value,bI=bH.style,Z=null,V=aQ(aa)&&!ax(aa)?aa===Date?"DateTime":aa===Number?"Number":aa===Boolean?"Boolean":"String":aq(bG)?"DateTime":ar(bG)?"Number":bw(bG)?"Boolean":"String","DateTime"==V&&(bG=bf(bG)),a0(bI)&&(Z="s"+I++,M.push('<Style ss:ID="'+Z+'"><Alignment'+(bI.textAlign?' ss:Horizontal="'+be(bI.textAlign)+'"':"")+(bI.verticalAlign?' ss:Vertical="'+be(bI.verticalAlign)+'"':"")+(aQ(bI.wrap)?' ss:WrapText="'+an(bI.wrap)+'"':"")+"/>"+(aQ(bI.format)?'<NumberFormat ss:Format="'+aB(bI.format)+'"/>':"")+"<Font"+(aQ(bI.bold)?' ss:Bold="'+an(bI.bold)+'"':"")+(aQ(bI.italic)?' ss:Italic="'+an(bI.italic)+'"':"")+(aQ(bI.color)?' ss:Color="'+bI.color+'"':"")+(aQ(bI.fontName)?' ss:FontName="'+bI.fontName+'"':"")+(aQ(bI.fontSize)?' ss:Size="'+bI.fontSize+'"':"")+"/><Interior"+(aQ(bI.background)?' ss:Color="'+bI.background+'" ss:Pattern="Solid"':"")+"/></Style>")),W+="<Cell"+(Z?' ss:StyleID="'+Z+'"':"")+(aQ(bH.index)?' ss:Index="'+bH.index+'"':"")+(aQ(bH.colSpan)?' ss:MergeAcross="'+bH.colSpan+'"':"")+(aQ(bH.rowSpan)?' ss:MergeDown="'+bH.rowSpan+'"':"")+'><Data ss:Type="'+V+'">'+(aQ(bG)?aB(bG):"")+"</Data></Cell>"}W+="</Row>",m.push(W)}y.push('<Worksheet ss:Name="'+(L?aB(L):"Sheet1")+'"><Table>'+T.join("")+m.join("")+"</Table></Worksheet>")}return Q+='<Styles><Style ss:ID="Default" ss:Name="Normal"><Alignment ss:Vertical="Bottom"/><Borders/><Font/><Interior/><NumberFormat/><Protection/></Style>'+M.join("")+"</Styles>",Q+=y.join(""),Q+="</Workbook>"}}),aV=ay.extend({getExt:function(){return".xlsx"},getContentType:function(){return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},getContent:function(T){var m=this,b3=m.options,bT=b3.dieOnError;if(!aQ(aP.JSZip)){return b3.noLegacyFallback?void aJ("shield.export.OOXMLWorkbook.getContent: No ZIP library found",bT):new ao(b3).getContent()}var H,x,g,bV,c,bR,bU,bP,cd,b1,b7,bY,cc,bZ=bf(b3.created||new Date),K=b3.author,b4=b3.worksheets||[],ce=b4.length,cb=new aP.JSZip,bG=[],bF={},bE=[],bH=100,bL=['<font><sz val="11"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font>'],bN=['<fill><patternFill patternType="none"/></fill>','<fill><patternFill patternType="gray125"/></fill>'],bO=['<xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/>'],h=function(j){var o,n,l,q="";return !j||a9(j).length<=0?aO:(o=by(j),bF[o]?bF[o].cellXfsIndex:(aQ(j.format)&&(bH++,bE.push('<numFmt numFmtId="'+bH+'" formatCode="'+aB(j.format).replace(" ","\\ ")+'"/>'),q+=' numFmtId="'+bH+'" applyNumberFormat="1"'),j.background&&(bN.push('<fill><patternFill patternType="solid"><fgColor rgb="'+aU(j.background)+'"/></patternFill></fill>'),q+=' fillId="'+(bN.length-1)+'" applyFill="1"'),(aQ(j.bold)||aQ(j.color)||aQ(j.fontName)||aQ(j.fontSize)||aQ(j.italic))&&(bL.push("<font>"+(aQ(j.bold)?'<b val="'+!!j.bold+'"/>':"")+(aQ(j.color)?'<color rgb="'+aU(j.color)+'"/>':"")+(aQ(j.fontName)?'<name val="'+j.fontName+'"/>':"")+(aQ(j.fontSize)?'<sz val="'+j.fontSize+'"/>':"")+(aQ(j.italic)?'<i val="'+!!j.italic+'"/>':"")+"</font>"),q+=' fontId="'+(bL.length-1)+'" applyFont="1"'),(aQ(j.textAlign)||aQ(j.verticalAlign)||aQ(j.wrap))&&(n="<alignment"+(aQ(j.textAlign)?' horizontal="'+j.textAlign+'"':"")+(aQ(j.verticalAlign)?' vertical="'+j.verticalAlign+'"':"")+(aQ(j.wrap)?' wrapText="'+!!j.wrap+'"':"")+"/>"),q||n?(l="<xf"+(q?q:"")+(n?">"+n+"</xf>":"/>"),bO.push(l),bF[o]={cellXfsIndex:bO.length-1},bO.length-1):aO))};for(H=aH()+'<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/><Default Extension="xml" ContentType="application/xml"/><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/>'+aD(b4,function(d,e){return'<Override PartName="/xl/worksheets/sheet'+(e+1)+'.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/>'}).join("")+'<Override PartName="/xl/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/><Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/></Types>',x=aH()+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',g=aH()+'<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>'+ce+'</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="'+ce+'" baseType="lpstr">'+aD(b4,function(e,d){return"<vt:lpstr>"+(e.name?aB(e.name):"Sheet"+(d+1))+"</vt:lpstr>"}).join("")+"</vt:vector></TitlesOfParts><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>15.0300</AppVersion></Properties>",bV=aH()+'<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>'+(K?K:"")+'</dc:creator><dcterms:created xsi:type="dcterms:W3CDTF">'+bZ+"</dcterms:created></cp:coreProperties>",c=aH()+'<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x15" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><fileVersion appName="xl" lastEdited="6" lowestEdited="4" rupBuild="14420"/><workbookPr filterPrivacy="1" defaultThemeVersion="124226"/><sheets>'+aD(b4,function(d,e){return'<sheet name="'+(d.name?aB(d.name):"Sheet"+(e+1))+'" sheetId="'+(e+1)+'" r:id="rId'+(e+1)+'"/>'}).join("")+"</sheets></workbook>",bU=aH()+'<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"/>',b1=1,bP=aH()+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">'+aD(b4,function(d,f){var e=b1++;return'<Relationship Id="rId'+e+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet'+e+'.xml"/>'}).join("")+'<Relationship Id="rId'+b1+++'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId'+b1+++'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId'+b1+++'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml"/></Relationships>',cd=aH()+'<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="1F497D"/></a:dk2><a:lt2><a:srgbClr val="EEECE1"/></a:lt2><a:accent1><a:srgbClr val="4F81BD"/></a:accent1><a:accent2><a:srgbClr val="C0504D"/></a:accent2><a:accent3><a:srgbClr val="9BBB59"/></a:accent3><a:accent4><a:srgbClr val="8064A2"/></a:accent4><a:accent5><a:srgbClr val="4BACC6"/></a:accent5><a:accent6><a:srgbClr val="F79646"/></a:accent6><a:hlink><a:srgbClr val="0000FF"/></a:hlink><a:folHlink><a:srgbClr val="800080"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Cambria" panose="020F0302020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/><a:font script="Hang" typeface="맑은 고딕"/><a:font script="Hans" typeface="宋体"/><a:font script="Hant" typeface="新細明體"/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:majorFont><a:minorFont><a:latin typeface="Calibri" panose="020F0502020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/><a:font script="Hang" typeface="맑은 고딕"/><a:font script="Hans" typeface="宋体"/><a:font script="Hant" typeface="新細明體"/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="16200000" scaled="1"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:shade val="51000"/><a:satMod val="130000"/></a:schemeClr></a:gs><a:gs pos="80000"><a:schemeClr val="phClr"><a:shade val="93000"/><a:satMod val="130000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="94000"/><a:satMod val="135000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="16200000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst><a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d><a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/></a:theme>',b7=0;b7<b4.length;b7++){var w,v=b4[b7],u=v.columns||[],p=u.length,k=v.rows||[],bS=k.length,bK="",bM=[],Y=[];for(bY=0;bS>bY;bY++){var b5=k[bY],bQ=[],b=b5.cells||[],bX=b.length;for(cc=0;bX>cc;cc++){var b6,bI,bJ,b0=b[cc],b2=b0.type,b8=b0.value,bW=ap({},b0.style||{});aQ(b2)&&!ax(b2)?b2===Date?(b6=aO,b8=aZ(b8),bW.format||(bW.format="m/d/yyyy hh:mm")):b6=b2===Number?aO:b2===Boolean?"b":"inlineStr":aq(b8)?(b6=aO,b8=aZ(b8),bW.format||(bW.format="m/d/yyyy hh:mm")):b6=ar(b8)?aO:bw(b8)?"b":"inlineStr",bI=h(bW),bJ=(b8+"").length,(!aQ(bM[cc])||bM[cc]<bJ)&&(bM[cc]=bJ),bQ.push("<c"+(aQ(b0.index)?' r="'+bd(aQ(b5.index)?b5.index:bY+1,b0.index)+'"':"")+(aQ(b6)?' t="'+b6+'"':"")+(aQ(bI)?' s="'+bI+'"':"")+">"+("inlineStr"==b6?"<is><t>"+aB(b8)+"</t></is>":"<v>"+b8+"</v>")+"</c>")}Y.push("<row"+(aQ(b5.index)?' r="'+b5.index+'"':"")+(aQ(b5.height)?' ht="'+b5.height+'" customHeight="1"':"")+">"+bQ.join("")+"</row>")}if(p>0){for(bK="<cols>",cc=0;p>cc;cc++){var b9=u[cc];bK+="<col"+(aQ(b9.index)?' min="'+b9.index+'" max="'+b9.index+'"':' min="'+(cc+1)+'" max="'+(cc+1)+'"')+(aQ(b9.width)?' width="'+bC(b9.width)+'"':"")+(b9.autoWidth!==!0&&aQ(b9.width)?"":' width="'+bv(bM[cc])+'"')+(b9.autoWidth===!0?' bestFit="1"':"")+(aQ(b9.autoWidth)||aQ(b9.width)?' customWidth="1"':"")+"/>"}bK+="</cols>"}w=aH()+'<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><dimension ref="A1"/><sheetViews><sheetView tabSelected="1" workbookViewId="0"/></sheetViews><sheetFormatPr defaultRowHeight="15" x14ac:dyDescent="0.25"/>'+bK+"<sheetData>"+Y.join("")+'</sheetData><pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3"/></worksheet>',bG.push(w)}for(bR=aH()+'<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="'+bE.length+'">'+bE.join("")+'</numFmts><fonts count="'+bL.length+'" x14ac:knownFonts="1">'+bL.join("")+'</fonts><fills count="'+bN.length+'">'+bN.join("")+'</fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs><cellXfs count="'+bO.length+'">'+bO.join("")+'</cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles><dxfs count="0"/><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleMedium9"/><extLst><ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"><x14:slicerStyles defaultSlicerStyle="SlicerStyleLight1"/></ext><ext uri="{9260A510-F301-46a8-8635-F512D64BE5F5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:timelineStyles defaultTimelineStyle="TimeSlicerStyleLight1"/></ext></extLst></styleSheet>',cb.file("[Content_Types].xml",H),cb.file("_rels/.rels",x),cb.file("docProps/app.xml",g),cb.file("docProps/core.xml",bV),cb.file("xl/workbook.xml",c),cb.file("xl/styles.xml",bR),cb.file("xl/sharedStrings.xml",bU),cb.file("xl/_rels/workbook.xml.rels",bP),cb.file("xl/theme/theme1.xml",cd),b7=0;b7<bG.length;b7++){cb.file("xl/worksheets/sheet"+(b7+1)+".xml",bG[b7])}return T&&"string"!=T.type&&aP.JSZip.support.uint8array?cb.generate({type:"uint8array"}):cb.generate({type:"string"})},saveAs:function(f){var b=this,g=b.options;return aQ(aP.JSZip)?ay.fn.saveAs.call(this,f):g.noLegacyFallback?void aJ("shield.export.OOXMLWorkbook.saveAs: No ZIP library found",g.dieOnError):new ao(g).saveAs(f)}}),aW={unit:bn,textColor:"0 g",drawColor:"0 G",fontSize:12,lineHeight:1.15,lineWidth:0.200025,producer:"ShieldUI PDF Builder",created:new Date},a6=ay.extend({_version:"1.3",_formats:{a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"credit-card":[153,243]},_documentProps:["title","subject","author","keywords","creator"],_capJoinStyles:{0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_noMargins:{left:0,top:0,bottom:0},init:function(f){this.options=ap(!0,aW,f,{});var e=this,c=e.options;c.dieOnError;e._scaleFactor=e._getScaleFactor(),e._fontSize=c.fontSize,e._textColor=c.textColor,e._objectNumber=2,e._printToDoc=!0,e._offsets=[],e._fonts={},e._fontmap={},e._pages=[],e._pagesContext=[],e._pageDim=[],e._content=[],e._additionalObjects=[],e._page=e._lineCapID=e._lineJoinID=e._contentLength=0,e._fontKey=e._tmp=e._currentPage=e._pageWidth=e._pageHeight=e._pageMode=e._zoomMode=e._layoutMode=aO,e._cellPadding=3,e._cellMargin=13,e._lastCellPos={x:aO,y:aO,w:aO,h:aO,ln:aO},e._cellHeaderFunction=e._tablePrintHeader=e._cellMargins=e._cellTableHeaderRow=e._cellPrintingHeaderRow=e._tableFontSize=aO,e._cellPages=1,e.addFonts(),e._fontKey="F1"},getExt:function(){return".pdf"},getContentType:function(){return"application/pdf"},getContent:function(d){var c=this;return d&&"string"!=d.type?c._getArrayBuffer():c._build()},_toString:function(b){return(""+b).toLowerCase()},_getScaleFactor:function(){var d=this,c=d.options.unit;switch(c){case bn:return 1;case aG:return 72/25.4000508;case aN:return 72/2.54000508;case ai:return 72;case bp:return 96/72;case bl:return 12;case al:return 12;case ag:return 6;default:return void aJ("shieldExport: Invalid measurement unit: "+c,d.options.dieOnError)}},_setNumberPrecision:function(d,c){return d.toFixed(c)},_setPadding:function(e,d,f){return("0"+parseInt(e,d)).slice(-f)},_write:function(c){var d=this;d._printToDoc?(d._contentLength+=c.length+1,d._content.push(c)):d._pages[d._currentPage].push(c)},_createObject:function(){var b=this;return b._objectNumber++,b._offsets[b._objectNumber]=b._contentLength,b._write(b._objectNumber+" 0 obj"),b._objectNumber},_createAdditionalObject:function(){var e=this,f=2*e._pages.length+1+e._additionalObjects.length,d={objId:f,content:""};return e._additionalObjects.push(d),d},_createObjectDeferred:function(){var b=this;return b._objectNumber++,b._offsets[b._objectNumber]=function(){return b._contentLength},b._objectNumber},_createObjectDeferredBegin:function(c){var d=this;d._offsets[c]=d._contentLength},_writeStream:function(c){var d=this;d._write("stream"),d._write(c),d._write("endstream")},_writePages:function(){var s,q,l,r,o,n,p,t=this,k=(t.options,!1),m=(t._pages,t._pageDim);for(s=1;s<=t._page;s++){t._createObject(),o=(t._pageWidth=m[s].width)*t._scaleFactor,n=(t._pageHeight=m[s].height)*t._scaleFactor,t._write("<</Type /Page"),t._write("/Parent 1 0 R"),t._write("/Resources 2 0 R"),t._write("/MediaBox [0 0 "+t._setNumberPrecision(o,2)+" "+t._setNumberPrecision(n,2)+"]"),t._write("/Contents "+(t._objectNumber+1)+" 0 R"),t._write(">>"),t._write("endobj"),q=t._pages[s].join("\n"),t._createObject(),k?(l=[],r=q.length):t._write("<</Length "+q.length+">>"),t._writeStream(q),t._write("endobj")}for(t._offsets[1]=t._contentLength,t._write("1 0 obj"),t._write("<</Type /Pages"),p="/Kids [",r=0;r<t._page;r++){p+=3+2*r+" 0 R "}t._write(p+"]"),t._write("/Count "+t._page),t._write(">>"),t._write("endobj")},_writeFont:function(c){var d=this;c.objectNumber=d._createObject(),d._write("<</BaseFont/"+c.PostScriptName+"/Type/Font"),"string"==typeof c.encoding&&d._write("/Encoding/"+c.encoding),d._write("/Subtype/Type1>>"),d._write("endobj")},_writeFonts:function(){var d=this,e=d._fonts;for(var f in e){e.hasOwnProperty(f)&&d._writeFont(e[f])}},_writeXObjectDictionary:function(){},_writeResourceDictionary:function(){var d,e=this,f=e._fonts;e._write("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),e._write("/Font <<");for(d in f){f.hasOwnProperty(d)&&e._write("/"+d+" "+f[d].objectNumber+" 0 R")}e._write(">>"),e._write("/XObject <<"),e._writeXObjectDictionary(),e._write(">>")},_writeResources:function(){var d=this,c=d._offsets;d._writeFonts(),c[2]=d._contentLength,d._write("2 0 obj"),d._write("<<"),d._writeResourceDictionary(),d._write(">>"),d._write("endobj")},_writeAdditionalObjects:function(){var f,k,g=this,h=g._offsets,j=g._additionalObjects;for(k=0;k<j.length;k++){f=j[k],h[f.objId]=g._contentLength,g._write(f.objId+" 0 obj"),g._write(f.content),g._write("endobj")}g._objectNumber+=j.length},_writeToFontDictionary:function(h,f,g){var e=this;e._fontmap.hasOwnProperty(f)||(e._fontmap[f]={}),e._fontmap[f][g]=h},_to8bitStream:function(z,u){var g,A,r,y,t,d,v,s,B,c=this,x=c._fonts,w=c._fontKey;if(u=u||{},g=u.sourceEncoding||"Unicode",A=u.outputEncoding,(u.autoencode||A)&&x[w].metadata&&x[w].metadata[g]&&x[w].metadata[g].encoding&&(r=x[w].metadata[g].encoding,!A&&x[w].encoding&&(A=x[w].encoding),!A&&r.codePages&&(A=r.codePages[0]),aM(A)&&(A=r[A]),A)){for(t=!1,y=[],B=0,s=z.length;s>B;B++){v=A[z.charCodeAt(B)],v?y.push(String.fromCharCode(v)):y.push(z[B]),y[B].charCodeAt(0)>>8&&(t=!0)}z=y.join("")}for(B=z.length;void 0===t&&0!==B;){z.charCodeAt(B-1)>>8&&(t=!0),B--}if(!t){return z}for(y=u.noBOM?[]:[254,255],B=0,s=z.length;s>B;B++){if(v=z.charCodeAt(B),d=v>>8,d>>8){return void aJ("shieldExport: Character at position "+B+" of string '"+z+"' exceeds 16bits. Cannot be encoded into UCS-2 BE",c.options.dieOnError)}y.push(d),y.push(v-(d<<8))}return String.fromCharCode.apply(aO,y)},_escape:function(d,c){return this._to8bitStream(d,c).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_writeInfo:function(){var B,z,s,t,u,v,w,x,A,C=this,y=C.options,r=y.producer,p=y.created,q=C._documentProps;for(aQ(r)&&C._write("/Producer ("+r+")"),A=0;A<q.length;A++){w=q[A],x=y[w],x&&C._write("/"+be(w)+" ("+C._escape(x)+")")}B=aY(p),z=B.getTimezoneOffset(),s=0>z?"+":"-",t=Math.floor(Math.abs(z/60)),u=Math.abs(z%60),v=[s,C._setPadding(t,10,2),"'",C._setPadding(u,10,2),"'"].join(""),C._write(["/CreationDate (D:",B.getFullYear(),C._setPadding(B.getMonth()+1,10,2),C._setPadding(B.getDate(),10,2),C._setPadding(B.getHours(),10,2),C._setPadding(B.getMinutes(),10,2),C._setPadding(B.getSeconds(),10,2),v,")"].join(""))},_writeCatalog:function(){var c,d=this;switch(d._write("/Type /Catalog"),d._write("/Pages 1 0 R"),d._zoomMode||(d._zoomMode="fullwidth"),d._zoomMode){case"fullwidth":d._write("/OpenAction [3 0 R /FitH null]");break;case"fullheight":d._write("/OpenAction [3 0 R /FitV null]");break;case"fullpage":d._write("/OpenAction [3 0 R /Fit]");break;case"original":d._write("/OpenAction [3 0 R /XYZ null null 1]");break;default:c=""+d._zoomMode,"%"===c.substr(c.length-1)&&(d._zoomMode=parseInt(d._zoomMode,10)/100),ar(d._zoomMode)&&d._write("/OpenAction [3 0 R /XYZ null null "+d._setNumberPrecision(d._zoomMode,2)+"]")}switch(d._layoutMode||(d._layoutMode="continuous"),d._layoutMode){case"continuous":d._write("/PageLayout /OneColumn");break;case"single":d._write("/PageLayout /SinglePage");break;case"two":case"twoleft":d._write("/PageLayout /TwoColumnLeft");break;case"tworight":d._write("/PageLayout /TwoColumnRight")}d._pageMode&&d._write("/PageMode /"+d._pageMode)},_writeTrailer:function(){var d=this,c=d._objectNumber;d._write("/Size "+(c+1)),d._write("/Root "+c+" 0 R"),d._write("/Info "+(c-1)+" 0 R")},addFont:function(m,o,n,l){var k,h=this,j="F"+(a9(h._fonts).length+1).toString(10);return k=h._fonts[j]={id:j,PostScriptName:m,fontName:o,fontStyle:n,encoding:l,metadata:{}},h._writeToFontDictionary(j,o,n),j},addFonts:function(){var n,o,j,m,l=this,k="StandardEncoding",h=[["Helvetica",at,av],["Helvetica-Bold",at,am],["Helvetica-Oblique",at,bk],["Helvetica-BoldOblique",at,bi],["Courier",au,av],["Courier-Bold",au,am],["Courier-Oblique",au,bk],["Courier-BoldOblique",au,bi],["Times-Roman",aE,av],["Times-Bold",aE,am],["Times-Italic",aE,bk],["Times-BoldItalic",aE,bi]];for(j=0,m=h.length;m>j;j++){n=l.addFont(h[j][0],h[j][1],h[j][2],k),o=h[j][0].split("-"),l._writeToFontDictionary(n,o[0],o[1]||"")}},getActiveFontObj:function(){var f=this,e=f._fonts,c=f._fontKey;return e&&c&&e[c]?e[c]:aO},getFontObj:function(j,h){var k=this,g=k._fonts,c=k.getFont(j,h);return g&&c&&g[c]?g[c]:aO},getFont:function(c,o){var n,m=this,k=m._fonts,l=m._fontmap;switch(c=aQ(c)?c:k[m._fontKey].fontName,o=aQ(o)?o:m._fontKey?k[m._fontKey].fontStyle:aO,aQ(c)&&(c=c.toLowerCase()),o){case bA:case aj:case aI:c=at;break;case ae:case br:case aA:c=au;break;case a4:case ah:case ac:c=aE;break;default:c=aE}try{n=l[c][o]}catch(j){}return n||(n=l[aE][o],null==n&&(n=l[aE][av])),n},_setPage:function(e){var d=this,f=d._pageDim;e>0&&e<=d._page&&(d._currentPage=e,d._pageWidth=f[e].width,d._pageHeight=f[e].height)},_beginPage:function(q,p){var n,r=this,m=r._formats,l=r._pages,k=r._pageDim,d=r._pagesContext,o=aM(p)&&p.toLowerCase();if(aM(q)&&(n=q.toLowerCase(),m.hasOwnProperty(n)&&(q=m[n][0]/r._scaleFactor,p=m[n][1]/r._scaleFactor)),aw(q)&&(p=q[1],q=q[0]),o){switch(o.substr(0,1)){case bs:p>q&&(o="s");break;case bc:q>p&&(o="s")}"s"===o&&(r._tmp=q,q=p,p=r._tmp)}r._printToDoc=!1,r._page++,l[r._page]=[],k[r._page]={width:Number(q)||r._pageWidth,height:Number(p)||r._pageHeight},d[r._page]={},r._setPage(r._page)},addPage:function(){var f=this,e=f.options,h=e.drawColor,g=e.lineWidth;f._beginPage.apply(f,arguments),f._write(f._setNumberPrecision(g*f._scaleFactor,2)+" w"),f._write(h),0!==f._lineCapID&&f._write(f._lineCapID+" J"),0!==f._lineJoinID&&f._write(f._lineJoinID+" j")},deletePage:function(e){var f=this,h=f._pages,g=f._pageDim;e>0&&e<=f._page&&(h.splice(e,1),g.splice(e,1),f._page--,f._currentPage>f._page&&(f._currentPage=f._page),f._setPage(f._currentPage))},getFontSize:function(){var b=this;return b._fontSize},getLineHeight:function(){var b=this;return b.getFontSize()*b.options.lineHeight},getCoordinateString:function(c){var d=this;return d._setNumberPrecision(c*d._scaleFactor,2)},getVerticalCoordinateString:function(c){var d=this;return d._setNumberPrecision((d._pageHeight-c)*d._scaleFactor,2)},getPageSize:function(){var b=this;return{width:b._pageWidth,height:b._pageHeight}},getNumberOfPages:function(){var b=this;return b._pages.length-1},getPages:function(){var b=this;return b._pages},getPageInfo:function(e){var d=this,f=2*(e-1)+3;return{objId:f,pageNumber:e,pageContext:d._pagesContext[e]}},getCurrentPageInfo:function(){return this.getPageInfo(this._currentPage)},movePage:function(r,s){var m,l,k,t,n=this,q=n._pages,p=n._pageDim,o=n._pagesContext;if(r>s){for(m=q[r],l=p[r],k=o[r],t=r;t>s;t--){q[t]=q[t-1],p[t]=p[t-1],o[t]=o[t-1]}q[s]=m,p[s]=l,o[s]=k,n._setPage(s)}else{if(s>r){for(m=q[r],l=p[r],k=o[r],t=r;s>t;t++){q[t]=q[t+1],p[t]=p[t+1],o[t]=o[t+1]}q[s]=m,p[s]=l,o[s]=k,n._setPage(s)}}return n},insertPage:function(){var e=this,d=[].slice.call(arguments),f=d.shift();return e.addPage.apply(e,d),e.movePage(e._currentPage,f),e},setDisplayMode:function(e,h,g){var f=this;return f._zoomMode=e,f._layoutMode=h,f._pageMode=g,f},_ESC:function(f,h){var e=this,g=e.options;return f=f.split("	").join(new Array(g.TabLen||9).join(" ")),e._escape(f,h)},text:function(Z,W,k,Y,X,T){var g,J,H,u,V,U,S,G,P,d,N,L,K,R,aa=this,O="",M="Td",F="",Q=aa.getCurrentPageInfo().pageContext,I=aa.getLineHeight();if(aM(Z)&&(Z=Z.match(/[\n\r]/)?Z.split(/\r\n|\r|\n/g):[Z]),aM(X)&&(T=X,X=null),aM(Y)&&(T=Y,Y=null),ar(Y)&&(X=Y,Y=null),X&&(X*=Math.PI/180,J=Math.cos(X),H=Math.sin(X),O=[aa._setNumberPrecision(J,2),aa._setNumberPrecision(H,2),aa._setNumberPrecision(-1*H,2),aa._setNumberPrecision(J,2),""].join(" "),M="Tm"),Y=Y||{},"noBOM" in Y||(Y.noBOM=!0),"autoencode" in Y||(Y.autoencode=!0),Y.stroke===!0?Q.lastTextWasStroke!==!0&&(F="1 Tr\n",Q.lastTextWasStroke=!0):(Q.lastTextWasStroke&&(F="0 Tr\n"),Q.lastTextWasStroke=!1),aQ(aa._runningPageHeight)||(aa._runningPageHeight=0),aM(Z)){Z=aa._ESC(Z,Y)}else{if(!(Z instanceof Array)){return void aJ('Type of text must be string or Array. "'+Z+'" is not recognized.',aa.options.dieOnError)}for(u=Z.concat(),V=[],S=u.length;S--;){V.push(aa._ESC(u.shift(),Y))}if(G=Math.ceil((aa._pageHeight-k-aa._runningPageHeight)*aa._scaleFactor/aa.getLineHeight()),T){if(R=aD(Z,function(b){return aa._getStringWidth(b)*aa.getFontSize()/aa._scaleFactor}),K=Math.max.apply(Math,R),T===ad){P=W-K/2,W-=R[0]/2}else{if("right"!==T){return void aJ('Unrecognized alignment option, use "center" or "right".',aa.options.dieOnError)}P=W-K,W-=R[0]}for(d=W,Z=V[0]+") Tj\n",U=1,S=V.length;S>U;U++){N=K-R[U],"center"===T&&(N/=2),Z+=P-d+N+" -"+I+" Td ("+V[U],d=P+N,S-1>U&&(Z+=") Tj\n")}}else{Z=V.join(") Tj\nT* (")}}return g||(L=aa._setNumberPrecision((aa._pageHeight-k)*aa._scaleFactor,2)),aa._write("BT\n/"+aa._fontKey+" "+aa.getFontSize()+" Tf\n"+aa.getLineHeight()+" TL\n"+F+aa._textColor+"\n"+O+aa._setNumberPrecision(W*aa._scaleFactor,2)+" "+L+" "+M+"\n("+Z+") Tj\nET"),g&&aa.text(g,W,k),aa},lstext:function(h,o,m,l){var j,n,k=this;for(j=0,n=h.length;n>j;j++,o+=l){k.text(h[j],o,m)}},line:function(f,e,h,g){return this.lines([[h-f,g-e]],f,e)},clip:function(){var b=this;b._write("W"),b._write("S")},lines:function(F,C,z,A,u,s){var D,E,B,x,I,t,y,w,v,G,H,J=this;for(ar(F)&&(J._tmp=z,z=C,C=F,F=J._tmp),A=A||[1,1],J._write(J._setNumberPrecision(C*J._scaleFactor,3)+" "+J._setNumberPrecision((J._pageHeight-z)*J._scaleFactor,3)+" m "),D=A[0],E=A[1],x=F.length,G=C,H=z,B=0;x>B;B++){I=F[B],2===I.length?(G=I[0]*D+G,H=I[1]*E+H,J._write(J._setNumberPrecision(G*J._scaleFactor,3)+" "+J._setNumberPrecision((J._pageHeight-H)*J._scaleFactor,3)+" l")):(t=I[0]*D+G,y=I[1]*E+H,w=I[2]*D+G,v=I[3]*E+H,G=I[4]*D+G,H=I[5]*E+H,J._write(J._setNumberPrecision(t*J._scaleFactor,3)+" "+J._setNumberPrecision((J._pageHeight-y)*J._scaleFactor,3)+" "+J._setNumberPrecision(w*J._scaleFactor,3)+" "+J._setNumberPrecision((J._pageHeight-v)*J._scaleFactor)+" "+J._setNumberPrecision(G*J._scaleFactor)+" "+J._setNumberPrecision((J._pageHeight-H)*J._scaleFactor)+" c"))}return s&&J._write(" h"),null!==u&&J._write(J.getStyle(u)),J},rect:function(m,l,k,j,g){var h=this;h.getStyle(g);return h._write([h._setNumberPrecision(m*h._scaleFactor,2),h._setNumberPrecision((h._pageHeight-l)*h._scaleFactor,2),h._setNumberPrecision(k*h._scaleFactor,2),h._setNumberPrecision(-j*h._scaleFactor,2),"re"].join(" ")),null!==g&&h._write(h.getStyle(g)),h},triangle:function(k,j,q,p,o,n,l){var m=this;return m.lines([[q-k,p-j],[o-q,n-p],[k-o,j-n]],k,j,[1,1],l,!0),m},roundedRect:function(l,k,o,n,r,q,j){var m=this,p=4/3*(Math.SQRT2-1);return m.lines([[o-2*r,0],[r*p,0,r,q-q*p,r,q],[0,n-2*q],[0,q*p,-(r*p),q,-r,q],[-o+2*r,0],[-(r*p),0,-r,-(q*p),-r,-q],[0,-n+2*q],[0,-(q*p),r*p,-q,r,-q]],l+r,k,[1,1],j),m},ellipse:function(j,q,p,o,l){var k=this,n=4/3*(Math.SQRT2-1)*p,m=4/3*(Math.SQRT2-1)*o;return k._write([k._setNumberPrecision((j+p)*k._scaleFactor,2),k._setNumberPrecision((k._pageHeight-q)*k._scaleFactor,2),"m",k._setNumberPrecision((j+p)*k._scaleFactor,2),k._setNumberPrecision((k._pageHeight-(q-m))*k._scaleFactor,2),k._setNumberPrecision((j+n)*k._scaleFactor,2),k._setNumberPrecision((k._pageHeight-(q-o))*k._scaleFactor,2),k._setNumberPrecision(j*k._scaleFactor,2),k._setNumberPrecision((k._pageHeight-(q-o))*k._scaleFactor,2),"c"].join(" ")),k._write([k._setNumberPrecision((j-n)*k._scaleFactor,2),k._setNumberPrecision((k._pageHeight-(q-o))*k._scaleFactor,2),k._setNumberPrecision((j-p)*k._scaleFactor,2),k._setNumberPrecision((k._pageHeight-(q-m))*k._scaleFactor,2),k._setNumberPrecision((j-p)*k._scaleFactor,2),k._setNumberPrecision((k._pageHeight-q)*k._scaleFactor,2),"c"].join(" ")),k._write([k._setNumberPrecision((j-p)*k._scaleFactor,2),k._setNumberPrecision((k._pageHeight-(q+m))*k._scaleFactor,2),k._setNumberPrecision((j-n)*k._scaleFactor,2),k._setNumberPrecision((k._pageHeight-(q+o))*k._scaleFactor,2),k._setNumberPrecision(j*k._scaleFactor,2),k._setNumberPrecision((k._pageHeight-(q+o))*k._scaleFactor,2),"c"].join(" ")),k._write([k._setNumberPrecision((j+n)*k._scaleFactor,2),k._setNumberPrecision((k._pageHeight-(q+o))*k._scaleFactor,2),k._setNumberPrecision((j+p)*k._scaleFactor,2),k._setNumberPrecision((k._pageHeight-(q+m))*k._scaleFactor,2),k._setNumberPrecision((j+p)*k._scaleFactor,2),k._setNumberPrecision((k._pageHeight-q)*k._scaleFactor,2),"c"].join(" ")),null!==l&&k._write(k.getStyle(l)),k},circle:function(f,k,g,j){var h=this;return h.ellipse(f,k,g,g,j)},setFontSize:function(c){var d=this;return d._fontSize=c,d},setFont:function(d,f){var e=this;return e._fontKey=e.getFont(d,f),e},setFontStyle:function(c){var d=this;return d._fontKey=d.getFont(aO,c),d},getFontList:function(){var h,m,l,j=this,k={},g=j._fontmap;for(h in g){if(g.hasOwnProperty(h)){k[h]=l=[];for(m in g[h]){g[h].hasOwnProperty(m)&&l.push(m)}}}return k},addFontScriptName:function(f,e,h){var g=this;g.addFont(f,e,h,"StandardEncoding")},setLineWidth:function(c){var d=this;return d._write((c*d._scaleFactor).toFixed(2)+" w"),d},setDrawColor:function(d,m,l,k){var j,n=this;return j=!aQ(m)||!aQ(k)&&d===m===l?aM(d)?d+" G":n._setNumberPrecision(d/255,2)+" G":aQ(k)?aM(d)?[d,m,l,k,"K"].join(" "):[n._setNumberPrecision(d,2),n._setNumberPrecision(m,2),n._setNumberPrecision(l,2),n._setNumberPrecision(k,2),"K"].join(" "):aM(d)?[d,m,l,aX].join(" "):[n._setNumberPrecision(d/255,2),n._setNumberPrecision(m/255,2),n._setNumberPrecision(l/255,2),aX].join(" "),n._write(j),n},setFillColor:function(d,l,k,m){var j,n=this;return !aQ(l)||!aQ(m)&&d===l===k?j=aM(d)?d+" g":n._setNumberPrecision(d/255,2)+" g":!aQ(m)||a0(m)?(j=aM(d)?[d,l,k,"rg"].join(" "):[n._setNumberPrecision(d/255,2),n._setNumberPrecision(l/255,2),n._setNumberPrecision(k/255,2),"rg"].join(" "),m&&0===m.a&&(j=["255","255","255","rg"].join(" "))):j=aM(d)?[d,l,k,m,"k"].join(" "):[n._setNumberPrecision(d,2),n._setNumberPrecision(l,2),n._setNumberPrecision(k,2),n._setNumberPrecision(m,2),"k"].join(" "),n._write(j),n},setTextColor:function(d,k,h){var j,l=this;return aM(d)&&/^#[0-9A-Fa-f]{6}$/.test(d)&&(j=parseInt(d.substr(1),16),d=j>>16&255,k=j>>8&255,h=255&j),0===d&&0===k&&0===h||!aQ(k)?l._textColor=l._setNumberPrecision(d/255,3)+" g":l._textColor=[l._setNumberPrecision(d/255,3),l._setNumberPrecision(k/255,3),l._setNumberPrecision(h/255,3),"rg"].join(" "),l},_build:function(){var j,k,h,f,g=this;for(g._printToDoc=!0,g._objectNumber=2,g._write("%PDF-"+g._version),g._writePages(),g._writeAdditionalObjects(),g._writeResources(),g._createObject(),g._write("<<"),g._writeInfo(),g._write(">>"),g._write("endobj"),g._createObject(),g._write("<<"),g._writeCatalog(),g._write(">>"),g._write("endobj"),j=g._contentLength,k="0000000000",g._write("xref"),g._write("0 "+(g._objectNumber+1)),g._write(k+" 65535 f "),f=1;f<=g._objectNumber;f++){h=g._offsets[f],a3(h)?g._write((k+g._offsets[f]()).slice(-10)+" 00000 n "):g._write((k+g._offsets[f]).slice(-10)+" 00000 n ")}return g._write("trailer"),g._write("<<"),g._writeTrailer(),g._write(">>"),g._write("startxref"),g._write(j),g._write("%%EOF"),g._printToDoc=!1,g._content.join("\n")},getStyle:function(d){var c=bu;return d===bo?c=bo.toLowerCase():d===a2||d===ak?c=af:(d===bo.toLowerCase()||d===bD||d===bB||d===bx)&&(c=d),c},_getArrayBuffer:function(){for(var j=this,f=j._build(),g=f.length,k=new ArrayBuffer(g),h=new Uint8Array(k);g--;){h[g]=f.charCodeAt(g)}return k},_getCharWidths:function(w,s){var C,x,D,q=this,B=s||{},y=q.getActiveFontObj(),z=B.widths?B.widths:y.metadata.Unicode.widths,u=z.fof?z.fof:1,A=B.kerning?B.kerning:y.metadata.Unicode.kerning,r=A.fof?A.fof:1,v=0,p=z[0]||u,t=[];for(C=0,x=w.length;x>C;C++){D=w.charCodeAt(C),t.push((z[D]||p)/u+(A[D]&&A[D][v]||0)/r),v=D}return t},_sum:function(d){for(var e=d.length,f=0;e;){e--,f+=d[e]}return f},_getStringWidth:function(d,f){var e=this;return e._sum(e._getCharWidths.call(e,d,f))},_getTextDimensions:function(p){var o,r,q=this,n=q.getActiveFontObj(),l=n.fontName,k=q._tableFontSize||q.getFontSize(),m=n.fontStyle;r=az.createElement("font");try{r.style.fontStyle=m}catch(j){r.style.fontWeight=m}r.style.fontName=l,r.style.fontSize=k+bn;try{r.textContent=p}catch(j){r.innerText=p}return az.body.appendChild(r),o={w:(r.offsetWidth+1)*a1,h:(r.offsetHeight+1)*a1},az.body.removeChild(r),o},_setLastCellPosition:function(g,f,k,j,h){this._lastCellPos={x:g,y:f,w:k,h:j,ln:h}},_getLastCellPosition:function(){return this._lastCellPos},_cellAddPage:function(){var d=this,c=d._cellMargins||d._noMargins;d.addPage(),d._setLastCellPosition(c.left,c.top),d._cellPages++},_setTableHeaderConfig:function(b){this._cellTableHeaderRow=b},_splitWord:function(o,n,k,j){for(var p,m=[],r=0,l=o.length,q=0;r!==l&&q+n[r]<k;){q+=n[r],r++}for(m.push(o.slice(0,r)),p=r,q=0;r!==l;){q+n[r]>j&&(m.push(o.slice(p,r)),q=0,p=r),q+=n[r],r++}return p!==r&&m.push(o.slice(p,r)),m},_splitParagraph:function(y,E,x){var R,I,F,A,L,M=this,N=x||{},Q=[],D=[Q],G=N.textIndent||0,K=0,P=0,J=y.split(" "),C=M._getCharWidths(" ",N)[0],O=-1===N.lineIndent?J[0].length+2:N.lineIndent||0;if(O){var B=new Array(O).join(" "),H=[];bq(J,function(c,d){d=d.split(/\s*\n/),d.length>1?H=H.concat(aD(d,function(f,e){return(e&&f.length?"\n":"")+f})):H.push(d[0])}),J=H,O=M._getStringWidth(B,N)}for(F=0,A=J.length;A>F;F++){var z=0;if(R=J[F],O&&"\n"==R[0]&&(R=R.substr(1),z=1),I=M._getCharWidths(R,N),P=M._sum(I),G+K+P>E||z){if(P>E){for(L=M._splitWord(R,I,E-(G+K),E),Q.push(L.shift()),Q=[L.pop()];L.length;){D.push([L.shift()])}P=M._sum(I.slice(R.length-Q[0].length))}else{Q=[R]}D.push(Q),G=P+O,K=C}else{Q.push(R),G+=K+P,K=C}}var k=O?function(d,c){return(c?B:"")+d.join(" ")}:function(b){return b.join(" ")};return aD(D,k)},_splitText:function(y,o,n){var t,s,w,p,z=this,x=n||{},r=aw(y)?y.join(" "):y,q=z._getTextDimensions(r).w/r.length,u=[],v=function(g){var l,k,j={0:1},h={};return g.widths&&g.kerning?{widths:g.widths,kerning:g.kerning}:(l=z.getFontObj(g.fontName,g.fontStyle)||z.getActiveFontObj(),k="Unicode",l.metadata[k]?{widths:l.metadata[k].widths||j,kerning:l.metadata[k].kerning||h}:{widths:j,kerning:h})}.call(z,x);for(t=aw(y)?y:y.split(/\r?\n/),s=1*z._scaleFactor*o/q,v.textIndent=x.textIndent?1*x.textIndent*z._scaleFactor/q:0,v.lineIndent=x.lineIndent,w=0,p=t.length;p>w;w++){u=u.concat(z._splitParagraph(t[w],s,v))}return u},_getLineHeight:function(n,l,r){var t,u,s,q,p=this,o=0,m=p._cellPadding;for(s=0;s<n.length;s++){t=n[s],u=r[t],aw(u)||(!aQ(u)||ax(u)?u="":u+=""),r[t]=p._splitText(u,l[t]-m),q=p.getLineHeight()*r[t].length+1.6*m,q>o&&(o=q)}return o},_cell:function(A,B,y,x,D,u,r){var v,w,t,z,E=this,C=E._getLastCellPosition(),q=E._cellMargins||E._noMargins,s=E._cellPadding;if(aQ(C.ln)&&(C.ln===u?(A=C.x+C.w,B=C.y):(C.y+C.h+x+E._cellMargin>=E._pageHeight-q.bottom&&(E._cellAddPage(),E._tablePrintHeader&&E._cellTableHeaderRow&&E._renderHeader(u,!0)),v=E._getLastCellPosition(),B=v.y+(v.h||0))),aQ(D[0])){if(E._cellPrintingHeaderRow?E.rect(A,B,y,x,a2):E.rect(A,B,y,x),"right"===r){for(aw(D)||(D=[D]),z=0;z<D.length;z++){w=D[z],t=E._getStringWidth(w)*E.getFontSize(),E.text(w,A+y-t-s,B+E.getLineHeight()*(z+1))}}else{E.text(D,A+s,B+E.getLineHeight())}}return E._setLastCellPosition(A,B,y,x,u),E},_renderHeader:function(l,g){var q,n,p,m,r,s=this,o=[];if(!s._cellTableHeaderRow){return void aJ("shieldExport: No table header configuration",s.options.dieOnError)}for(s._cellPrintingHeaderRow=!0,aQ(s._cellHeaderFunction)&&(r=s._cellHeaderFunction.call(s,s._cellPages),s._setLastCellPosition(r[0],r[1],r[2],r[3],-1)),s.setFontStyle(am),p=0,m=s._cellTableHeaderRow.length;m>p;p++){s.setFillColor(236,237,238),q=s._cellTableHeaderRow[p],g&&(q[1]=s._cellMargins&&s._cellMargins.top||0,o.push(q)),n=[].concat(q),s._cell.apply(s,n.concat(l))}o.length>0&&s._setTableHeaderConfig(o),s.setFontStyle(av),s._cellPrintingHeaderRow=!1},table:function(g,S,K,X,U){var aa,bE,W,c,N,J,M,Y,L,Q,P,R,ba=this,d=ba._cellPadding,Z=[],T=[],V={},O=[],H=function(b){return b[aa]},k=!0,p=ba.getFontSize(),I=ba._noMargins;if(!K){return void aJ("shieldExport: No data specified for PDF table",ba.options.dieOnError)}if(R=K.slice(0),U&&(U.printHeader===!1&&(k=!1),U.fontSize&&(p=U.fontSize),U.margins&&(I=U.margins)),ba._lastCellPos={x:aO,y:aO,w:aO,h:aO,ln:aO},ba._cellPages=1,ba._tablePrintHeader=k,ba._cellMargins=I,ba.setFontSize(p),ba._tableFontSize=p,!aQ(X)||ax(X)){Z=a9(R[0])}else{if(X[0]&&!aM(X[0])){for(bE=0,W=X.length;W>bE;bE++){aa=X[bE],Z.push(aa.field),T.push(aa.title),V[aa.field]=aQ(aa.width)?bb(aa.width)*ba._getScaleFactor():aO}}else{Z=X}}for(bE=0,W=Z.length;W>bE;bE++){if(aa=Z[bE],!aQ(V[aa])){for(M=[],M.push(ba._getTextDimensions(T[bE]||aa).w+2*d),J=aD(R,H),Y=0,c=J.length;c>Y;Y++){N=J[Y],M.push(ba._getTextDimensions(N).w+2*d)}V[aa]=Math.max.apply(Math,M)}}if(k){for(P=ba._getLineHeight(Z,V,T.length?T:Z),bE=0,W=Z.length;W>bE;bE++){aa=Z[bE],O.push([g,S,V[aa],P,(T.length?T[bE]:aa)+""])}ba._setTableHeaderConfig(O),ba._renderHeader(1,!1)}for(bE=0,W=R.length;W>bE;bE++){for(L=R[bE],P=ba._getLineHeight(Z,V,L),Y=0,Q=Z.length;Q>Y;Y++){aa=Z[Y],ba._cell(g,S,V[aa],P,L[aa],bE+2,X[Y].align)}}return ba}}),ap(aK,{PDFDocument:a6,OOXMLWorkbook:aV,ExcelXMLSpreadsheet:ao})}(jQuery,shield,this);shield.version="1.7.18";!function(cl,b6,cX,cm){function dd(b){return b8.log(b)/b8.LN10}function cH(b){return b8.pow(10,b)}function aT(e,f){for(var d=e.length;d--;){if(e[d]===f){e.splice(d,1);break}}}function b3(d,h,l){var m,k,j="setAttribute";if(cE(h)){cn(l)?d[j](h,l):d&&d.getAttribute&&(k=d.getAttribute(h))}else{if(cn(h)&&cN(h)){for(m in h){h.hasOwnProperty(m)&&d[j](m,h[m])}}}return k}function cp(){var f,e,h=arguments,g=h.length;for(f=0;g>f;f++){if(e=h[f],"undefined"!=typeof e&&null!==e){return e}}}function bV(c,d){aZ&&d&&d.opacity!==cm&&(d.filter="alpha(opacity="+100*d.opacity+")"),cf(c.style,d)}function cP(k,g,m,l,j){var h=b5.createElement(k);return g&&cf(h,g),j&&bV(h,{padding:0,border:cM,margin:0}),m&&bV(h,m),l&&l.appendChild(h),h}function bY(d,f){var e=function(){};return e.prototype=new d,cf(e.prototype,f),e}function cY(f,e,h){var g=f[e];f[e]=function(){var b=Array.prototype.slice.call(arguments);return b.unshift(g),h.apply(this,b)}}function a9(k,b,m,j){var h,l;for(m=cp(m,1),h=k/m,b||(b=[1,2,2.5,5,10],j&&j.decimalTicks===!1&&(1===m?b=[1,2,5,10]:0.1>=m&&(b=[1/m]))),l=0;l<b.length&&(k=b[l],!(h<=(b[l]+(b[l+1]||b[l]))/2));l++){}return k*=m}function bC(m,k){var l,r,q=k||[[aB,[1,2,5,10,20,25,50,100,200,500]],[aE,[1,2,5,10,15,30]],[aC,[1,2,5,10,15,30]],[ag,[1,2,3,4,6,8,12]],[ae,[1,2]],[aq,[1,2]],[al,[1,2,3,4,6]],[bn,null]],p=q[q.length-1],o=b0[p[0]],n=p[1];for(r=0;r<q.length;r++){if(p=q[r],o=b0[p[0]],n=p[1],q[r+1]){var j=(o*n[n.length-1]+b0[q[r+1][0]])/2;if(j>=m){break}}}return o===b0[bn]&&5*o>m&&(n=[1,2,5]),l=a9(m/o,n),{unitRange:o,count:l,unitName:p[0]}}function c5(z,v,t,u){var B,C,A=[],w={},y=dm.allowUTCFormatting,G=new Date(v),F=z.unitRange,E=z.count;F>=b0[aE]&&(G.setMilliseconds(0),G.setSeconds(F>=b0[aC]?0:E*cO(G.getSeconds()/E))),F>=b0[aC]&&G[c6](F>=b0[ag]?0:E*cO(G[bD]()/E)),F>=b0[ag]&&G[dA](F>=b0[ae]?0:E*cO(G[bO]()/E)),F>=b0[ae]&&G[aY](F>=b0[al]?1:E*cO(G[cI]()/E)),F>=b0[al]&&(G[an](F>=b0[bn]?0:E*cO(G[bL]()/E)),C=G[bA]()),F>=b0[bn]&&(C-=C%E,G[az](C)),F===b0[aq]&&G[aY](G[cI]()-G[ct]()+cp(u,1)),B=1,C=G[bA]();for(var D=G.getTime(),x=G[bL](),s=G[cI](),b=y?0:(86400000+60*G.getTimezoneOffset()*1000)%86400000;t>D;){A.push(D),F===b0[bn]?D=dg(C+B*E,0):F===b0[al]?D=dg(C,x+B*E):y||F!==b0[ae]&&F!==b0[aq]?(D+=F*E,F<=b0[ag]&&D%b0[ae]===b&&(w[D]=ae)):D=dg(C,x,s+B*E*(F===b0[ae]?1:7)),B++}return A.push(D),A.info=cf(z,{higherRanks:w,totalRange:F*E}),A}function bK(){this.color=0,this.symbol=0}function ch(f,h){var k,g,j=f.length;for(g=0;j>g;g++){f[g]._ssIndex=g}for(f.sort(function(d,c){return k=h(d,c),0===k?d._ssIndex-c._ssIndex:k}),g=0;j>g;g++){delete f[g]._ssIndex}}function aA(e){for(var d=e.length,f=e[0];d--;){e[d]<f&&(f=e[d])}return f}function bi(e){for(var d=e.length,f=e[0];d--;){e[d]>f&&(f=e[d])}return f}function aI(e,f){for(var d in e){e.hasOwnProperty(d)&&(e[d]&&e[d]!==f&&e[d].destroy&&e[d].destroy(),delete e[d])}}function ax(b){au||(au=cP(cD)),b&&au.appendChild(b),au.innerHTML=""}function cB(b){return parseFloat(b.toPrecision(14))}function a7(e,b){aX=cp(e,cq[b.guid].applyAnimation)}function ay(){var e=dm.allowUTCFormatting,b=e?"getUTC":"get",f=e?"setUTC":"set";dg=e?Date.UTC:function(h,n,m,l,k,j){return new Date(h,n,cp(m,1),cp(l,0),cp(k,0),cp(j,0)).getTime()},bD=b+"Minutes",bO=b+"Hours",ct=b+"Day",cI=b+"Date",bL=b+"Month",bA=b+"FullYear",c6=f+"Minutes",dA=f+"Hours",aY=f+"Date",an=f+"Month",az=f+"FullYear"}function cs(){}function aL(h,g,e){var f=this;f.axis=h,f.pos=g,f.type=e||"",f.isNew=!0,e||f._label()}function bR(f,d){var e=this;return e.axis=f,d&&(e.options=d,e.id=d.id),e}function cS(m,p,o,l,k,b){var q=this,n=cq[m.chart.guid].isInverted;q.axis=m,q.isNegative=o,q.options=p,q.x=l,q.stackIndex=k,q.percent="percent"===b,q.alignOptions={align:p.align||(n?o?"left":"right":"center"),verticalAlign:p.verticalAlign||(n?"middle":o?"bottom":"top"),y:cp(p.y,n?4:o?14:-6),x:cp(p.x,n?o?-6:6:0)},q.textAlignINTERNAL=p.textAlignINTERNAL||(n?o?"right":"left":"center")}function ah(){var n,q,m=this.axis,r=this.value,e=m.categoricalValues,l=this.dateTimeLabelFormat,o=null,p=o&&o.length,k=m.isLog?r:m.ticksRepeat;if(e){q=r}else{if(l){q=b6.format("{0:"+l+"}",new Date(r))}else{if(p&&k>=1000){for(;p--&&q===cm;){n=b8.pow(1000,p+1),k>=n&&null!==o[p]&&(q=b6.format("{0:n}",r/n)+o[p])}}}}return q===cm&&(q=r>=1000?b6.format("{0:d}",r):b6.format(a2(r)?"{0:n}":"{0:d}",r)),q}function aR(){var l,b=this,c=b.chart,k=b.stacks,e=[],d=[];b.hasVisibleSeries=!1,b.dataMin=b.dataMax=null,co(b.dataSeries,function(Y){if(Y.visible||c.options.scaleAxesForHiddenSeries){var O,g,S,Q,T,h,X,f,W,Z,P,J=Y.options,V=J.baseValue,U=[],M=0;if(b.hasVisibleSeries=!0,b.isLog&&0>=V&&(V=J.baseValue=null),b.isXAxis){X=Y.xData,X.length&&(b.dataMin=cZ(cp(b.dataMin,X[0]),aA(X)),b.dataMax=b9(cp(b.dataMax,X[0]),bi(X)))}else{var N,D,R,L,I=Y.cropped,K=bg.call(Y.axisX),j=!!Y.modifyValue;for(O=J.stackMode,b.usePercentage="percent"===O,O&&(T=J.stackIndex,Q=Y.seriesType+cp(T,""),h="-"+Q,Y.stackKey=Q,g=e[Q]||[],e[Q]=g,S=d[h]||[],d[h]=S),b.usePercentage&&(b.dataMin=0,b.dataMax=99),X=Y.processedXData,f=Y.processedYData,P=f.length,l=0;P>l;l++){if(W=X[l],Z=f[l],O&&(N=V>Z,D=N?S:g,R=N?h:Q,Z=D[W]=cn(D[W])?cB(D[W]+Z):Z,k[R]||(k[R]={}),k[R][W]||(k[R][W]=new cS(b,b.options.stackTextSettings,N,W,T,O)),k[R][W]._total(Z)),null!==Z&&Z!==cm&&(j&&(Z=Y.modifyValue(Z)),I||(X[l+1]||W)>=K.min&&(X[l-1]||W)<=K.max)){if(L=Z.length){for(;L--;){null!==Z[L]&&(U[M++]=Z[L])}}else{U[M++]=Z}}}!b.usePercentage&&U.length&&(b.dataMin=cZ(cp(b.dataMin,U[0]),aA(U)),b.dataMax=b9(cp(b.dataMax,U[0]),bi(U))),cn(V)&&(b.dataMin>=V?(b.dataMin=V,b.ignoreMinPadding=!0):b.dataMax<V&&(b.dataMax=V,b.ignoreMaxPadding=!0))}}})}function cU(j,o,n){var k,q,m=cB(cO(o/j)*j),l=cB(bH(n/j)*j),p=[];for(k=m;l>=k&&(p.push(k),k=cB(k+j),k!==q);){q=k}return p}function c3(R,M,L,P){var Q=this,D=Q.options,F=Q.len,N=[];if(P||(Q._minorAutoInterval=null),R>=0.5){R=cj(R),N=cU.call(Q,R,M,L)}else{if(R>=0.08){var J,O,K,E,I,H,G,z=cO(M);for(J=R>0.3?[1,2,4]:R>0.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],O=z;L+1>O&&!G;O++){for(E=J.length,K=0;E>K&&!G;K++){I=dd(cH(O)*J[K]),I>M&&N.push(H),H>L&&(G=!0),H=I}}}else{var B=cH(M),A=cH(L),C=D[P?"minorTicksRepeat":"ticksRepeat"],m="auto"===C?null:C,g=D.tickPixelIntervalINTERNAL/(P?5:1),b=P?F/Q.tickPositions.length:F;R=cp(m,Q._minorAutoInterval,(A-B)*g/(b||1)),R=a9(R,null,b8.pow(10,cO(b8.log(R)/b8.LN10))),N=di(cU.call(Q,R,B,A),dd),P||(Q._minorAutoInterval=R/5)}}return P||(Q.ticksRepeat=R),N}function cv(){var o,h,k,j=this,n=j.tickPositions,l=j.minorTicksRepeat,m=[];if(j.isLog){for(k=n.length,h=1;k>h;h++){m=m.concat(c3.call(j,l,n[h-1],n[h],!0))}}else{for(o=j.min+(n[0]-j.min)%l;o<=j.max;o+=l){m.push(o)}}return m}function c8(h,o,n,m,l,k){var j=this;return h>0?j.translate(j.dataMin+h,o,n,m,l,k)-j.translate(j.dataMin,o,n,m,l,k):0>h?j.translate(j.dataMax+h,o,n,m,l,k)-j.translate(j.dataMax,o,n,m,l,k):0}function dC(){var e,t,w,s,u,c,x,d,B=this,v=B.options,A=B.min,z=B.max,b=B.dataMax-B.dataMin>=B.zoomMin;if(B.isXAxis&&B.zoomMin===cm&&!B.isLog&&(cn(v.min)||cn(v.max)?B.zoomMin=null:(co(B.dataSeries,function(f){for(u=f.xData,c=f.xIncrement?1:u.length-1,w=c;w>0;w--){s=u[w]-u[w-1],(t===cm||t>s)&&(t=s)}}),B.zoomMin=cZ(5*t,B.dataMax-B.dataMin))),z-A<B.zoomMin){var y=B.zoomMin;e=(y-z+A)/2,x=[A-e,cp(v.min,A-e)],b&&(x[2]=B.dataMin),A=bi(x),d=[A+y,cp(v.max,A+y)],b&&(d[2]=B.dataMax),z=aA(d),y>z-A&&(x[0]=z-y,x[1]=cp(v.min,z-y),A=bi(x))}B.min=A,B.max=z}function bI(){var g=this,k=cq[g.chart.guid],l=k.maxTicks,j=g.tickPositions,h=g.xOrY;l||(l={x:0,y:0}),!g.isLinked&&!g.isDatetimeAxis&&j.length>l[h]&&g.options.matchTicks!==!1&&(l[h]=j.length),k.maxTicks=l}function b2(n,m,o,k,l){var b=this,j=b.chart;o=cp(o,!0),l=cf(l,{min:n,max:m}),b.userMin=n,b.userMax=m,b.isDirtyExtremes=!0,o&&j.redraw(k)}function bg(){var d=this,c=d.isLog;return{min:c?cB(cH(d.min)):d.min,max:c?cB(cH(d.max)):d.max,dataMin:d.dataMin,dataMax:d.dataMax,userMin:d.userMin,userMax:d.userMax}}function aw(g){var f=this,k=f.isLog,j=k?cH(f.min):f.min,h=k?cH(f.max):f.max;return j>g||null===g?g=j:g>h&&(g=h),f.translate(g,0,1,0,1)}function aM(c){var d=new bR(this,c).render();return this.plotLinesAndBands.push(d),d}function bF(){this.init.apply(this,arguments)}function cG(c,g){var p,l,q=cq[this.chart.guid],o=q.isInverted,n=0,m=0;return c=bd(c),p=c[0].tooltipPos,p||(co(c,function(b){l=b.dataSeries.axisY,n+=b.plotX,m+=(b.plotLow?(b.plotLow+b.plotHigh)/2:b.plotY)+(!o&&l?l.top-q.plotTop:0)}),n/=c.length,m/=c.length,p=[o?q.plotWidth-m:n,this.chartBound&&!o&&c.length>1&&g?g.chartY-q.plotTop:o?q.plotHeight-n:m]),di(p,cj)}function br(){co(this.axisMarkers,function(b){b&&b.hide()})}function du(g,f){var e=this;e.chart=g,e.options=f,e.axisMarkers=[],e.isHidden=!0,(/msie 7/i.test(bT)||/msie 8/i.test(bT))&&cl("html").addClass("ie7"),e.labelElement=cl('<div class="shield-tooltip" style="pointer-events: none"></div>').appendTo(g.element),(aZ||cw)&&cl(e.labelElement).bind(ao,function(c){cq[g.guid].container.onmousemove(c)}),e.chartBound=f.chartBound}function aN(h,e){var f=this,g=cz?"":e.zoomMode;f.zoomX=/x/.test(g),f.zoomY=/y/.test(g),f.options=e,f.chart=h,f.init(h,e.tooltipSettings)}function ds(x,w){var q=this,o=q.options,t=x.legendItem,s=x.legendLine,r=x.legendSymbol,v=x.checkMark,p=q.disabledStyle.color,n=w?o.legendItemSettings.elementStyle.color:p,u=w?x.color:p,m=(x.options&&x.options.pointMark,{stroke:u,fill:u,"stroke-width":0});t&&t.css({fill:n}),s&&s.attr({stroke:u}),r&&r.attr(m),v&&(w?v.attr({stroke:o.checkMarkSettings.color}).css({visibility:c1}):v.css({visibility:bS}))}function dz(k){var j=this,q=j.options,n=q.legendMarkerDistance,m=!q.rtlLayout,p=k._legendItemPos,o=p[0],l=p[1];k.legendGroup&&k.legendGroup.translate(m?o:j.legendWidth-o-2*n-4,l)}function af(b){b.legendItem&&b.legendItem.destroy(),b.legendLine&&b.legendLine.destroy(),b.legendSymbol&&b.legendSymbol.destroy(),b.legendGroup&&b.legendGroup.destroy()}function bl(X){var R,P,V,U,Y=this,L=Y.chart,h=cq[L.guid],l=h.renderer,W=Y.options,C=W.checkMarkSettings,D=C.mouseOverColor,M="horizontal"===W.renderDirection,I=W.symbolWidthINTERNAL,N=W.legendMarkerDistance,H=Y.elementStyle,G=Y.disabledStyle,F=Y.padding,E=!W.rtlLayout,K=W.width,O=W.legendItemSettings.bottomSpacing||0,Q=Y.topSpacing,S=Y.initialItemX,T=X.legendItem,J=X.dataSeries||X;J.options;T||(X.legendGroup=l.g().attr({zIndex:1}).add(Y.scrollGroup),J.drawLegendSymbol(Y,X),X.legendItem=T=l.text(X.collectionAlias,E?I+N:-N,Y.baseline,W.htmlOutput).css(cg(X.visible?H:G)).attr({align:E?"left":"right",zIndex:2}).add(X.legendGroup),U=X.checkMark,X.legendGroup.on(ao,function(){X.setState(cK),T.css(Y.options.legendItemSettings.mouseOverStyle),U&&D&&U.attr({stroke:D})}).on(b4,function(){T.css(X.visible?H:G),U&&U.attr({stroke:C.color}),X.setState()}).on(dB,function(c){var d=L.trigger("legendSeriesClick",{item:X});d.isDefaultPrevented()||X.toggle()}),ds.call(Y,X,X.visible)),P=T.getBBox(),V=X.legendelementWidth=W.legendItemSettings.elementWidth||I+N+P.width+F,Y.itemHeight=R=P.height,M&&Y.itemX-S+V>(K||h.chartWidth-2*F-S)&&(Y.itemX=S,Y.itemY+=Q+Y.lastLineHeight+O,Y.lastLineHeight=0),Y.maxelementWidth=b9(Y.maxelementWidth,V),Y.lastItemY=Q+Y.itemY+O,Y.lastLineHeight=b9(R,Y.lastLineHeight),X._legendItemPos=[Y.itemX,Y.itemY],M?Y.itemX+=V:(Y.itemY+=Q+R+O,Y.lastLineHeight=R),Y.offsetWidth=K||b9(M?Y.itemX-S:V,Y.offsetWidth)}function av(s){var q,u=this,n=u.chart,p=cq[n.guid],r=(p.renderer,u.options),o=r.y,m="top"===r.verticalAlign,t=p.spacingBox.height+(m?-o:o)-this.padding,l=u.clipRect;return"horizontal"===r.renderDirection&&(t/=2),s>t&&(u.clipHeight=q=t,l.attr({height:q}),s=t),s}function at(b){this.init(b)}function cF(k,j,p,o){var n=cq[k.guid],m=o?p:j,l=o?j:p;return m>=0&&m<=n.plotWidth&&l>=0&&l<=n.plotHeight}function bm(){for(var f,e=this,g=["graphic","tracker","dataLabel","group","connector","shadowGroup"],h=6;h--;){f=g[h],e[f]&&(e[f]=e[f].destroy())}}function ap(o,k){var b,n=this,p=n.dataSeries,l=p.chart,m=p.data,j=m.length;for(a7(k,l),o=cp(o,!0),b=0;j>b;b++){if(m[b]===n){m.splice(b,1),p.options.data.splice(b,1),p.xData.splice(b,1),p.yData.splice(b,1);break}}n.destroy(),p.isDirty=!0,p.isDirtyData=!0,o&&l.redraw()}function aP(r,p,d){var q,s=this,b=s.dataSeries,o=b.chart,n=cq[o.guid],m=s.slicedTranslation;a7(d,o),p=cp(p,!0),r=s.sliced=cn(r)?r:!s.sliced,q={translateX:r?m[0]:n.plotLeft,translateY:r?m[1]:n.plotTop},s.group.animate(q),s.shadowGroup&&s.shadowGroup.animate(q)}function a0(e,d,f){this.init.call(this,e,d,f)}function be(k,l,j){var g=this,h=cq[l.guid];k.call(g,l,j),h.enablePolarLayout&&(g.closeSegment=function(d){var b=g.axisX.center;d.push("L",b[0],b[1])},g.closedStacks=!0)}function bs(e,p){var v,w=this,r=cq[w.chart.guid],s=w.options.applyAnimation,u=w.group,t=w.markerGroup,o=w.axisX.center,n=r.plotLeft,q=r.plotTop;r.enablePolarLayout?r.renderer.isSVG&&!aZ&&(s===!0&&(s={}),p?(u.attrSetters.scaleX=u.attrSetters.scaleY=function(d,g){var f=this;return f[g]=d,f.scaleX!==cm&&f.scaleY!==cm&&f.element.setAttribute("transform","translate("+f.translateX+","+f.translateY+") scale("+f.scaleX+","+f.scaleY+")"),!1},v={translateX:o[0]+n,translateY:o[1]+q,scaleX:0,scaleY:0},u.attr(v),t&&(t.attrSetters=u.attrSetters,t.attr(v))):(v={translateX:n,translateY:q,scaleX:1,scaleY:1},u.animate(v,s),t&&t.animate(v,s),w.animate=null)):e.call(w,p)}var a1,au,dm,aX,bv,b0,dg,bD,bO,ct,cI,bL,bA,c6,dA,aY,an,az,aK=b6.ui.Widget,a8=b6.Constants,b5=document,b8=Math,cj=b8.round,cO=b8.floor,bH=b8.ceil,b9=b8.max,cZ=b8.min,cL=b8.abs,c0=b8.cos,cR=b8.sin,bX=b8.PI,c4=2*bX/360,by="function",ao="mouseover",b4="mouseout",aV="mousemove",bo="mouseenter",ad="mouseleave",a4="touchstart",c9="point",bT=navigator.userAgent,cw=cX.opera,aZ=/msie/i.test(bT)&&!cw,c7=8===b5.documentMode,bh=/AppleWebKit/.test(bT),a3=/Firefox/.test(bT),aO=a8.SVG_NS,cJ=!!b5.createElementNS&&!!b5.createElementNS(aO,"svg").createSVGRect,aQ=!!b5.createElement("canvas").getContext,cz=!cJ&&!aZ&&aQ,cC=b5.documentElement.ontouchstart!==cm,de={},cA=function(){},cf=cl.extend,bQ=b6.error,b7=b6.to["int"],cE=b6.is.string,cN=b6.is.object,dt=b6.is.array,aj=b6.is.number,a2=(b6.is.integer,b6.is["float"]),cn=b6.is.defined,bd=b6.to.array,dw="shield-",cD="div",c1="visible",bS="hidden",bJ="relative",b1="px",bZ="L",bW="M",cM="none",ar="absolute",dx="pointer",dh="rgba(192,192,192,"+(cJ?0.0001:0.002)+")",cT="",cK="pointHoveredState",cW="pointSelectedState",aB="MILLISECOND",aE="SECOND",aC="MINUTE",ag="HOUR",ae="DAY",aq="WEEK",al="MONTH",bn="YEAR",dp="stroke-width",ck="resize",dB="click",cq={},cd={};bK.prototype={wrapColor:function(b){this.color>=b&&(this.color=0)},wrapSymbol:function(b){this.symbol>=b&&(this.symbol=0)}},b0={MILLISECOND:1,SECOND:1000,MINUTE:60000,HOUR:3600000,DAY:86400000,WEEK:604800000,MONTH:2592000000,YEAR:31556952000},bv={init:function(v,w,o){w=w||"";var r,x,z,u,p,q=v.shift,t=w.indexOf("C")>-1,y=t?7:3,B=w.split(" "),A=[].concat(o),s=function(b){for(z=b.length;z--;){b[z]===bW&&b.splice(z+1,0,b[z+1],b[z+2],b[z+1],b[z+2])}};if(t&&(s(B),s(A)),v.isArea&&(u=B.splice(B.length-6,6),p=A.splice(A.length-6,6)),q<=A.length/y){for(;q--;){A=[].concat(A).splice(0,y).concat(A)}}if(v.shift=0,B.length){for(r=A.length;B.length<r;){x=[].concat(B).splice(B.length-y,y),t&&(x[y-6]=x[y-2],x[y-5]=x[y-1]),B=B.concat(x)}}return u&&(B=B.concat(u),A=A.concat(p)),[B,A]},step:function(n,m,l,k){var h,o=[],j=n.length;if(1===l){o=k}else{if(j===m.length&&1>l){for(;j--;){h=parseFloat(n[j]),o[j]=isNaN(h)?n[j]:l*parseFloat(m[j]-h)+h}}else{o=m}}return o}},function(){var e,k=cl.fx,j=k.step,f=cl.Tween,h=f&&f.propHooks;cl.extend(cl.easing,{easeOutQuad:function(m,l,g,o,n){return -o*(l/=n)*(l-2)+g}}),cl.each(["cur","_default","width","height"],function(d,c){var l,g,m=j;"cur"===c?m=k.prototype:"_default"===c&&f&&(m=h[c],c="set"),l=m[c],l&&(m[c]=function(b){return b=d?b:this,g=b.elem,g.attr?g.attr(b.prop,"cur"===c?cm:b.now):l.apply(this,arguments)})}),e=function(g){var l,d=g.elem;g.started||(l=bv.init(d,d.d,d.toD),g.start=l[0],g.end=l[1],g.started=!0),d.attr("d",bv.step(g.start,g.end,g.pos,d.toD))},f?h.d={set:e}:j.d=e}();var bP=(cl.getScript,cl.inArray),co=Array.prototype.forEach?function(d,c){return Array.prototype.forEach.call(d,c)}:function(e,h){for(var f=0,g=e.length;g>f;f++){if(h.call(e[f],e[f],f,e)===!1){return f}}},am=cl.grep,cr=function(b){return cl(b).offset()},di=cl.map,cg=function(){return cl.extend.apply(cl,[].concat.apply([!0,null],arguments))},cV=function(e,d,f){cl(e).bind(d,f)},cQ=function(f,h,g){var e=b5.removeEventListener?"removeEventListener":"detachEvent";b5[e]&&!f[e]&&(f[e]=function(){}),cl(f).unbind(h,g)},dr=function(j,o,n,l){var k,f=cl.Event(o),m="detached"+o;!aZ&&n&&(delete n.layerX,delete n.layerY),cf(f,n),j[o]&&(j[m]=j[o],j[o]=null),cl.each(["preventDefault","stopPropagation"],function(e,b){var g=f[b];f[b]=function(){try{g.call(f)}catch(c){"preventDefault"===b&&(k=!0)}}}),cl(j).trigger(f),j[m]&&(j[o]=j[m],j[m]=null),!l||f.isDefaultPrevented()||k||l(f)},dl=function(g,k,j,f){var h;g instanceof b6.ui.Widget?g.trigger(k,j,f):g instanceof b6.Dispatcher?(h=g.trigger(k,j),typeof f!==by||h.isDefaultPrevented()||f.call(g,h)):dr(g,k,j,f)},bu=function(e,f,g){var h=cl(e);f.d&&(e.toD=f.d,f.d=1),h.stop(),h.animate(f,g)},cu=function(b){cl(b).stop()},aS={enabled:!0,align:"center",x:0,y:15,style:{color:"#7E7E7E",fontSize:"11px",lineHeight:"14px"}};dm={seriesPalette:["#1E98E4","#FFC500","#FF2A00","#CACACA","#7F7F7F","#00FF9C","#6D31FF","#00B2A1","#B9FF85","#FF8000"],allowUTCFormatting:!0,localization:{},primaryHeader:{text:"Shield UI Chart",align:"center",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif",y:-15,style:{color:"#4B4B4B",fontSize:"16px",top:10}},secondaryHeader:{text:"",align:"center",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif",y:5,style:{color:"#606060"}},loadingTextStyle:{fontWeight:"bold",position:bJ,top:"1em"},symbols:["circle"],chartAreaBorderColor:"#000000",chartAreaBorderWidth:0,borderColor:"#A0A0A0",borderRadius:0,borderWidth:0,seriesType:"bar",scaleAxesForHiddenSeries:!1,chartAreaPaddingTop:40,chartAreaPaddingRight:10,chartAreaPaddingBottom:20,chartAreaPaddingLeft:10,style:{fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif",fontSize:"12px"},backgroundColor:"#FFFFFF",axisX:{plotStripWidth:0,drawWidth:1,ticksWidth:1,ticksHeight:6,drawColor:"#636363",ticksColor:"#636363",lastTickTextVisible:!0,axisTickText:{style:{color:"#636363",fontSize:"11px",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"},y:17},title:{style:{color:"#636363",fontWeight:"normal",fontSize:"11px",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"}}},axisY:{plotStripWidth:1,drawWidth:0,tickWidth:1,tickColor:"#7E7E7E",drawColor:"#636363",plotStripDashStyle:"Solid",axisTickText:{style:{color:"#636363",fontSize:"11px",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"}},title:{style:{color:"#636363",fontSize:"11px",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"}}},seriesSettings:{bar:{borderWidth:0},line:{enablePointSelection:!1,applyAnimation:{duration:1200},events:{},drawWidth:3,shadow:!1,pointMark:{enabled:!0,drawWidth:2,drawRadius:3,drawColor:null,innerColor:null,activeSettings:{pointHoveredState:{enabled:!0,innerColor:"#FFFFFF",drawWidth:2,drawRadius:4},pointSelectedState:{color:"#7AF4F4",shadow:!1,drawWidth:2}}},point:{events:{}},dataPointText:cg(aS,{enabled:!1,format:"{point.y}",verticalAlign:"bottom",y:0}),pointsLimit:300,pointRange:0,addToLegend:!0,activeSettings:{pointHoveredState:{drawWidth:3,pointMark:{}},pointSelectedState:{pointMark:{}}},completeSeriesTrace:!0},polarline:{applyAnimation:{duration:500}},polararea:{applyAnimation:{duration:500}},polarbar:{applyAnimation:{duration:500}},polarspline:{applyAnimation:{duration:500}},polarsplinearea:{applyAnimation:{duration:500}},polarscatter:{applyAnimation:{duration:500}}},chartLegend:{enabled:!0,align:"center",renderDirection:"horizontal",borderWidth:0,borderColor:"#909090",borderRadius:0,shadow:!1,legendItemSettings:{disabledStyle:{color:"#CCC"},mouseOverStyle:{color:"#000"},elementStyle:{cursor:dx,color:"#3E576F",fontSize:"12px"}},checkMarkSettings:{enabled:!1,shape:"check",width:1,color:"#3E576F",mouseOverColor:cm,coordinates:{x:cm,y:cm,width:cm,height:cm}},symbolWidthINTERNAL:12,drawRadius:4,legendMarkerDistance:5,verticalAlign:"bottom",x:0,y:10},tooltipSettings:{enabled:!0,customHeaderText:"{point.pointName}",customPointText:"<span>{point.dataSeries.collectionAlias}</span>: {point.y}",format:null,position:null,chartBound:!1,axisMarkers:{enabled:!1,mode:"xy",color:"#999999",width:1,zIndex:3},showDistance:cC?25:10}};var ce=dm.seriesSettings,dq=ce.line;ay();var bM=function(o){function n(b){h=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(b),h?j=[b7(h[1]),b7(h[2]),b7(h[3]),parseFloat(h[4],10)]:(h=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b),h&&(j=[b7(h[1],16),b7(h[2],16),b7(h[3],16),1]))}function m(c){var e;return e=j&&!isNaN(j[0])?"rgb"===c?"rgb("+j[0]+","+j[1]+","+j[2]+")":"a"===c?j[3]:"rgba("+j.join(",")+")":o}function l(e){if(aj(e)&&0!==e){var d;for(d=0;3>d;d++){j[d]+=b7(255*e),j[d]<0&&(j[d]=0),j[d]>255&&(j[d]=255)}}return this}function k(c){return j[3]=c,this}var h,j=[];return n(o),{get:m,brighten:l,setOpacity:k}};cs.prototype={init:function(f,e){var d=this;d.element="span"===e?cP(e):b5.createElementNS(aO,e),d.renderer=f,d.attrSetters={}},animate:function(g,f,h){var b=cp(f,aX,!0);cu(this),b?(b=cg(b),h&&(b.complete=h),bu(this,g,b)):(this.attr(g),h&&h())},attr:function(F,l){var J,I,z,E,p,D,C,d,n,H=this,G=H.element,B=G.nodeName.toLowerCase(),q=H.renderer,e=H.attrSetters,A=H.shadows,y=H;if(cE(F)&&cn(l)&&(J=F,F={},F[J]=l),cE(F)){J=F,"circle"===B?J={x:"cx",y:"cy"}[J]||J:"strokeWidth"===J&&(J="stroke-width"),y=b3(G,J)||H[J]||0,"d"!==J&&"visibility"!==J&&(y=parseFloat(y))}else{for(J in F){if(F.hasOwnProperty(J)&&(D=!1,I=F[J],z=e[J]&&e[J].call(H,I,J),z!==!1)){if(z!==cm&&(I=z),"d"===J){I&&I.join&&(I=I.join(" ")),/(NaN| {2}|^$)/.test(I)&&(I="M 0 0")}else{if("x"===J&&"text"===B){for(E=0;E<G.childNodes.length;E++){p=G.childNodes[E],b3(p,"x")===b3(G,"x")&&b3(p,"x",I)}H.textAngle&&b3(G,"transform","rotate("+H.textAngle+" "+I+" "+b7(F.y||b3(G,"y"))+")")}else{if("fill"===J){I=q.color(I,G,J)}else{if("circle"!==B||"x"!==J&&"y"!==J){if("rect"===B&&"r"===J){b3(G,{rx:I,ry:I}),D=!0}else{if("translateX"===J||"translateY"===J||"textAngle"===J||"verticalAlign"===J){n=!0,D=!0}else{if("stroke"===J){I=q.color(I,G,J)}else{if("dashstyle"===J){if(J="stroke-dasharray",I=I&&I.toLowerCase(),"solid"===I){I=cM}else{if(I){for(I=I.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),E=I.length;E--;){I[E]=b7(I[E])*F["stroke-width"]}I=I.join(",")}}}else{"isTracker"===J?H[J]=I:"width"===J?I=b7(I):"align"===J?(J="text-anchor",I={left:"start",center:"middle",right:"end"}[I]):"title"===J&&(C=G.getElementsByTagName("title")[0],C||(C=b5.createElementNS(aO,"title"),G.appendChild(C)),C.textContent=I)}}}}}else{J={x:"cx",y:"cy"}[J]||J}}}}if("strokeWidth"===J&&(J="stroke-width"),bh&&"stroke-width"===J&&0===I&&(I=0.000001),H.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(J)&&(d||(H.symbolAttr(F),d=!0),D=!0),A&&/^(width|height|visibility|x|y|d|transform)$/.test(J)){for(E=A.length;E--;){b3(A[E],J,"height"===J?b9(I-(A[E].cutHeight||0),0):I)}}("width"===J||"height"===J)&&"rect"===B&&0>I&&(I=0),H[J]=I,n&&H.updateTransform(),"text"===J?(I!==H.textStr&&delete H.bBox,H.textStr=I,H.added&&q.buildText(H)):D||b3(G,J,I)}}}return y},symbolAttr:function(c){var b=this;co(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(d){b[d]=cp(c[d],b[d])}),b.attr({d:b.renderer.symbols[b.symbolName](b.x,b.y,b.width,b.height,b)})},clip:function(b){return this.attr("clip-path",b?"url("+this.renderer.url+"#"+b.id+")":cM)},crisp:function(p,n,m,l,g){var r,q,t=this,o={},s={};p=p||t.strokeWidth||t.attr&&t.attr("stroke-width")||0,q=cj(p)%2/2,s.x=cO(n||t.x||0)+q,s.y=cO(m||t.y||0)+q,s.width=cO((l||t.width||0)-2*q),s.height=cO((g||t.height||0)-2*q),s.strokeWidth=p;for(r in s){s.hasOwnProperty(r)&&t[r]!==s[r]&&(o[r]=s[r],cN(t)&&(t[r]=s[r]))}return o},css:function(j){var o,h=this,l=h.element,n=j&&j.width&&"text"===l.nodeName.toLowerCase(),m="",k=function(c,d){return"-"+d.toLowerCase()};if(j&&j.color&&(j.fill=j.color),j=cf(h.styles,j),h.styles=j,cz&&n&&delete j.width,aZ&&!cJ){n&&delete j.width,bV(h.element,j)}else{for(o in j){j.hasOwnProperty(o)&&(m+=o.replace(/([A-Z])/g,k)+":"+j[o]+";")}h.attr({style:m})}return n&&h.added&&h.renderer.buildText(h),h},on:function(e,d){var f=d;return cC&&e===dB&&(e=a4,f=function(b){b.preventDefault(),d()}),this.element["on"+e]=f,this},setRadialReference:function(b){return this.element.radialReference=b,this},translate:function(d,c){return this.attr({translateX:d,translateY:c})},invert:function(){var b=this;return b.isInverted=!0,b.updateTransform(),b},htmlCss:function(e){var f=this,g=f.element,h=e&&"SPAN"===g.tagName&&e.width;return h&&(delete e.width,f.textWidth=h,f.updateTransform()),f.styles=cf(f.styles,e),bV(f.element,e),f},htmlGetBBox:function(){var d=this,e=d.element,f=d.bBox;return f||("text"===e.nodeName&&(e.style.position=ar),f=d.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}),f},htmlUpdateTransform:function(){if(!this.added){return void (this.alignOnAdd=!0)}var X=this,x=X.renderer,W=X.element,n=X.translateX||0,c=X.translateY||0,I=X.x||0,r=X.y||0,P=X.textAlignINTERNAL||"left",S={left:0,center:0.5,right:1}[P],G=P&&"left"!==P,L=X.shadows;if((n||c)&&(bV(W,{marginLeft:n,marginTop:c}),L&&co(L,function(e){bV(e,{marginLeft:n+1,marginTop:c+1})})),X.isInverted&&co(W.childNodes,function(e){x.invertChild(e,W)}),"SPAN"===W.tagName){var O,M,K,H,J,T=X.textAngle,C=0,U=1,V=0,d=b7(X.textWidth),Q=X.xCorr||0,R=X.yCorr||0,b=[T,P,W.innerHTML,X.textWidth].join(","),N={};b!==X.cTT&&(cn(T)&&(x.isSVG?(J=aZ?"-ms-transform":bh?"-webkit-transform":a3?"MozTransform":cw?"-o-transform":"",N[J]=N.transform="rotate("+T+"deg)"):(C=T*c4,U=c0(C),V=cR(C),N.filter=T?["progid:DXImageTransform.Microsoft.Matrix(M11=",U,", M12=",-V,", M21=",V,", M22=",U,", sizingMethod='auto expand')"].join(""):cM),bV(W,N)),O=cp(X.elemWidth,W.offsetWidth),M=cp(X.elemHeight,W.offsetHeight),O>d&&/[ \-]/.test(W.innerText)&&(bV(W,{width:d+b1,display:"block",whiteSpace:"normal"}),O=d),K=x.fontMetrics(W.style.fontSize).b,Q=0>U&&-O,R=0>V&&-M,H=0>U*V,Q+=V*K*(H?1-S:S),R-=U*K*(T?H?S:1-S:1),G&&(Q-=O*S*(0>U?-1:1),T&&(R-=M*S*(0>V?-1:1)),bV(W,{textAlignINTERNAL:P})),X.xCorr=Q,X.yCorr=R),bV(W,{left:I+Q+b1,top:r+R+b1}),X.cTT=b}},updateTransform:function(){var h=this,m=h.translateX||0,l=h.translateY||0,k=h.isInverted,j=h.textAngle,g=[];k&&(m+=h.attr("width"),l+=h.attr("height")),(m||l)&&g.push("translate("+m+","+l+")"),k?g.push("rotate(90) scale(-1,1)"):j&&g.push("rotate("+j+" "+(h.x||0)+" "+(h.y||0)+")"),g.length&&b3(h.element,"transform",g.join(" "))},toFront:function(){var b=this.element;return b.parentNode.appendChild(b),this},align:function(q,o,p){var r=this;q?(r.alignOptions=q,r.alignByTranslate=o,p||r.renderer.alignedObjects.push(r)):(q=r.alignOptions,o=r.alignByTranslate),p=cp(p,r.renderer);var m=q.align,l=q.verticalAlign,g=(p.x||0)+(q.x||0),b=(p.y||0)+(q.y||0),n={};return("right"===m||"center"===m)&&(g+=(p.width-(q.width||0))/{right:1,center:2}[m]),n[o?"translateX":"x"]=cj(g),("bottom"===l||"middle"===l)&&(b+=(p.height-(q.height||0))/({bottom:1,middle:2}[l]||1)),n[o?"translateY":"y"]=cj(b),r[r.placed?"animate":"attr"](n),r.placed=!0,r.alignAttr=n,r},getBBox:function(){var p,r,t=this,u=t.bBox,o=t.renderer,n=t.textAngle,s=t.element,m=t.styles,q=n*c4;if(!u){if(s.namespaceURI===aO||o.forExport){try{u=s.getBBox?cf({},s.getBBox()):{width:s.offsetWidth,height:s.offsetHeight}}catch(l){}(!u||u.width<0)&&(u={width:0,height:0})}else{u=t.htmlGetBBox()}o.isSVG&&(p=u.width,r=u.height,n&&(u.width=cL(r*cR(q))+cL(p*c0(q)),u.height=cL(r*c0(q))+cL(p*cR(q)))),aZ&&m&&"11px"===m.fontSize&&22.700000762939453===r&&(u.height=14),t.bBox=u}return u},show:function(){return this.attr({visibility:c1})},hide:function(){return this.attr({visibility:bS})},add:function(v){var s,q,t,m,n=this.renderer,p=v||n,o=p.element||n.box,d=o.childNodes,r=this.element,u=b3(r,"zIndex");if(v&&(this.parentGroup=v),this.parentInverted=v&&v.isInverted,void 0!==this.textStr&&n.buildText(this),u&&(p.handleZ=!0,u=b7(u)),p.handleZ){for(t=0;t<d.length;t++){if(s=d[t],q=b3(s,"zIndex"),s!==r&&(b7(q)>u||!cn(u)&&cn(q))){o.insertBefore(r,s),m=!0;break}}}return m||o.appendChild(r),this.added=!0,dl(this,"add"),this},safeRemoveChild:function(d){var c=d.parentNode;c&&c.removeChild(d)},destroy:function(){if(!this._destroyed){var j,c,g=this,k=g.element||{},h=g.shadows;if(k.onclick=k.onmouseout=k.onmouseover=k.onmousemove=null,cu(g),g.clipPath&&(g.clipPath=g.clipPath.destroy()),g.stops){for(c=0;c<g.stops.length;c++){g.stops[c]=g.stops[c].destroy()}g.stops=null}g.safeRemoveChild(k),h&&co(h,function(d){g.safeRemoveChild(d)}),g.renderer._destroyed||aT(g.renderer.alignedObjects,g);for(j in g){g.hasOwnProperty(j)&&delete g[j]}return g._destroyed=!0,null}},empty:function(){for(var e=this.element,d=e.childNodes,f=d.length;f--;){e.removeChild(d[f])}},shadow:function(u,p,b){var t,v,s,r,o,n,l=[],q=this.element;if(u){for(r=cp(u.width,3),o=(u.opacity||0.15)/r,n=this.parentInverted?"(-1,-1)":"("+cp(u.offsetX,1)+", "+cp(u.offsetY,1)+")",t=1;r>=t;t++){v=q.cloneNode(0),s=2*r+1-2*t,b3(v,{isShadow:"true",stroke:u.color||"black","stroke-opacity":o*t,"stroke-width":s,transform:"translate"+n,fill:cM}),b&&(b3(v,"height",b9(b3(v,"height")-s,0)),v.cutHeight=s),p?p.element.appendChild(v):q.parentNode.insertBefore(v,q),l.push(v)}this.shadows=l}return this}};var cy=function(){this.init.apply(this,arguments)};cy.prototype={Element:cs,init:function(q,m,l,k){var o,r=this,j=location;if(o=r.createElement("svg").attr({xmlns:aO,version:"1.1"}),q.appendChild(o.element),r.isSVG=!0,r.box=o.element,r.boxWrapper=o,r.alignedObjects=[],r.url=(a3||bh)&&b5.getElementsByTagName("base").length?j.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",r.defs=this.createElement("defs").add(),r.forExport=k,r.gradients={},r.setSize(m,l,!1),a3&&q.getBoundingClientRect){var n,p;r.subPixelFix=n=function(){bV(q,{left:0,top:0}),p=q.getBoundingClientRect(),bV(q,{left:bH(p.left)-p.left+b1,top:bH(p.top)-p.top+b1})},n(),cV(cX,ck,n)}},isHidden:function(){return !this.boxWrapper.getBBox().width},destroy:function(){if(!this._destroyed){var d=this,c=d.defs;return d.box=null,d.boxWrapper=d.boxWrapper.destroy(),aI(d.gradients||{}),d.gradients=null,c&&(d.defs=c.destroy()),d.subPixelFix&&cQ(cX,ck,d.subPixelFix),d.alignedObjects=null,d._destroyed=!0,null}},createElement:function(c){var d=new this.Element;return d.init(this,c),d},draw:function(){},buildText:function(z){function B(d){return v[d]=A.getBBox?A.getBBox().height:z.renderer.fontMetrics(A.style.fontSize).h,cj(v[d]-(v[d-1]||0))}for(var q,A=z.element,w=cp(z.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),g=A.childNodes,n=/style="([^"]+)"/,C=/href="([^"]+)"/,p=b3(A,"x"),x=z.styles,y=x&&x.width&&b7(x.width),c=x&&x.lineHeight,b="getComputedStyle",D=g.length,v=[];D--;){A.removeChild(g[D])}y&&!z.added&&this.box.appendChild(A),""===w[w.length-1]&&w.pop(),co(w,function(l,e){var k,d,j=0;l=l.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),k=l.split("|||"),co(k,function(u){if(""!==u||1===k.length){var t,G={},F=b5.createElementNS(aO,"tspan");if(n.test(u)&&(t=u.match(n)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),b3(F,"style",t)),C.test(u)&&(b3(F,"onclick",'location.href="'+u.match(C)[1]+'"'),bV(F,{cursor:dx})),u=(u.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"),F.appendChild(b5.createTextNode(u)),j?G.dx=3:G.x=p,j||(e&&(!cJ&&z.renderer.forExport&&bV(F,{display:"block"}),d=cX[b]&&b7(cX[b](q,null).getPropertyValue("line-height")),(!d||isNaN(d))&&(d=c||q.offsetHeight||B(e)||18),b3(F,"dy",d)),q=F),b3(F,G),A.appendChild(F),j++,y){for(var E,r,h=u.replace(/([^\^])-/g,"$1- ").split(" "),o=[];h.length||o.length;){delete z.bBox,r=z.getBBox().width,E=r>y,E&&1!==h.length?(F.removeChild(F.firstChild),o.unshift(h.pop())):(h=o,o=[],h.length&&(F=b5.createElementNS(aO,"tspan"),b3(F,{dy:c||16,x:p}),t&&b3(F,"style",t),A.appendChild(F),r>y&&(y=r))),h.length&&F.appendChild(b5.createTextNode(h.join(" ").replace(/- /g,"-")))}}}})})},crispLine:function(d,c){return d[1]===d[4]&&(d[1]=d[4]=cj(d[1])-c%2/2),d[2]===d[5]&&(d[2]=d[5]=cj(d[2])+c%2/2),d},path:function(d){var c={fill:cM};return dt(d)?c.d=d:cN(d)&&cf(c,d),this.createElement("path").attr(c)},circle:function(f,e,h){var g=cN(f)?f:{x:f,y:e,r:h};return this.createElement("circle").attr(g)},arc:function(h,m,g,l,k,j){return cN(h)&&(m=h.y,g=h.r,l=h.innerR,k=h.start,j=h.end,h=h.x),this.symbol("arc",h||0,m||0,g||0,g||0,{innerR:l||0,start:k||0,end:j||0})},rect:function(j,n,m,l,h,k){h=cN(j)?j.r:h;var o=this.createElement("rect").attr({rx:h,ry:h,fill:cM});return o.attr(cN(j)?j:o.crisp(k,j,n,b9(m,0),b9(l,0)))},setSize:function(m,l,h){var b=this,k=b.alignedObjects,j=k.length;for(b.width=m,b.height=l,b.boxWrapper[cp(h,!0)?"animate":"attr"]({width:m,height:l});j--;){k[j].align()}},g:function(d){var c=this.createElement("g");return cn(d)?c.attr({"class":dw+d}):c},image:function(h,n,m,l,k){var j,o={preserveAspectRatio:cM};return arguments.length>1&&cf(o,{x:n,y:m,width:l,height:k}),j=this.createElement("image").attr(o),j.element.setAttributeNS?j.element.setAttributeNS("http://www.w3.org/1999/xlink","href",h):j.element.setAttribute("sui-svg-href",h),j},symbol:function(y,w,v,s,r,x){var A,z,u,t,q=this.symbols[y],p=q&&q(cj(w),cj(v),s,r,x),g=/^url\((.*?)\)$/;return p?(A=this.path(p),cf(A,{symbolName:y,x:w,y:v,width:s,height:r}),x&&cf(A,x)):g.test(y)&&(t=function(c,d){c.attr({width:d[0],height:d[1]}),c.alignByTranslate||c.translate(-cj(d[0]/2),-cj(d[1]/2))},z=y.match(g)[1],u=de[z],A=this.image(z).attr({x:w,y:v}),u?t(A,u):(A.attr({width:0,height:0}),cP("img",{onload:function(){var b=this;t(A,de[z]=[b.width,b.height])},src:z}))),A},symbols:{circle:function(g,f,k,h){var j=0.166*k;return[bW,g+k/2,f,"C",g+k+j,f,g+k+j,f+h,g+k/2,f+h,"C",g-j,f+h,g-j,f,g+k/2,f,"Z"]},x:function(f,e,h,g){return[bW,f,e,bZ,f+h,e+g,bW,f+h,e,bZ,f,e+g]},v:function(f,e,h,g){return[bW,f+1,e+1,bZ,f+h/2,e+g-1,bZ,f+h-1,e+1]},check:function(f,e,h,g){return[bW,f+2,e+g/2-1,bZ,f+h/2,e+g-1,bZ,f+h-1,e+1]},square:function(f,e,h,g){return[bW,f,e,bZ,f+h,e,f+h,e+g,f,e+g,"Z"]},triangle:function(f,e,h,g){return[bW,f+h/2,e,bZ,f+h,e+g,f,e+g,"Z"]},"triangle-down":function(f,e,h,g){return[bW,f,e,bZ,f+h,e,f+h/2,e+g,"Z"]},diamond:function(f,e,h,g){return[bW,f+h/2,e,bZ,f+h,e+g/2,f+h/2,e+g,f,e+g/2,"Z"]},arc:function(A,z,p,q,D){var y=D.start,C=D.r||p||q,r=D.end-0.000001,B=D.innerR,u=D.open,t=c0(y),s=cR(y),x=c0(r),v=cR(r),w=D.end-y<bX?0:1;return[bW,A+C*t,z+C*s,"A",C,C,0,w,1,A+C*x,z+C*v,u?bW:bZ,A+B*x,z+B*v,"A",B,B,0,w,0,A+B*t,z+B*s,u?"":"Z"]}},clipRect:function(n,m,l,k){var j,h=b6.strid(),o=this.createElement("clipPath").attr({id:h}).add(this.defs);return j=this.rect(n,m,l,k,0).add(o),j.id=h,j.clipPath=o,j},color:function(z,t,o){var w,x,v=this,c=/^rgba/;if(z&&z.linearGradient?x="linearGradient":z&&z.radialGradient&&(x="radialGradient"),x){var u,s,q,A=z[x],d=v.gradients,y=t.radialReference;return A.id&&d[A.id]||(dt(A)&&(z[x]=A={x1:A[0],y1:A[1],x2:A[2],y2:A[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===x&&y&&!cn(A.gradientUnits)&&cf(A,{cx:y[0]-y[2]/2+A.cx*y[2],cy:y[1]-y[2]/2+A.cy*y[2],r:A.r*y[2],gradientUnits:"userSpaceOnUse"}),A.id=b6.strid(),d[A.id]=u=v.createElement(x).attr(A).add(v.defs),u.stops=[],co(z.stops,function(f){var e;c.test(f[1])?(w=new bM(f[1]),s=w.get("rgb"),q=w.get("a")):(s=f[1],q=1),e=v.createElement("stop").attr({offset:f[0],"stop-color":s,"stop-opacity":q}).add(u),u.stops.push(e)})),"url("+v.url+"#"+A.id+")"}return c.test(z)?(w=new bM(z),b3(t,o+"-opacity",w.get("a")),w.get("rgb")):(t.removeAttribute(o+"-opacity"),z)},text:function(m,b,p,k){var o,n=this,l=dm.style,g=cz||!cJ&&n.forExport;return k&&!n.forExport?n.html(m,b,p):(b=cj(cp(b,0)),p=cj(cp(p,0)),o=n.createElement("text").attr({x:b,y:p,text:m}).css({fontFamily:l.fontFamily,fontSize:l.fontSize}),g&&o.css({position:ar}),o.x=b,o.y=p,o)},html:function(n,m,l){var p=dm.style,g=this.createElement("span"),c=g.attrSetters,q=g.element,o=g.renderer;return c.text=function(b){return b!==q.innerHTML&&delete this.bBox,q.innerHTML=b,!1},c.x=c.y=c.align=function(e,d){return"align"===d&&(d="textAlignINTERNAL"),g[d]=e,g.htmlUpdateTransform(),!1},g.attr({text:n,x:cj(m),y:cj(l)}).css({position:ar,whiteSpace:"nowrap",fontFamily:p.fontFamily,fontSize:p.fontSize}),g.css=g.htmlCss,o.isSVG&&(g.add=function(r){var d,s,k=o.box.parentNode,f=[];if(r){if(d=r.div,!d){for(s=r;s;){f.push(s),s=s.parentGroup}co(f.reverse(),function(b){var e;d=b.div=b.div||cP(cD,{className:b3(b.element,"class")},{position:ar,left:(b.translateX||0)+b1,top:(b.translateY||0)+b1},d||k),e=d.style,cf(b.attrSetters,{translateX:function(h){e.left=h+b1},translateY:function(h){e.top=h+b1},visibility:function(j,h){e[h]=j}})})}}else{d=k}return d.appendChild(q),g.added=!0,g.alignOnAdd&&g.htmlUpdateTransform(),g}),g},fontMetrics:function(e){e=b7(e||11);var d=24>e?e+4:cj(1.2*e),f=cj(0.8*d);return{h:d,b:f}},label:function(T,G,O,W,N,h,R,J,M){function g(){var f,j=bb.element.style;Z=(void 0===ab||void 0===P||ca.styles.textAlignINTERNAL)&&bb.getBBox(),ca.width=(ab||Z.width||0)+2*ac,ca.height=(P||Z.height||0)+2*ac,Q=ac+aa.fontMetrics(j&&j.fontSize).b,ba||(f=J?-Q:0,ca.box=ba=W?aa.symbol(W,-Y*ac,f,ca.width,ca.height):aa.rect(-Y*ac,f,ca.width,ca.height,0,U[dp]),ba.add(ca)),ba.attr(cg({width:ca.width,height:ca.height},U)),U=null}function V(){var f,j=ca.styles,k=j&&j.textAlignINTERNAL,l=ac*(1-Y);f=J?0:Q,!cn(ab)||"center"!==k&&"right"!==k||(l+={center:0.5,right:1}[k]*(ab-Z.width)),(l!==bb.x||f!==bb.y)&&bb.attr({x:l,y:f}),bb.x=l,bb.y=f}function X(j,f){ba?ba.attr(j,f):U[j]=f}function e(){bb.add(ca),ca.attr({text:T,x:G,y:O}),cn(N)&&ca.attr({anchorX:N,anchorY:h})}var ba,Z,ab,P,S,L,Q,aa=this,ca=aa.g(M),bb=aa.text("",0,0,R).attr({zIndex:1}),Y=0,ac=3,d=0,U={},bc=ca.attrSetters;cV(ca,"add",e),bc.width=function(b){return ab=b,!1},bc.height=function(b){return P=b,!1},bc.padding=function(b){return cn(b)&&b!==ac&&(ac=b,V()),!1},bc.align=function(b){return Y={left:0,center:0.5,right:1}[b],!1},bc.text=function(j,f){return bb.attr(f,j),g(),V(),!1},bc[dp]=function(j,f){return d=j%2/2,X(f,j),!1},bc.stroke=bc.fill=bc.r=function(j,f){return X(f,j),!1},bc.anchorX=function(j,f){return N=j,X(f,j+d-S),!1},bc.anchorY=function(j,f){return h=j,X(f,j-L),!1},bc.x=function(f){return ca.x=f,f-=Y*((ab||Z.width)+ac),S=cj(f),ca.attr("translateX",S),!1},bc.y=function(f){return L=ca.y=cj(f),ca.attr("translateY",f),!1};var c=ca.css;return cf(ca,{css:function(f){if(f){var j={};f=cg({},f),co(["fontSize","fontWeight","fontFamily","color","lineHeight","width"],function(b){f[b]!==cm&&(j[b]=f[b],delete f[b])}),bb.css(j)}return c.call(ca,f)},getBBox:function(){return ba.getBBox()},shadow:function(f){return ba.shadow(f),ca},destroy:function(){ca._destroyed||(cQ(ca,"add",e),cQ(ca.element,bo),cQ(ca.element,ad),bb&&(bb=bb.destroy()),ba&&(ba=ba.destroy()),cs.prototype.destroy.call(ca))}})}},a1=cy;var dk;if(!cJ&&!cz){var aD={init:function(h,g){var k=this,f=["<",g,' filled="f" stroked="f"'],j=["position: ",ar,";"];("shape"===g||g===cD)&&j.push("left:0;top:0;width:1px;height:1px;"),c7&&j.push("visibility: ",g===cD?bS:c1),f.push(' style="',j.join(""),'"/>'),g&&(f=g===cD||"span"===g||"img"===g?f.join(""):h.prepVML(f),k.element=cP(f)),k.renderer=h,k.attrSetters={}},add:function(h){var j=this,o=j.renderer,n=j.element,l=o.box,k=h&&h.isInverted,m=h?h.element||h:l;return k&&o.invertChild(n,m),m.appendChild(n),j.added=!0,j.alignOnAdd&&!j.deferUpdateTransform&&j.updateTransform(),dl(j,"add"),j},updateTransform:cs.prototype.htmlUpdateTransform,attr:function(G,q){var L,K,I,C,r,F,J=this,H=J.element||{},D=H.style,A=H.nodeName,z=J.renderer,d=J.symbolName,E=J.shadows,l=J.attrSetters,g=J;if(cE(G)&&cn(q)&&(L=G,G={},G[L]=q),cE(G)){L=G,g="strokeWidth"===L||"stroke-width"===L?J.strokeweight:J[L]}else{for(L in G){if(G.hasOwnProperty(L)&&(K=G[L],F=!1,C=l[L]&&l[L].call(J,K,L),C!==!1&&null!==K)){if(C!==cm&&(K=C),d&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(L)){r||(J.symbolAttr(G),r=!0),F=!0}else{if("d"===L){K=K||[],J.d=K.join(" "),I=K.length;for(var B=[];I--;){aj(K[I])?B[I]=cj(10*K[I])-5:"Z"===K[I]?B[I]="x":B[I]=K[I]}if(K=B.join(" ")||"x",H.path=K,E){for(I=E.length;I--;){E[I].path=E[I].cutOff?this.cutOffPath(K,E[I].cutOff):K}}F=!0}else{if("visibility"===L){if(E){for(I=E.length;I--;){E[I].style[L]=K}}"DIV"===A&&(K=K===bS?"-999em":0,L="top"),D[L]=K,F=!0}else{if("zIndex"===L){K&&(D[L]=K),F=!0}else{if("width"===L||"height"===L){K=b9(0,K),this[L]=K,J.updateClipping?(J[L]=K,J.updateClipping()):D[L]=K,F=!0}else{if("x"===L||"y"===L){J[L]=K,D[{x:"left",y:"top"}[L]]=K}else{if("class"===L){H.className=K}else{if("stroke"===L){K=z.color(K,H,L),L="strokecolor"}else{if("stroke-width"===L||"strokeWidth"===L){H.stroked=K?!0:!1,L="strokeweight",J[L]=K,aj(K)&&(K+=b1)}else{if("dashstyle"===L){var e=H.getElementsByTagName("stroke")[0]||cP(z.prepVML(["<stroke/>"]),null,null,H);e[L]=K||"solid",J.dashstyle=K,F=!0}else{"fill"===L?"SPAN"===A?D.color=K:(H.filled=K!==cM?!0:!1,K=z.color(K,H,L,J),L="fillcolor"):"shape"===A&&"textAngle"===L?(J[L]=K,H.style.left=-cj(cR(K*c4)+1)+b1,H.style.top=cj(c0(K*c4))+b1):"translateX"===L||"translateY"===L||"textAngle"===L?(J[L]=K,J.updateTransform(),F=!0):"text"===L&&(this.bBox=null,H.innerHTML=K,F=!0)}}}}}}}}}}F||(c7?H[L]=K:b3(H,L,K))}}}return g},clip:function(f){var k,j,g=this,h=g.element;h.parentNode;return f?(k=f.members,k.push(g),g.destroyClip=function(){aT(k,g)},j=f.getCSS(g)):(g.destroyClip&&g.destroyClip(),j={clip:c7?"inherit":"rect(auto)"}),g.css(j)},css:cs.prototype.htmlCss,safeRemoveChild:function(b){b.parentNode&&ax(b)},destroy:function(){var b=this;if(!b._destroyed){return b.destroyClip&&b.destroyClip(),cs.prototype.destroy.apply(b)}},empty:function(){for(var f,g=this.element,e=g.childNodes,h=e.length;h--;){f=e[h],f.parentNode.removeChild(f)}},on:function(d,c){return this.element["on"+d]=function(){var b=cX.event;b.target=b.srcElement,c(b)},this},cutOffPath:function(e,f){var d;return e=e.split(/[ ,]/),d=e.length,(9===d||11===d)&&(e[d-4]=e[d-2]=b7(e[d-2])-10*f),e.join(" ")},shadow:function(F,v,s){var C,E,y,z,x,w,u,A=this,t=[],D=A.element,n=A.renderer,b=D.style,B=D.path;if(B&&"string"!=typeof B.value&&(B="x"),x=B,F){for(w=cp(F.width,3),u=(F.opacity||0.15)/w,C=1;3>=C;C++){z=2*w+1-2*C,s&&(x=A.cutOffPath(B.value,z+0.5)),y=['<shape isShadow="true" strokeweight="',z,'" filled="false" path="',x,'" coordsize="10 10" style="',D.style.cssText,'" />'],E=cP(n.prepVML(y),null,{left:b7(b.left)+cp(F.offsetX,1),top:b7(b.top)+cp(F.offsetY,1)}),s&&(E.cutOff=z+1),y=['<stroke color="',F.color||"black",'" opacity="',u*C,'"/>'],cP(n.prepVML(y),null,null,E),v?v.element.appendChild(E):D.parentNode.insertBefore(E,D),t.push(E)}A.shadows=t}return A}};aD=bY(cs,aD);var aW={Element:aD,isIE8:bT.indexOf("MSIE 8.0")>-1,init:function(l,k,j){var g,m,h=this;h.alignedObjects=[],g=h.createElement(cD),m=g.element,m.style.position=bJ,l.appendChild(g.element),h.box=m,h.boxWrapper=g,h.setSize(k,j,!1),b5.namespaces.scv||(b5.namespaces.add("scv","urn:schemas-microsoft-com:vml"),b5.createStyleSheet().cssText="scv\\:fill, scv\\:path, scv\\:shape, scv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},isHidden:function(){return !this.box.offsetWidth},clipRect:function(g,l,k,j){var m=this.createElement(),c=cN(g);return cf(m,{members:[],left:c?g.x:g,top:c?g.y:l,width:c?g.width:k,height:c?g.height:j,getCSS:function(q){var o=q.isInverted,n=this,u=n.top,t=n.left,s=t+n.width,r=u+n.height,p={clip:"rect("+cj(o?t:u)+"px,"+cj(o?r:s)+"px,"+cj(o?s:r)+"px,"+cj(o?u:t)+"px)"};return !o&&c7&&"IMG"!==q.element.nodeName&&cf(p,{width:s+b1,height:r+b1}),p},updateClipping:function(){co(m.members,function(b){b.css(m.getCSS(b))})}})},color:function(dH,cc,ac,X){var dF,cb,da,c=this,N=/^rgba/,dc=cM;if(dH&&dH.linearGradient?da="gradient":dH&&dH.radialGradient&&(da="pattern"),da){var dD,ca,G,bb,ab,Y,v,m,U,S,bc,ba,dI=dH.linearGradient||dH.radialGradient,aa="",dE=dH.stops,Z=function(){cb=['<fill colors="'+dm.seriesPalette.join(",")+'" opacity="',m,'" o:opacity2="',v,'" type="',da,'" ',aa,'focus="100%" method="any" />'],cP(c.prepVML(cb),null,null,cc)};if(bc=dE[0],ba=dE[dE.length-1],bc[0]>0&&dE.unshift([0,bc[1]]),ba[0]<1&&dE.push([1,ba[1]]),co(dE,function(e,d){N.test(e[1])?(dF=new bM(e[1]),dD=dF.get("rgb"),ca=dF.get("a")):(dD=e[1],ca=1),dm.seriesPalette.push(100*e[0]+"% "+dD),d?(m=ca,U=dD):(v=ca,S=dD)}),"fill"===ac){if("gradient"===da){G=dI.x1||dI[0]||0,bb=dI.y1||dI[1]||0,ab=dI.x2||dI[2]||0,Y=dI.y2||dI[3]||0,aa='angle="'+(90-180*b8.atan((Y-bb)/(ab-G))/bX)+'"',Z()}else{var dG,W=dI.r,T=2*W,R=2*W,Q=dI.cx,K=dI.cy,db=cc.radialReference,P=function(){db&&(dG=X.getBBox(),Q+=(db[0]-dG.x)/dG.width-0.5,K+=(db[1]-dG.y)/dG.height-0.5,T*=db[2]/dG.width,R*=db[2]/dG.height),aa='size="'+T+","+R+'" origin="0.5,0.5" position="'+Q+","+K+'" color2="'+S+'" ',Z()};X.added?P():cV(X,"add",P),dc=U}}else{dc=dD}}else{if(N.test(dH)&&"IMG"!==cc.tagName){dF=new bM(dH),cb=["<",ac,' opacity="',dF.get("a"),'"/>'],cP(this.prepVML(cb),null,null,cc),dc=dF.get("rgb")}else{var V=cc.getElementsByTagName(ac);V.length&&(V[0].opacity=1),dc=dH}}return dc},prepVML:function(e){var d="display:inline-block;behavior:url(#default#VML);",f=this.isIE8;return e=e.join(""),f?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e=-1===e.indexOf('style="')?e.replace("/>",' style="'+d+'" />'):e.replace('style="','style="'+d)):e=e.replace("<","<scv:"),e},text:cy.prototype.html,path:function(d){var c={coordsize:"10 10"};return dt(d)?c.d=d:cN(d)&&cf(c,d),this.createElement("shape").attr(c)},circle:function(d,f,e){return this.symbol("circle").attr({x:d-e,y:f-e,width:2*e,height:2*e})},g:function(e){var f,d;return e&&(d={className:dw+e,"class":dw+e}),f=this.createElement(cD).attr(d)},image:function(g,m,l,k,j){var h=this.createElement("img").attr({src:g});return arguments.length>1&&h.attr({x:m,y:l,width:k,height:j}),h},rect:function(j,o,n,m,k,l){cN(j)&&(o=j.y,n=j.width,m=j.height,l=j.strokeWidth,j=j.x);var h=this.symbol("rect");return h.r=k,h.attr(h.crisp(l,j,o,b9(n,0),b9(m,0)))},invertChild:function(d,f){var e=f.style;bV(d,{flip:"x",left:b7(e.width)-1,top:b7(e.height)-1,rotation:-90})},symbols:{arc:function(D,C,r,q,A){var y,B=A.start,z=A.end,E=A.r||r||q,w=c0(B),s=cR(B),x=c0(z),t=cR(z),F=A.innerR,u=0.08/E,v=F&&0.1/F||0;return z-B===0?["x"]:(u>2*bX-z+B?x=-u:v>z-B&&(x=c0(B+v)),y=["wa",D-E,C-E,D+E,C+E,D+E*w,C+E*s,D+E*x,C+E*t],A.open&&!F&&y.push("e",bW,D,C),y.push("at",D-F,C-F,D+F,C+F,D+F*x,C+F*t,D+F*w,C+F*s,"x","e"),y)},circle:function(f,e,h,g){return["wa",f,e,f+h,e+g,f+h,e+g/2,f+h,e+g/2,"e"]},rect:function(q,p,k,d,m){var l,r,o=q+k,n=p+d;return cn(m)&&m.r?(r=cZ(m.r,k,d),l=[bW,q+r,p,bZ,o-r,p,"wa",o-2*r,p,o,p+2*r,o-r,p,o,p+r,bZ,o,n-r,"wa",o-2*r,n-2*r,o,n,o,n-r,o-r,n,bZ,q+r,n,"wa",q,n-2*r,q+2*r,n,q+r,n,q,n-r,bZ,q,p+r,"wa",q,p,q+2*r,p+2*r,q,p+r,q+r,p,"x","e"]):l=cy.prototype.symbols.square.apply(0,arguments),l}}};dk=function(){this.init.apply(this,arguments)},dk.prototype=cg(cy.prototype,aW),a1=dk}var bt;cz&&(bt=function(){aO="http://www.w3.org/1999/xhtml"},bt.prototype.symbols={},bt.prototype=bY(cy.prototype,{create:function(f,e,h,g){this.setContainer(e,h,g),this.configure(f)},setContainer:function(x,n,e){var u,t=x.style,w=x.parentNode,o=t.left,q=t.top,p=x.offsetWidth,r=x.offsetHeight,v={visibility:bS,position:ar};this.init.apply(this,[x,n,e]),u=cP("canvas",{width:p,height:r},{position:bJ,left:o,top:q},x),this.canvas=u,this.ttLine=cP(cD,null,v,w),this.ttDiv=cP(cD,null,v,w),this.ttTimer=cm;var s=cP(cD,{width:p,height:r},{visibility:bS,left:o,top:q},w);this.hiddenSvg=s,s.appendChild(this.box)},configure:function(n){var q=this,p=n.options.tooltipSettings,o=cq[n.guid],h=p.borderWidth,s=q.ttDiv,r=p.style,m=q.ttLine,e=parseInt(r.padding,10);r=cg(r,{padding:e+b1,"background-color":p.backgroundColor,"border-style":"solid","border-width":h+b1,"border-drawRadius":p.borderRadius+b1}),p.shadow&&(r=cg(r,{"box-shadow":"1px 1px 3px gray","-webkit-box-shadow":"1px 1px 3px gray"})),bV(s,r),bV(m,{"border-left":"1px solid darkgray"}),cV(n,"tooltipRefresh",function(b){var k,j=o.container,g=j.offsetLeft,d=j.offsetTop;s.innerHTML=b.text,k=o.tooltipSettings.getPosition(s.offsetWidth,s.offsetHeight,{plotX:b.x,plotY:b.y}),bV(s,{visibility:c1,left:k.x+b1,top:k.y+b1,"border-color":b.borderColor}),bV(m,{visibility:c1,left:g+b.x+b1,top:d+o.plotTop+b1,height:o.plotHeight+b1}),q.ttTimer!==cm&&clearTimeout(q.ttTimer),q.ttTimer=setTimeout(function(){bV(s,{visibility:bS}),bV(m,{visibility:bS})},3000)})},destroy:function(){var b=this;if(!b._destroyed){return ax(b.canvas),b.ttTimer!==cm&&clearTimeout(b.ttTimer),ax(b.ttLine),ax(b.ttDiv),ax(b.hiddenSvg),cy.prototype.destroy.apply(b)}},color:function(e,d,f){return e&&e.linearGradient&&(e=e.stops[e.stops.length-1][1]),cy.prototype.color.call(this,e,d,f)},draw:function(){var b=this;cX.canvg(b.canvas,b.hiddenSvg.innerHTML)}})),a1=dk||bt||cy,aL.prototype={_label:function(){var G,I,D,l,L=this,O=L.axis,o=O.options,E=O.chart,H=cq[E.guid],r=O.horiz,M=O.categoricalValues,N=L.pos,P=o.axisTickText,J=O.tickPositions,g=M&&r&&M.length&&!P.step&&!P.staggerLinesINTERNAL&&!P.textAngle&&H.plotWidth/J.length||!r&&H.plotWidth/2,d=N===J[0],F=N===J[J.length-1],K=M&&cn(M[N])?M[N]:N,C=L.label,B=J.info;M&&!cn(M[N])&&K==N&&H.enablePolarLayout||(O.isDatetimeAxis&&B&&(l=o.axisDateFormat[B.higherRanks[N]||B.unitName]),L.isFirst=d,L.isLast=F,G=P.format?cE(P.format)?b6.format(P.format,{text:K,axis:O,chart:E}):P.format.call(null,K,O,E):ah.call({axis:O,chart:E,isFirst:d,isLast:F,dateTimeLabelFormat:l,value:O.isLog?cB(cH(K)):K}),I=g&&{width:b9(1,cj(g-2*(P.padding||10)))+b1},I=cf(I,P.style),P&&"x"==O.xOrY&&!O.inverseOrder&&("left"==P.align?P.align="right":"right"==P.align&&(P.align="left")),cn(C)?C&&C.attr({text:G}).css(I):(D={align:P.align},aj(P.textAngle)&&(D.textAngle=P.textAngle),L.label=cn(G)&&P.enabled?H.renderer.text(G,0,0,P.htmlOutput).attr(D).css(I).add(O.labelGroup):null))},_labelSize:function(){var d=this.label,c=this.axis;return d?(this.labelBBox=d.getBBox())[c.horiz?"height":"width"]:0},_labelDim:function(){var l=this.labelBBox,k=this.axis,j=k.options,h=j.axisTickText,g=l.width,m=g*{left:0,center:0.5,right:1}[h.align]-h.x;return[-m,g-m]},_overflow:function(s,w){var F=this,D=!0,G=F.axis,E=F.isFirst,v=F.isLast,I=w.x,z=G.inverseOrder,t=G.tickPositions;if(E||v){var y=F._labelDim(),C=y[0],B=y[1],A=cq[G.chart.guid].plotLeft,u=A+G.len,H=G.ticks[t[s+(E?1:-1)]],x=H&&H.label.xy&&H.label.xy.x+H._labelDim()[E?0:1];E&&!z||v&&z?A>I+C&&(I=A-C,H&&I+B>x&&(D=!1)):I+B>u&&(I=u-B,H&&x>I+C&&(D=!1)),w.x=I}return D},_position:function(n,m,l,p){var j=this.axis,o=cq[j.chart.guid],k=p&&o.oldChartHeight||o.chartHeight;return{x:n?j.translate(m+l,null,null,p)+j.transB:j.left+j.offset+(j.swapLocation?(p&&o.oldChartWidth||o.chartWidth)-j.right-j.left:0),y:n?k-j.bottom+j.offset-(j.swapLocation?j.height:0):k-j.translate(m+l,null,null,p)-j.transB}},_labelPos:function(v,x,s,r,u,w,d,n){var t=this.axis,o=t.transA,q=t.inverseOrder,p=t.staggerLinesINTERNAL;return v=v+u.x-(w&&r?w*o*(q?-1:1):0),x=x+u.y-(w&&!r?w*o*(q?1:-1):0),cn(u.y)||(x+=0.9*b7(s.styles.lineHeight)-s.getBBox().height/2),p&&(x+=d/(n||1)%p*16),{x:v,y:x}},_markPath:function(h,g,m,k,l,j){return j.crispLine([bW,h,g,bZ,h+(l?0:-m),g+(l?m:0)],k)},render:function(O,S){var bb,K,W,dD=this,db=dD.axis,dc=db.options,Q=cq[db.chart.guid].renderer,Y=db.horiz,cb=dD.type,cc=dD.label,P=dD.pos,M=dc.axisTickText,ac=dD.gridLine,aa=cb?cb+"Plot":"plot",ba=cb?cb+"Ticks":"ticks",ab=dc[aa+"StripWidth"],L=dc[aa+"StripColor"],R=dc[aa+"StripDashStyle"],da=dc[ba+"Height"],e=dc[ba+"Width"]||0,N=dc[ba+"Color"],U=dc[ba+"Placement"],V=dD.mark,X=M.step,T=!0,b=db.tickmarkOffset,bc=dD._position(Y,P,b,S),Z=bc.x,ca=bc.y,J=db.staggerLinesINTERNAL;db.isXAxis&&null!=dc.axisTickText.y&&db.inverseOrder&&(dc.axisTickText.y=null),ab&&(bb=db._linePath(P+b,ab,S),ac===cm&&(W={stroke:L,"stroke-width":ab},R&&(W.dashstyle=R),cb||(W.zIndex=1),dD.gridLine=ac=ab?Q.path(bb).attr(W).add(db.gridGroup):null),!S&&ac&&bb&&ac[dD.isNew?"attr":"animate"]({d:bb})),e&&da&&("inside"===U&&(da=-da),db.swapLocation&&(da=-da),"through"===U&&dD.axis.isXAxis&&(dD.axis.inverseOrder?Z+=da:ca=ca-da+1,da+=da),K=dD._markPath(Z,ca,da,e,Y,Q),V?V.animate({d:K}):dD.mark=Q.path(K).attr({stroke:N,"stroke-width":e}).add(db.axisGroup)),!cc||isNaN(Z)||isNaN(ca)||(cc.xy=bc=dD._labelPos(Z,ca,cc,Y,M,b,O,X),dD.isFirst&&!cp(dc.firstTickTextVisible,1)||dD.isLast&&!cp(dc.lastTickTextVisible,1)?T=!1:!J&&Y&&M.repositionClippedText&&!dD._overflow(O,bc)&&(T=!1),X&&O%X&&(T=!1),T?(cc[dD.isNew?"attr":"animate"](bc),cc.show(),dD.isNew=!1):cc.hide())},destroy:function(){var b=this;b._destroyed||(aI(b,b.axis),b._destroyed=!0)}},bR.prototype={render:function(){var b,d,H,l,D,F,S,U=this,W=U.axis,M=W.horiz,K=(W.pointRange||0)/2,X=U.options,V=X.label,O=U.label,I=X.drawWidth,Q=X.start,P=X.end,R=cn(Q)&&cn(P),L=X.seriesDashStyle,T=U.svgElem,Y=[],N=X.drawColor,h=X.zIndex,J=X.events,G=cq[W.chart.guid].renderer;if(W.isLog&&(Q=dd(Q),P=dd(P)),I){Y=W._linePath(Q,I),S={stroke:N,"stroke-width":I},L&&(S.dashstyle=L)}else{if(!R){return}Q=b9(Q,W.min-K),P=cZ(P,W.max+K),Y=W._bandPath(Q,P,X),S={fill:N},X.borderWidth&&(S.stroke=X.borderColor,S["stroke-width"]=X.borderWidth)}if(cn(h)&&(S.zIndex=h),T){Y?T.animate({d:Y},null,T.onGetPath):(T.hide(),T.onGetPath=function(){T.show()})}else{if(Y&&Y.length&&(U.svgElem=T=G.path(Y).attr(S).add(),J)){b=function(c){T.on(c,function(e){J[c].apply(U,[e])})};for(d in J){J.hasOwnProperty(d)&&b(d)}}}return V&&cn(V.text)&&Y&&Y.length&&W.width>0&&W.height>0?(V=cg({align:M&&R&&"center",x:M?!R&&4:10,verticalAlign:!M&&R&&"middle",y:M?R?16:10:R?6:-4,textAngle:M&&!R&&90},V),O||(U.label=O=G.text(V.text,0,0).attr({align:V.textAlignINTERNAL||V.align,textAngle:V.textAngle,zIndex:h}).css(V.style).add()),H=[Y[1],Y[4],cp(Y[6],Y[1])],l=[Y[2],Y[5],cp(Y[7],Y[2])],D=aA(H),F=aA(l),O.align(V,!1,{x:D,y:F,width:bi(H)-D,height:bi(l)-F}),O.show()):O&&O.hide(),U},destroy:function(){if(!this._destroyed){var d=this,c=d.axis;aT(c.plotLinesAndBands,d),aI(d,this.axis),d._destroyed=!0}}},cS.prototype={destroy:function(){this._destroyed||(aI(this,this.axis),this._destroyed=!0)},_total:function(b){this.total=b,this.cum=b},render:function(f){var e=this,g=e.options.labelFormatFunction.call(e);e.label?e.label.attr({text:g,visibility:bS}):e.label=cq[e.axis.chart.guid].renderer.text(g,0,0).css(e.options.style).attr({align:e.textAlignINTERNAL,textAngle:e.options.textAngle,visibility:bS}).add(f)},_offset:function(r,y){var B,G=this,A=G.axis,v=A.chart,z=cq[v.guid],D=z.isInverted,w=G.isNegative,F=A.translate(G.percent?100:G.total,0,0,0,1),t=A.translate(0),C=cL(F-t),u=z.axisX[0].translate(G.x)+r,x=z.plotHeight,s={x:D?w?F:F-C:u,y:D?x-u-y:w?x-F-C:x-F,width:D?C:y,height:D?y:C},E=G.label;E&&(E.align(G.alignOptions,null,s),B=E.alignAttr,E.attr({visibility:G.options.hideInvisible===!1||cF(v,B.x,B.y)?cJ?"inherit":c1:bS}))}};var bB={defaults:{axisDateFormat:{MILLISECOND:"HH:mm:ss.fff",SECOND:"HH:mm:ss",MINUTE:"HH:mm",HOUR:"HH",DAY:"d MMM",WEEK:"d MMM",MONTH:"MMM 'yy",YEAR:"yyyy"},fixedEnd:!1,plotStripColor:"#C0C0C0",axisTickText:aS,drawColor:"#7E7E7E",drawWidth:1,minPaddingINTERNAL:0.0001,maxPaddingINTERNAL:0.0001,endOffset:0.01,zoomMin:null,minorPlotStripColor:"#E0E0E0",minorPlotStripWidth:1,minorTicksColor:"#A0A0A0",minorTicksHeight:12,minorTicksPlacementINTERNAL:"outside",startOfWeekINTERNAL:1,tickOnBeginning:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacementlINTERNAL:"between",tickPixelIntervalINTERNAL:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",margin:12,style:{color:"#404040",fontWeight:"normal",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"}},axisType:"linear"},y:{fixedEnd:!0,plotStripWidth:1,tickPixelIntervalINTERNAL:80,lastTickTextVisible:!0,axisTickText:{align:"right",x:-8,y:3},drawWidth:0,endOffset:0.05,startOffset:0.05,tickOnBeginning:!0,tickWidth:0,title:{textAngle:270,text:null},stackTextSettings:{enabled:!1,labelFormatFunction:function(){return this.total},style:aS.style}},left:{axisTickText:{align:"right",x:-8,y:null},title:{textAngle:270}},right:{axisTickText:{align:"left",x:8,y:null},title:{textAngle:90}},bottom:{axisTickText:{align:"center",x:0,y:14},title:{textAngle:0}},top:{axisTickText:{align:"center",x:0,y:-5},title:{textAngle:0}}};bF.prototype={init:function(o,r){var s=r.isX,u=this,q=cq[o.guid];u.horiz=q.isInverted?!s:s,u.isXAxis=s,u.xOrY=s?"x":"y",u.swapLocation=r.swapLocation,u.side=u.horiz?u.swapLocation?0:2:u.swapLocation?1:3,u.setOptions(r,o);var t=this.options,e=t.axisType,d="datetime"===e;u.staggerLinesINTERNAL=u.horiz&&t.axisTickText.staggerLinesINTERNAL,u.userOptions=r,u.minPixelPadding=0,u.chart=o,u.inverseOrder=t.inverseOrder,u.categoricalValues=t.categoricalValues,u.isLog="logarithmic"===e,u.isLinked=cn(t.linkedToINTERNAL),u.isDatetimeAxis=d,u.tickmarkOffset=t.categoricalValues&&"between"===t.tickmarkPlacementlINTERNAL?0.5:0,u.ticks={},u.minorTicks={},u.plotLinesAndBands=[],u.alternateBands={},u.len=0,u.zoomMin=u.customZoomMin=t.zoomMin,u.range=t.range,u.offset=t.offset||0,u.stacks={},u.max=null,u.min=null;var p,n=u.options.events;q.axes.push(u),q[s?"axisX":"axisY"].push(u),u.dataSeries=[],q.isInverted&&s&&u.inverseOrder===cm&&(u.inverseOrder=!0);for(p in n){n.hasOwnProperty(p)&&cV(u,p,n[p])}u.isLog&&(u.val2lin=dd,u.lin2val=cH)},setOptions:function(d,c){this.options=cg(bB.defaults,this.isXAxis?{}:bB.y,[bB.top,bB.right,bB.bottom,bB.left][this.side],cg(dm[this.isXAxis?"axisX":"axisY"],d))},translate:function(A,r,o,t,p,q){var y,B=this,w=B.len,x=1,v=0,z=t?B.oldTransA:B.transA,s=t?B.oldMin:B.min,u=B.options.ordinal||B.isLog&&p;return z||(z=B.transA),o&&(x*=-1,v=w),B.inverseOrder&&(x*=-1,v-=x*w),r?(B.inverseOrder&&(A=w-A),y=A/z+s,u&&(y=B.lin2val(y))):(u&&(A=B.val2lin(A)),y=x*(A-s)*z+v+x*B.minPixelPadding+(q?z*B.pointRange/2:0)),y},_linePath:function(g,t,B){var F,E,z,w,C,G=this,D=cq[G.chart.guid],y=G.left,x=G.top,A=G.translate(g,null,null,B),u=B&&D.oldChartHeight||D.chartHeight,s=B&&D.oldChartWidth||D.chartWidth,v=G.transB;return F=z=cj(A+v),E=w=cj(u-A-v),isNaN(A)?C=!0:G.horiz?(E=x,w=u-G.bottom,(y>F||F>y+G.width)&&(C=!0)):(F=y,z=s-G.right,(x>E||E>x+G.height)&&(C=!0)),C?null:D.renderer.crispLine([bW,F,E,bZ,z,w],t||0)},_bandPath:function(h,g){var f=this._linePath(g),e=this._linePath(h);return e&&f?e.push(f[4],f[5],f[1],f[2]):e=null,e},_arrange:function(){var o,d=this,k=d.max-d.min,n=0,c=0,p=0,m=d.linkedParent,l=d.transA;d.isXAxis&&(m?(c=m.minPointOffset,p=m.pointRangePadding):co(d.dataSeries,function(b){var g=b.pointRange,e=b.options.positioningMethod,f=b.closestPointRange;n=b9(n,g),c=b9(c,e?0:g/2),p=b9(p,"on"===e?0:g),!b.noSharedTooltip&&cn(f)&&(o=cn(o)?cZ(o,f):f)}),d.minPointOffset=c,d.pointRangePadding=p,d.pointRange=n,d.closestPointRange=o),d.oldTransA=l,d.translationSlope=d.transA=l=d.len/(k+p||1),d.transB=d.horiz?d.left:d.bottom,d.minPixelPadding=l*c},_ticks:function(N){var E,K,P,Q,S=this,F=cq[S.chart.guid],R=S.options,L=S.isLog,e=S.isDatetimeAxis,G=S.isXAxis,O=S.isLinked,D=S.options.tickPositionerlINTERNAL,m=R.endOffset,I=R.startOffset,M=R.ticksRepeat,d=R.minTickInterval,c=R.tickPixelIntervalINTERNAL,b=S.categoricalValues;if(O){if(S.linkedParent=F[G?"axisX":"axisY"][R.linkedToINTERNAL],P=bg.call(S.linkedParent),S.min=cp(P.min,P.dataMin),S.max=cp(P.max,P.dataMax),R.type!==S.linkedParent.options.axisType){return void bQ("Axis and parent axis have different type",1)}}else{S.min=cp(S.userMin,R.min,S.dataMin),S.max=cp(S.userMax,R.max,S.dataMax)}if(L){if(!N&&cZ(S.min,cp(S.dataMin,S.min))<=0){return void bQ("Negative values not supported for this axis type",1)}S.min=cB(dd(S.min)),S.max=cB(dd(S.max))}if(S.range&&(S.userMin=S.min=b9(S.min,S.max-S.range),S.userMax=S.max,N&&(S.range=null)),dC.call(S),b||S.usePercentage||O||!cn(S.min)||!cn(S.max)||(K=S.max-S.min||1,cn(R.min)||cn(S.userMin)||!I||!(S.dataMin<0)&&S.ignoreMinPadding||(S.min-=K*I),cn(R.max)||cn(S.userMax)||!m||!(S.dataMax>0)&&S.ignoreMaxPadding||(S.max+=K*m)),S.min===S.max||S.min===cm||S.max===cm?S.ticksRepeat=1:O&&!M&&c===S.linkedParent.options.tickPixelIntervalINTERNAL?S.ticksRepeat=S.linkedParent.ticksRepeat:S.ticksRepeat=cp(M,b?1:(S.max-S.min)*c/(S.len||1)),G&&!N&&co(S.dataSeries,function(f){f.processData(S.min!==S.oldMin||S.max!==S.oldMax)}),S._arrange(N),S._preTicks&&S._preTicks(),!M&&S.ticksRepeat<d&&(S.ticksRepeat=d),e||L||(E=b8.pow(10,cO(b8.log(S.ticksRepeat)/b8.LN10)),M||(S.ticksRepeat=a9(S.ticksRepeat,null,E,R))),S.minorTicksRepeat="auto"===R.minorTicksRepeat&&S.ticksRepeat?S.ticksRepeat/5:R.minorTicksRepeat,S.tickPositions=Q=R.tickPositions||D&&D.apply(S,[S.min,S.max]),Q||(Q=e?c5(bC(S.ticksRepeat,R.units),S.min,S.max,R.startOfWeekINTERNAL,S.ordinalPositions,S.closestPointRange,!0):L?c3.call(S,S.ticksRepeat,S.min,S.max):cU.call(S,S.ticksRepeat,S.min,S.max),S.tickPositions=Q),!O){var J=Q[0],H=Q[Q.length-1],l=S.minPointOffset||0;R.tickOnBeginning?S.min=J:S.min-l>J&&Q.shift(),R.fixedEnd?S.max=H:S.max+l<H&&Q.pop()}},_updateTicks:function(){var d=this,l=d.xOrY,o=d.tickPositions,m=cq[d.chart.guid].maxTicks;if(m&&m[l]&&!d.isDatetimeAxis&&!d.categoricalValues&&!d.isLinked&&d.options.matchTicks!==!1){var n,k=d.tickAmount,j=o.length;if(d.tickAmount=n=m[l],n>j){for(;o.length<n;){o.push(cB(o[o.length-1]+d.ticksRepeat))}d.transA*=(j-1)/(n-1),d.max=o[o.length-1]}cn(k)&&n!==k&&(d.isDirty=!0)}},_scale:function(){var c,l,j,k,h=this,m=h.stacks;if(h.oldMin=h.min,h.oldMax=h.max,h.oldAxisLength=h.len,h._dimensions(),k=h.len!==h.oldAxisLength,co(h.dataSeries,function(b){(b.isDirtyData||b.isDirty||b.axisX.isDirty)&&(j=!0)}),(k||j||h.isLinked||h.userMin!==h.oldUserMin||h.userMax!==h.oldUserMax)&&(aR.call(h),h._ticks(),h.oldUserMin=h.userMin,h.oldUserMax=h.userMax,h.isDirty||(h.isDirty=k||h.min!==h.oldMin||h.max!==h.oldMax)),!h.isXAxis){for(c in m){if(m.hasOwnProperty(c)){for(l in m[c]){m[c].hasOwnProperty(l)&&(m[c][l].cum=m[c][l].total)}}}}bI.call(h)},_zoom:function(d,c){return b2.call(this,d,c,!1,cm,{trigger:"zoom"}),!0},_dimensions:function(){var l=this,k=cq[l.chart.guid],j=l.options,h=j.offsetLeft||0,b=j.offsetRight||0;l.left=cp(j.left,k.plotLeft+h),l.top=cp(j.top,k.plotTop),l.width=cp(j.width,k.plotWidth-h+b),l.height=cp(j.height,k.plotHeight),l.bottom=k.chartHeight-l.height-l.top,l.right=k.chartWidth-l.width-l.left,l.len=b9(l.horiz?l.width:l.height,0)},_offset:function(){var A,D,b,G,M=this,c=cq[M.chart.guid],F=c.renderer,I=M.options,E=M.tickPositions,K=M.ticks,C=M.horiz,J=M.side,l=0,y=0,L=I.title,d=I.axisTickText,H=0,B=c.axisOffset,z=[-1,1,1,-1][J];if(M.hasData=A=M.hasVisibleSeries||cn(M.min)&&cn(M.max)&&!!E,M.showAxis=D=A||cp(I.showEmpty,!0),M.axisGroup||(M.gridGroup=F.g().attr({zIndex:I.gridZIndex||1}).add(),M.axisGroup=F.g().attr({zIndex:I.zIndex||2}).add(),M.labelGroup=F.g().attr({zIndex:d.zIndex||7}).add()),A||M.isLinked){co(E,function(e){K[e]?K[e]._label():K[e]=new aL(M,e)}),co(E,function(e){(0===J||2===J||{1:"left",3:"right"}[J]===d.align)&&(H=b9(K[e]._labelSize(),H))}),M.staggerLinesINTERNAL&&(H+=16*(M.staggerLinesINTERNAL-1))}else{for(G in K){K.hasOwnProperty(G)&&(K[G].destroy(),delete K[G])}}L&&L.text&&(M.axisTitle||(M.axisTitle=F.text(L.text,0,0,L.htmlOutput).attr({zIndex:7,textAngle:L.textAngle||0,align:L.textAlignINTERNAL||{low:"left",middle:"center",high:"right"}[L.align]}).css(L.style).add(M.axisGroup),M.axisTitle.isNew=!0),D&&(l=M.axisTitle.getBBox()[C?"height":"width"],y=cp(L.margin,C?5:10),b=L.offset),M.axisTitle[D?"show":"hide"]()),M.offset=z*cp(I.offset,B[J]),M.axisTitleMargin=cp(b,H+y+(2!==J&&H&&z*I.axisTickText[C?"y":"x"])),B[J]=b9(B[J],M.axisTitleMargin+l+z*M.offset)},_path:function(k){var j=this,q=cq[j.chart.guid],n=j.swapLocation,m=j.offset,p=j.horiz,l=j.left+(n?j.width:0)+m,o=q.chartHeight-j.bottom-(n?j.height:0)+m;return this.lineTop=o,q.renderer.crispLine([bW,p?j.left:l,p?o:j.top,bZ,p?q.chartWidth-j.right:l,p?o:q.chartHeight-j.bottom],k)},_titlePos:function(){var v=this.horiz,q=this.left,p=this.top,s=this.len,u=this.options.title,r=v?q:p,t=this.swapLocation,o=this.offset,l=b7(u.style.fontSize||12),n={low:r+(v?0:s),middle:r+s/2,high:r+(v?s:0)}[u.align],m=(v?p+this.height:q)+(v?1:-1)*(t?-1:1)*this.axisTitleMargin+(2===this.side?l:0);return{x:v?n:m+(t?this.width:0)+o+(u.x||0),y:v?m-(t?this.height:0)+o:n+(u.y||0)}},render:function(){var T,N,M,bb=this,L=bb.chart,V=cq[L.guid],d=V.renderer,aa=bb.options,e=bb.isLog,B=bb.isLinked,Z=bb.tickPositions,W=bb.axisTitle,R=bb.stacks,ac=bb.ticks,ba=bb.minorTicks,ab=bb.alternateBands,O=aa.stackTextSettings,I=aa.colorStripe,S=bb.tickmarkOffset,U=aa.drawWidth,K=V.hasRendered,c=K&&cn(bb.oldMin)&&!isNaN(bb.oldMin),H=bb.hasData,Q=bb.showAxis;if((H||B)&&(bb.minorTicksRepeat&&!bb.categoricalValues&&co(cv.call(bb),function(b){ba[b]||(ba[b]=new aL(bb,b,"minor")),c&&ba[b].isNew&&ba[b].render(null,!0),ba[b].isActive=!0,ba[b].render()}),co(Z.slice(1).concat([Z[0]]),function(b,f){f=f===Z.length-1?0:f+1,(!B||b>=bb.min&&b<=bb.max)&&(ac[b]||(ac[b]=new aL(bb,b)),c&&ac[b].isNew&&ac[b].render(f,!0),ac[b].isActive=!0,ac[b].render(f))}),I&&co(Z,function(b,f){f%2===0&&b<bb.max&&(ab[b]||(ab[b]=new bR(bb)),N=b+S,M=Z[f+1]!==cm?Z[f+1]+S:bb.max,ab[b].options={from:e?cH(N):N,to:e?cH(M):M,color:I},ab[b].render(),ab[b].isActive=!0)}),bb._addedPlotLB||(co((aa.plotLines||[]).concat(aa.plotBands||[]),function(b){aM.call(bb,b)}),bb._addedPlotLB=!0)),co([ac,ba,ab],function(g){var f;for(f in g){g.hasOwnProperty(f)&&(g[f].isActive?g[f].isActive=!1:(g[f].destroy(),delete g[f]))}}),U&&(T=bb._path(U),bb.axisLine?bb.axisLine.animate({d:T}):bb.axisLine=d.path(T).attr({stroke:aa.drawColor,"stroke-width":U,zIndex:7}).add(bb.axisGroup),bb.axisLine[Q?"show":"hide"]()),W&&Q&&(W[W.isNew?"attr":"animate"](bb._titlePos()),W.isNew=!1),O&&O.enabled){var J,X,P,Y=bb.stackTotalGroup;Y||(bb.stackTotalGroup=Y=d.g().attr({visibility:c1,zIndex:6}).add()),Y.translate(V.plotLeft,V.plotTop);for(J in R){if(R.hasOwnProperty(J)){X=R[J];for(P in X){X.hasOwnProperty(P)&&X[P].render(Y)}}}}bb.isDirty=!1},_title:function(k,j){var b=this,h=b.chart,m=b.options,l=b.axisTitle;m.title=cg(m.title,k),b.axisTitle=l&&l.destroy(),b.isDirty=!0,cp(j,!0)&&h.redraw()},redraw:function(){var c=this,e=cq[c.chart.guid].tracker;e._reset&&e._reset(!0),c.render(),co(c.plotLinesAndBands,function(b){b.render()}),co(c.dataSeries,function(b){b.isDirty=!0})},_points:function(f,c){var b=this;b.categoricalValues=b.userOptions.categoricalValues=f,co(b.dataSeries,function(d){d.translate(),d.setTooltipPoints(!0)}),b.isDirty=!0,cp(c,!0)&&b.chart.redraw()},destroy:function(){if(!this._destroyed){var c,k,j,g=this,h=g.stacks;cQ(g);for(c in h){h.hasOwnProperty(c)&&(aI(h[c]),h[c]=null)}co([g.ticks,g.minorTicks,g.alternateBands,g.plotLinesAndBands],function(b){aI(b)});for(k in g){g.hasOwnProperty(k)&&(j=g[k],(j instanceof cs||aD&&j instanceof aD)&&(g[k]=j.destroy()))}g._destroyed=!0}}},du.prototype={destroy:function(){this._destroyed||(co(this.axisMarkers,function(b){b&&b.destroy()}),this._destroyed=!0)},move:function(f,e,h,g){this.labelElement.css({top:e,left:f})},hide:function(){var c=this,g=cq[c.chart.guid];if(!c.isHidden){var f=g.hoverPoints;c.labelElement.hide(),f&&co(f,function(b){b.setState()}),g.hoverPoints=null,c.isHidden=!0}},getPosition:function(b,v,l){var A,C=this,G=cq[v.guid],D=G.plotLeft,J=G.plotTop,x=G.plotWidth,w=G.plotHeight,H=cp(this.options.distance,12),z=cG.call(C,b,l),y=z[0],E=z[1],B=C.labelElement.width(),F=C.labelElement.height(),I=y+D+(G.isInverted?H:-B-H),K=E-F+J+15;return 7>I&&(I=D+b9(y,0)+H),I+B>D+x&&(I-=I+B-(D+x),K=E-F+J-H,A=!0),J+5>K&&(K=J+5,A&&E>=K&&K+F>=E&&(K=E+J+H)),K+F>J+w&&(K=b9(J,J+w-F-H)),{x:I,y:K}},refresh:function(W,c){var O,H,M,K,L,N,I,B,V=this,P=V.chart,J=V.labelElement,S=V.options,o=function(x,v){var u=this,p=[];x=bd(x);var t,r,w,m="",q=x[0].dataSeries.axisX,l="f";if(q&&"datetime"===q.options.axisType&&aj(x[0].pointName)){for(t in b0){if(b0.hasOwnProperty(t)&&b0[t]>=q.closestPointRange){l=q.options.axisDateFormat[t];break}}m=b6.format("{0:"+l+"}",new Date(x[0].pointName))}else{r=x[0].dataSeries.tooltipSettings&&x[0].dataSeries.tooltipSettings.customHeaderText||u.options.customHeaderText,m=cE(r)?b6.format(r,{point:x[0],chart:v}):r.call(null,x,v)}return p+='<div class="shield-tooltip-header">'+m+"</div>",w=x[0].dataSeries.tooltipSettings&&x[0].dataSeries.tooltipSettings.customPointText||u.options.customPointText,"rangebar"===x[0].dataSeries.seriesType&&"<span>{point.dataSeries.collectionAlias}</span>: {point.y}"!=u.options.customPointText&&(w=u.options.customPointText),co(x,function(d){aJ=d.dataSeries,p+='<div class="shield-tooltip-value">'+(cE(w)?b6.format(w,{point:d,chart:v}):w.call(null,d,v))+"</div>"}),p},T=cq[P.guid],g=T.hoverPoints,U=S.axisMarkers,b=V.chartBound;if(S.format&&(o=cE(S.format)?function(e,d){return b6.format(S.format,{point:e,chart:d})}:S.format),K=cG.call(V,W,c),O=K[0],H=K[1],!b||W.dataSeries&&W.dataSeries.noSharedTooltip?I=W.dataSeries.color:(T.hoverPoints=W,g&&co(g,function(d){d.setState()}),co(W,function(d){d.setState(cK)})),L=o.call(V,W,P),dt(W)&&(W=W[0]),B=W.dataSeries,M=b||!B.isCartesian||B.tooltipOutsidePlot||cF(P,O,H),L!==!1&&M?(V.isHidden&&J.show(),J.html(L),N=(S.position||V.getPosition).call(V,W,P,c),V.move(cj(N.x),cj(N.y),O+T.plotLeft,H+T.plotTop),V.isHidden=!1):this.hide(),U&&U.enabled){var R,Q,G=/x/i.test(U.mode),s=/y/i.test(U.mode),n={"stroke-width":b7(U.width),stroke:U.color,zIndex:b7(U.zIndex)};G&&(Q=W.dataSeries.axisX,Q&&(R=Q._linePath(W.x,1),V.axisMarkers[0]?V.axisMarkers[0].attr({d:R,visibility:c1}):V.axisMarkers[0]=T.renderer.path(R).attr(n).add())),s&&(Q=W.dataSeries.axisY,Q&&(R=Q._linePath(cp(W.stackY,W.y),1),V.axisMarkers[1]?V.axisMarkers[1].attr({d:R,visibility:c1}):V.axisMarkers[1]=T.renderer.path(R).attr(n).add()))}}},aN.prototype={_normalize:function(e){var k,j,g,l;return e=e||cX.event,e.target||(e.target=e.srcElement),l=e.touches?e.touches.item(0):e,this.chartPosition=k=cr(cq[this.chart.guid].container),l.pageX===cm?(j=e.x,g=e.y):(j=l.pageX-k.left,g=l.pageY-k.top),cf(e,{chartX:cj(j),chartY:cj(g)})},_coord:function(g){var f={axisX:[],axisY:[]},c=cq[this.chart.guid];return co(c.axes,function(b){var e=b.isXAxis,d=c.isInverted?!e:e;f[e?"axisX":"axisY"].push({axis:b,value:b.translate((d?g.chartX-c.plotLeft:b.top+b.len-g.chartY)-b.minPixelPadding,!0)})}),f},_index:function(e){var d=cq[this.chart.guid];return d.isInverted?d.plotHeight+d.plotTop-e.chartY:e.chartX-d.plotLeft},_move:function(v){var A,C,x,B,w=this,p=w.chart,z=cq[p.guid],y=z.dataSeries,s=z.tooltip,q=z.hoverPoint,r=z.hoverSeries,u=z.chartWidth,t=w._index(v);if(s&&w.options.tooltipSettings.chartBound&&(!r||!r.noSharedTooltip)){for(C=[],x=y.length,B=0;x>B;B++){y[B].visible&&y[B].options.mouseInteractions!==!1&&!y[B].noSharedTooltip&&y[B].tooltipPoints.length&&(A=y[B].tooltipPoints[t],A._dist=cL(t-A[y[B].axisX.tooltipPosName||"plotX"]),u=cZ(u,A._dist),C.push(A))}for(x=C.length;x--;){C[x]._dist>u&&C.splice(x,1)}C.length&&C[0].plotX!==w.hoverX&&(s.refresh(C,v),w.hoverX=C[0].plotX)}z.cachedHoverSeries&&z.cachedHoverSeries.tracker&&(A=z.cachedHoverSeries.tooltipPoints[t],A&&A!==q&&A._mouseOver(v))},_reset:function(q){var m=this,k=m.chart,p=cq[k.guid],l=p.hoverSeries,o=p.hoverPoint,e=p.tooltip,n=e&&e.chartBound?p.hoverPoints:o;q=q&&e&&n,q&&bd(n)[0].plotX===cm&&(q=!1),q?e.refresh(n):(o&&o._mouseOut(),l&&l._mouseOut(),e&&(e.hide(),br.call(e)),m.hoverX=null)},_events:function(){function m(){q&&(bV(p,{cursor:"auto"}),c.cancelClick=o,c.mouseIsDown=o=!1),c.container.style.cursor="default",cQ(b5,cC?"touchend":"mouseup",m)}var o,l=!0,r=this,q=r.chart,c=cq[q.guid],p=c.container;r.hideTooltipOnMouseMove=function(b){r.chartPosition&&c.hoverSeries&&c.hoverSeries.isCartesian&&!cF(q,b.pageX-r.chartPosition.left-c.plotLeft,b.pageY-r.chartPosition.top-c.plotTop)&&r._reset()},r.hideTooltipOnMouseLeave=function(b){r.chartPosition&&!cF(q,b.pageX-r.chartPosition.left-c.plotLeft,b.pageY-r.chartPosition.top-c.plotTop)&&(r._reset(),r.chartPosition=null)},p.onmousedown=function(b){b=r._normalize(b),!cC&&b.preventDefault&&b.preventDefault(),c.mouseIsDown=!0,c.cancelClick=!1,c.mouseDownX=r.mouseDownX=b.chartX,r.mouseDownY=b.chartY,c.isZoomed&&(c.container.style.cursor="move"),cV(b5,cC?"touchend":"mouseup",m)};var n=function(b){if(!(b&&b.touches&&b.touches.length>1)){b=r._normalize(b),cC||(b.returnValue=!1);var g=b.chartX,e=b.chartY,d=!cF(q,g-c.plotLeft,e-c.plotTop);if(cC&&b.type===a4&&(b3(b.target,"isTracker")?c.runTrackerClick||b.preventDefault():q.events.click||d||b.preventDefault()),d&&(g<c.plotLeft?g=c.plotLeft:g>c.plotLeft+c.plotWidth&&(g=c.plotLeft+c.plotWidth),e<c.plotTop?e=c.plotTop:e>c.plotTop+c.plotHeight&&(e=c.plotTop+c.plotHeight)),c.mouseIsDown&&b.type!==a4&&(o=b8.sqrt(b8.pow(r.mouseDownX-g,2)+b8.pow(r.mouseDownY-e,2)),o>10)){cF(q,r.mouseDownX-c.plotLeft,r.mouseDownY-c.plotTop);c.isZoomed&&(q._viewport(r.mouseDownX-g,e-r.mouseDownY),r.mouseDownX=g,r.mouseDownY=e)}return d||r._move(b),l=d,d||!c.hasCartesianSeries}};p.onmousemove=n,cV(p,ad,r.hideTooltipOnMouseLeave),cV(b5,aV,r.hideTooltipOnMouseMove),p.ontouchstart=function(b){(r.zoomX||r.zoomY)&&p.onmousedown(b),n(b)},p.ontouchmove=n,p.ontouchend=function(){o&&r._reset()},p.onclick=function(b){var e,d,h=c.hoverPoint;b=r._normalize(b),b.cancelBubble=!0,c.cancelClick||(h&&(b3(b.target,"isTracker")||b3(b.target.parentNode,"isTracker"))?(e=h.plotX,d=h.plotY,cf(h,{pageX:r.chartPosition.left+c.plotLeft+(c.isInverted?c.plotWidth-d:e),pageY:r.chartPosition.top+c.plotTop+(c.isInverted?c.plotHeight-e:d)}),h.trigger("seriesClick",b)):(cf(b,r._coord(b)),cF(q,b.chartX-c.plotLeft,b.chartY-c.plotTop)&&q.trigger(dB,b)))},cV(p,"mousewheel",function(v,t,b,w){v=r._normalize(v),cf(v,r._coord(v)),t=t>0?1:-1;var s,d={axisX:[],axisY:[]},e=0;if(co(c.axes,function(A){var h=A.isXAxis;if(c.tracker[h?"zoomX":"zoomY"]){var y,k,x=c.isInverted?!h:h,z=A.dataMax/5;if(t>0){var f=A.translate((x?v.chartX-c.plotLeft:A.top+A.len-v.chartY)-A.minPixelPadding,!0),j=A.max-A.min-z;f-j/2<A.dataMin?(y=A.dataMin,k=A.dataMin+j):f+j/2>A.dataMax?(y=A.dataMax-j,k=A.dataMax):(y=f-j/2,k=f+j/2),y<A.dataMin&&(y=A.dataMin,k=A.dataMin+j)}else{y=b9(A.dataMin,A.min-z/2),k=cZ(A.dataMax,A.max+z/2),y<=A.dataMin&&k>=A.dataMax&&e++}if(y>k){return void d[h?"axisX":"axisY"].push({axis:A,min:y,max:k})}isNaN(y)||isNaN(k)||(d[h?"axisX":"axisY"].push({axis:A,min:cZ(y,k),max:b9(y,k)}),s=!0)}}),s){var u={axisX:[],axisY:[]};return u.axisX=d.axisX,u.axisY=d.axisY,d.axisX[0].min>=d.axisX[0].max&&(u.axisX=[],d.axisX[0].min=cZ(d.axisX[0].min,d.axisX[0].max),d.axisX[0].max=b9(d.axisX[0].min,d.axisX[0].max)),d.axisY[0].min>=d.axisY[0].max&&(u.axisY=[],d.axisY[0].min=cZ(d.axisY[0].min,d.axisY[0].max),d.axisY[0].max=b9(d.axisY[0].min,d.axisY[0].max)),dl(q,"zoom",d,function(f){q._zoom(u)}),e==c.axes.length?c.isZoomed=!1:c.isZoomed=!0,v.stopPropagation(),v.returnValue=!1,!1}})},destroy:function(){if(!this._destroyed){var j=this,g=j.chart,h=cq[g.guid],f=h.container;h.trackerGroup&&(h.trackerGroup=h.trackerGroup.destroy()),cQ(f,ad,j.hideTooltipOnMouseLeave),cQ(b5,aV,j.hideTooltipOnMouseMove),f.onclick=f.onmousedown=f.onmousemove=f.ontouchstart=f.ontouchend=f.ontouchmove=null,j._destroyed=!0}},init:function(g,f){var e=cq[g.guid];e.trackerGroup||(e.trackerGroup=e.renderer.g().attr({zIndex:9}).add()),f.enabled&&(e.tooltip=new du(g,f)),this._events()}},at.prototype={init:function(j){var b=this,m=b.options=j.options.chartLegend;if(m.enabled){var l=m.legendItemSettings.elementStyle,k=cp(m.padding,8),h=m.legendItemSettings.topSpacing||0;b.baseline=b7(l.fontSize)+3+h,b.elementStyle=l,b.disabledStyle=cg(l,m.legendItemSettings.disabledStyle),b.topSpacing=h,b.padding=k,b.initialItemX=k,b.initialItemY=k-5,b.maxelementWidth=0,b.chart=j,b.itemHeight=0,b.lastLineHeight=0,b.render()}},destroy:function(){if(!this._destroyed){var e=this,d=e.group,f=e.box;f&&(e.box=f.destroy()),d&&(e.group=d.destroy()),e._destroyed=!0}},render:function(){var C,u,y,B,D=this,c=D.chart,v=cq[c.guid],x=v.renderer,w=D.group,z=D.box,A=D.options,s=D.padding,t=A.borderWidth,r=A.backgroundColor;D.itemX=D.initialItemX,D.itemY=D.initialItemY,D.offsetWidth=0,D.lastItemY=0,w||(D.group=w=x.g().attr({zIndex:7}).add(),D.contentGroup=x.g().attr({zIndex:1}).add(w),D.scrollGroup=x.g().add(D.contentGroup),D.clipRect=x.clipRect(0,0,9999,v.chartHeight),D.contentGroup.clip(D.clipRect)),C=[],co(v.dataSeries,function(e){var d=e.options;d.addToLegend&&(C=C.concat(e.legendItems||(d.legendType===c9?e.data:e)))}),ch(C,function(e,d){return(e.options&&e.options.orderIndex||0)-(d.options&&d.options.orderIndex||0)}),A.inverseOrder&&C.reverse(),D.allItems=C,D.display=u=!!C.length,co(C,function(b){bl.call(D,b)}),y=A.width||D.offsetWidth,B=D.lastItemY+D.lastLineHeight,B=av.call(D,B),(t||r)&&(y+=s,B+=s,z?y>0&&B>0&&(z[z.isNew?"attr":"animate"](z.crisp(null,null,null,y,B)),z.isNew=!1):(D.box=z=x.rect(0,0,y,B,A.borderRadius,t||0).attr({stroke:A.borderColor,"stroke-width":t||0,fill:r||cM}).add(w).shadow(A.shadow),z.isNew=!0),z[u?"show":"hide"]()),D.legendWidth=y,D.legendHeight=B,co(C,function(b){dz.call(D,b)}),u&&w.align(cf({width:y,height:B},A),!0,v.spacingBox)}};var cx=aK.extend({init:function(b,n){var r=this,m=r.guid=b6.guid(),s=cq[m]={},l=n.dataSeries;n.dataSeries=null,aK.fn.init.apply(r,arguments),r.options.dataSeries=r.initialOptions.dataSeries=l,s.cachedHoverSeries=null;var q=r.options,p=q.margin,o=dt(p)?p:[p,p,p,p];s.optionsMarginTop=cp(q.chartMarginTop,o[0]),s.optionsMarginRight=cp(q.chartMarginRight,o[1]),s.optionsMarginBottom=cp(q.chartMarginBottom,o[2]),s.optionsMarginLeft=cp(q.chartMarginLeft,o[3]),s.isResizing=0,s.axes=[],s.dataSeries=[],s.hasCartesianSeries=!1,s.axisX=[],s.axisY=[],s.applyAnimation=cz?!1:cp(q.applyAnimation,!0),s.pointCount=0,s.counters=new bK,c2._initRender.call(r)},_series:function(f){var k=this,h=k.options,g=f.seriesType||h.seriesType;if(!cd[g]){return void bQ(b6.format("Invalid series type '{0}'",g),1)}var j=new cd[g];return j.init(k,f),j},redraw:function(s){var B,E,F=this,G=cq[F.guid],x=G.axes,D=G.dataSeries,A=G.tracker,v=G.chartLegend,y=G.isDirtyLegend,z=G.isDirtyBox,w=D.length,C=w,u=G.renderer,t=u.isHidden(),c=[];for(a7(s,F),t&&c2._shiftRendering.call(F);C--;){if(E=D[C],E.isDirty&&E.options.stackMode){B=!0;break}}if(B){for(C=w;C--;){E=D[C],E.options.stackMode&&(E.isDirty=!0)}}co(D,function(b){b.isDirty&&b.options.legendType===c9&&(y=!0)}),y&&v.options.enabled&&(v.render(),G.isDirtyLegend=!1),G.hasCartesianSeries&&(G.isResizing||(G.maxTicks=null,co(x,function(b){b._scale()})),c2._updateTicks.call(F),F._spacing(),co(x,function(b){b.isDirtyExtremes&&(b.isDirtyExtremes=!1),(b.isDirty||z||B)&&(b.redraw(),z=!0)})),z&&c2._renderBox.call(F),co(D,function(b){b.isDirty&&b.visible&&(!b.isCartesian||b.axisX)&&b.redraw()}),A&&A._reset&&A._reset(!0),u.draw(),t&&c2._shiftRendering.call(F,!0),co(c,function(b){b.call()})},_axes:function(){var m,j,l=this,k=this.options,h=k.axisX||{},c=k.axisY||{};h=bd(h),co(h,function(e,d){e.index=d,e.isX=!0}),c=bd(c),co(c,function(e,d){e.index=d}),m=h.concat(c),co(m,function(b){j=new bF(l,b)}),c2._updateTicks.call(l)},_zoom:function(j){var c,h=this,b=cq[h.guid];j&&!j.resetSelection&&(co(j.axisX.concat(j.axisY),function(e){var d=e.axis;b.tracker[d.isXAxis?"zoomX":"zoomY"]&&(c=d._zoom(e.min,e.max))}),c&&h.redraw(cp(h.options.applyAnimation,b.pointCount<100)))},_viewport:function(j,h){var c=this,l=cq[c.guid],k=!1;co(l.axes,function(e){var n=e.isXAxis,f=l.isInverted?!n:n,d=c8.call(e,f?j:h,!0);if(0!==d){var m=e.min+d,g=e.max+d;m>e.dataMin&&g<e.dataMax&&(b2.call(e,m,g,!1),k=!0)}}),k&&c.redraw(!1)},_size:function(){var j=this,f=cq[j.guid],h=j.options,g=f.renderToClone||j.element;f.containerWidth=g.width(),f.containerHeight=g.height(),f.chartWidth=h.width||f.containerWidth||600,f.chartHeight=h.height||(f.containerHeight>19?f.containerHeight:400)},_wrapper:function(){var o,q,p,f=this,r=cq[f.guid],n=f.options,m=f.element,l=b6.strid();m.empty(),m.width()||c2._shiftRendering.call(f),f._size(),q=r.chartWidth,p=r.chartHeight,r.container=o=cl("<div />").attr("id",l).addClass(dw+"container"+(n.className?" "+n.className:"")).css(cf({position:bJ,overflow:bS,width:q+b1,height:p+b1,textAlignINTERNAL:"left",lineHeight:"normal",zIndex:0},n.style)).appendTo(r.renderToClone||m)[0],r.renderer=n.forExport?new cy(o,q,p,!0):new a1(o,q,p),cz&&r.renderer.create(f,o,q,p)},_spacing:function(){var Q,L,P=this,S=cq[P.guid],N=P.options,H=N.chartAreaPaddingTop,G=N.chartAreaPaddingRight,b=N.chartAreaPaddingBottom,c=N.chartAreaPaddingLeft,O=S.chartLegend,I=S.optionsMarginTop,d=S.optionsMarginLeft,F=S.optionsMarginRight,E=S.optionsMarginBottom,K=S.chartTitleOptions,J=S.chartSubtitleOptions,R=P.options.chartLegend,M=cp(R.chartDistance,10),A=R.x,C=R.y,D=R.align,l=R.verticalAlign;c2._marginValues.call(P),Q=S.axisOffset,!S.title&&!S.subtitle||cn(S.optionsMarginTop)||(L=b9(S.title&&!K.ignoreChartLayout&&!K.verticalAlign&&K.y||0,S.subtitle&&!J.ignoreChartLayout&&!J.verticalAlign&&J.y||0),L&&(S.plotTop=b9(S.plotTop,L+15+H))),O.display&&!R.ignoreChartLayout&&("right"===D?cn(F)||(S.chartMarginRight=b9(S.chartMarginRight,O.legendWidth-A+M+G)):"left"===D?cn(d)||(S.plotLeft=b9(S.plotLeft,O.legendWidth+A+M+c)):"top"===l?cn(I)||(S.plotTop=b9(S.plotTop,O.legendHeight+C+M+H)):"bottom"===l&&(cn(E)||(S.chartMarginBottom=b9(S.chartMarginBottom,O.legendHeight-C+M+b)))),S.extraBottomMargin&&(S.chartMarginBottom+=S.extraBottomMargin),S.extraTopMargin&&(S.plotTop+=S.extraTopMargin),S.hasCartesianSeries&&co(S.axes,function(e){e._offset()}),cn(d)||(S.plotLeft+=Q[3]),cn(I)||(S.plotTop+=Q[0]),cn(E)||(S.chartMarginBottom+=Q[2]),cn(F)||(S.chartMarginRight+=Q[1]),c2._saveSize.call(P)},_layout:function(){var c,n,o,m=this,k=cq[m.guid],j=m.options,l=m.options.dataSeries;co(["isInverted","angular","enablePolarLayout"],function(b){for(c=cd[j.seriesType],o=k[b]||j[b]||c&&c.prototype[b],n=l&&l.length;!o&&n--;){c=cd[l[n].seriesType],c&&c.prototype[b]&&(o=!0)}k[b]=o})},_render:function(){var n,C,A=this,D=cq[A.guid],x=D.axes,B=D.renderer,E=A.options,o=E.axisTickText;if(C={text:"&#68;&#101;&#109;&#111;&#32;&#86;&#101;&#114;&#115;&#105;&#111;&#110;",isr:0},c2.setTitle.call(A),D.chartLegend=new at(A),co(x,function(b){b._scale()}),A._spacing(),co(x,function(b){return b.radial?(A._spacing(),!1):void 0}),D.maxTicks=null,co(x,function(b){b._ticks(!0),bI.call(b)}),C.style={cursor:dx,color:"#999999",fontSize:"16px"},c2._updateTicks.call(A),A._spacing(),c2._renderBox.call(A),D.hasCartesianSeries&&co(x,function(b){b.render()}),C.dest="&#104;&#116;&#116;&#112;&#58;&#47;&#47;&#119;&#119;&#119;&#46;&#115;&#104;&#105;&#101;&#108;&#100;&#117;&#105;&#46;&#99;&#111;&#109;",D.seriesGroup||(D.seriesGroup=B.g().attr({zIndex:3}).add()),co(D.dataSeries,function(b){b.translate(),b.setTooltipPoints(),b.render()}),o&&o.items&&co(o.items,function(h){var b=cf(o.style,h.style),g=b7(b.left)+D.plotLeft,e=b7(b.top)+D.plotTop+12;delete b.left,delete b.top,B.text(h.html,g,e).attr({zIndex:2}).css(b).add()}),C&&!D.dsisf){var y,z,H,f=function(b){return cl("<div/>").html(b).text()},F=b6.guid();if(cJ){var w=B.createElement("filter").attr({id:F,height:"120%"}),G=(B.createElement("feGaussianBlur").attr({"in":"SourceAlpha",stdDeviation:3}).add(w),B.createElement("feComponentTransfer"));B.createElement("feFuncA").attr({type:"linear",slope:"0.2"}).add(G),G.add(w);var c=B.createElement("feMerge");B.createElement("feMergeNode").add(c),B.createElement("feMergeNode").attr({"in":"SourceGraphic"}).add(c),c.add(w),w.add(B.defs)}for(n=f(C.dest),!C.isr&&D.chartWidth<=400&&(C.text=f("&#68;&#101;&#109;&#111;")),C.text=f(C.text),y=[{align:"left",verticalAlign:"top",x:D.plotLeft+5,y:D.plotTop+20},{align:"right",verticalAlign:"top",x:-1*(D.chartWidth-(D.plotLeft+D.plotWidth)+5),y:D.plotTop+20},{align:"left",verticalAlign:"top",x:D.plotLeft+5,y:D.plotTop+D.plotHeight-5},{align:"right",verticalAlign:"top",x:-1*(D.chartWidth-(D.plotLeft+D.plotWidth)+5)+(C.isr?5:0),y:D.plotTop+D.plotHeight-5}],H=function(){n&&(location.href=n)},z=0;z<y.length;z++){C.isr&&3!=z||(C.isr&&D.chartWidth<=400&&(C.style.fontSize="13px"),B.text(C.text,0,0).on(dB,H).attr({align:y[z].align,zIndex:8,filter:void 0}).css(C.style).add().align(y[z]))}D.dsisf=!0}D.hasRendered=!0},destroy:function(){var s,n,p,o=this,r=cq[o.guid],m=r.axes,l=r.dataSeries,q=r.container,k=q&&q.parentNode;for(dl(o,"destroy"),cQ(o),s=m.length;s--;){m[s]=m[s].destroy()}for(s=l.length;s--;){l[s]=l[s].destroy()}for(n in r){r.hasOwnProperty(n)&&(p=r[n],p&&typeof p.destroy===by&&p.destroy())}q&&(q.innerHTML="",cQ(q),k&&ax(q));for(s in r){r.hasOwnProperty(s)&&delete r[s]}delete cq[o.guid]}}),c2={_updateTicks:function(){var c=this,e=cq[c.guid];c.options.matchTicks!==!1&&co(e.axes,function(b){b._updateTicks()}),e.maxTicks=null},_shiftRendering:function(j){var k=this,g=cq[k.guid],h=k.element,l=g.renderToClone;g.container;j?l&&(l.remove(),delete g.renderToClone):l=g.renderToClone=h.clone().css({position:ar,top:"-9999px",display:"block"}).appendTo(b5.body)},_renderBox:function(){var U,R,D=this,W=cq[D.guid],V=D.options,S=W.renderer,I=W.chartWidth,F=W.chartHeight,L=W.chartBackground,G=W.plotBackground,K=W.plotBorder,E=W.plotBGImage,T=V.borderWidth||0,C=V.backgroundColor,z=V.chartAreaBackgroundColor,H=V.chartAreaBackgroundImage,J=V.chartAreaBorderWidth||0,Q=W.plotLeft,P=W.plotTop,O=W.plotWidth,N=W.plotHeight,B=W.chartAreaBox,A=W.clipRect,M=W.clipBox;U=T+(V.shadow?8:0),(T||C)&&(L?L.animate(L.crisp(null,null,null,I-U,F-U)):(R={fill:C||cM},T&&(R.stroke=V.borderColor,R["stroke-width"]=T),W.chartBackground=S.rect(U/2,U/2,I-U,F-U,V.borderRadius,T).attr(R).add().shadow(V.shadow))),z&&(G?G.animate(B):W.plotBackground=S.rect(Q,P,O,N,0).attr({fill:z}).add().shadow(V.chartAreaShadow)),H&&(E?E.animate(B):W.plotBGImage=S.image(H,Q,P,O,N).add()),A?A.animate({width:M.width,height:M.height}):W.clipRect=S.clipRect(M),J&&(K?K.animate(K.crisp(null,Q,P,O,N)):W.plotBorder=S.rect(Q,P,O,N,0,J).attr({stroke:V.chartAreaBorderColor,"stroke-width":J,zIndex:1}).add()),W.isDirtyBox=!1},_initRender:function(){var n,c=this,q=cq[c.guid],p=c.options,m=q.callback,o=c.element,l="onreadystatechange",k="complete";return(!cJ&&cX==cX.top&&b5.readyState!==k||cz&&!cX.canvg)&&!cz?void b5.attachEvent(l,c._onDocReady=function(){b5.readyState===k&&(b5.detachEvent(l,c._onDocReady),c2._initRender.call(c),c._onDocReady=null)}):(c._wrapper(),o.addClass("shield-chart"),dl(c,"init"),c2._marginValues.call(c),c2._saveSize.call(c),c._layout(),c._axes(),co(p.dataSeries||[],function(b){c._series(b)}),q.tracker=new aN(c,p),c._render(),q.renderer.draw(),m&&m.apply(c,[c]),co(bx,function(b){b.apply(c,[c])}),c2._shiftRendering.call(c,!0),p.enableAutoFit!==!1&&(c._eafFunc=function(e){var b=p.width||o.width(),f=p.height||o.height(),d=e?e.target:cX;b&&f&&(d===cX||d===b5)&&((b!==q.containerWidth||f!==q.containerHeight)&&(clearTimeout(n),q.reflowTimeout=n=setTimeout(function(){q.container&&c2._resize.call(c,b,f,!1)},100)),q.containerWidth=b,q.containerHeight=f)},cV(cX,ck,c._eafFunc),cV(c,"destroy",function(){cQ(cX,ck,c._eafFunc),c._eafFunc=null})),void c.trigger("load"))},_selected:function(){var c=[];return co(cq[this.guid].dataSeries,function(b){c=c.concat(am(b.points,function(d){return d.selected}))}),c},_marginValues:function(){var m=this,o=cq[m.guid],n=m.options,l=n.chartAreaPaddingTop,k=n.chartAreaPaddingRight,j=n.chartAreaPaddingBottom,b=n.chartAreaPaddingLeft;o.plotTop=cp(o.optionsMarginTop,l),o.chartMarginRight=cp(o.optionsMarginRight,k),o.chartMarginBottom=cp(o.optionsMarginBottom,j),o.plotLeft=cp(o.optionsMarginLeft,b),o.axisOffset=[0,0,0,0]},_resize:function(g,p,r){var u,t,s,q,v=this,w=cq[v.guid],d=w.title,c=w.subtitle;w.isResizing+=1,q=function(){v&&dl(v,"endResize",null,function(){w.isResizing-=1})},a7(r,v),w.oldChartHeight=w.chartHeight,w.oldChartWidth=w.chartWidth,cn(g)&&(w.chartWidth=u=cj(g)),cn(p)&&(w.chartHeight=t=cj(p)),bV(w.container,{width:u+b1,height:t+b1}),w.renderer.setSize(u,t,r),w.plotWidth=u-w.plotLeft-w.chartMarginRight,w.plotHeight=t-w.plotTop-w.chartMarginBottom,w.maxTicks=null,co(w.axes,function(b){b.isDirty=!0,b._scale()}),co(w.dataSeries,function(b){b.isDirty=!0}),w.isDirtyLegend=!0,w.isDirtyBox=!0,v._spacing(),s=w.spacingBox,d&&d.align(null,null,s),c&&c.align(null,null,s),v.redraw(r),w.oldChartHeight=null,dl(v,ck),aX===!1?q():setTimeout(q,aX&&aX.duration||500)},_saveSize:function(){var z,y,B,A,D,x=this,E=cq[x.guid],s=E.isInverted,w=E.chartWidth,v=E.chartHeight,C=x.options,t=C.chartAreaPaddingTop,g=C.chartAreaPaddingRight,c=C.chartAreaPaddingBottom,u=C.chartAreaPaddingLeft;E.plotLeft=z=cj(E.plotLeft),E.plotTop=y=cj(E.plotTop),E.plotWidth=B=cj(w-z-E.chartMarginRight),E.plotHeight=A=cj(v-y-E.chartMarginBottom),E.plotSizeX=s?A:B,E.plotSizeY=s?B:A,E.chartAreaBorderWidth=D=C.chartAreaBorderWidth||0,E.spacingBox={x:u,y:t,width:w-u-g,height:v-t-c},E.chartAreaBox={x:z,y:y,width:B,height:A},E.clipBox={x:D/2,y:D/2,width:E.plotSizeX-D,height:E.plotSizeY-D},co(E.axes,function(b){b._dimensions(),b._arrange()})},setTitle:function(o,n){var m,l,k=this,c=cq[k.guid],h=k.options;c.chartTitleOptions=m=cg(h.primaryHeader,o),c.chartSubtitleOptions=l=cg(h.secondaryHeader,n),co([["title",o,m],["subtitle",n,l]],function(p){var j=p[0],q=c[j],g=p[1],b=p[2];q&&g&&(c[j]=q=q.destroy()),b&&b.text&&!q&&(c[j]=c.renderer.text(b.text,0,0,b.htmlOutput).attr({align:b.align,zIndex:b.zIndex||4}).css(b.style).add().align(b,!1,c.spacingBox))})}},bx=[];cx.defaults=dm,cx.themes={"default":{}},b6.ui.plugin("Chart",cx),function(){function f(b){return{id:b.id,name:b.pointName,x:b.x,y:b.y}}function j(b){return{collectionAlias:b.collectionAlias,color:b.color,axisX:b.axisX?g(b.axisX):null,axisY:b.axisY?g(b.axisY):null,id:b.options.id,points:di(b.points,function(c){return f(c)})}}function g(b){return{type:b.xOrY,values:b.categoricalValues,min:b.min,max:b.max}}function k(b){if(cN(b)||dt(b)){var c=cN(b)?{}:[];for(var d in b){if(Object.prototype.hasOwnProperty.call(b,d)){var l=b[d];l&&l instanceof dy?c[d]=f(l):l&&(l instanceof bU||"dataSeries"===d)?c[d]=j(l):l&&l instanceof bF?c[d]=g(l):l&&b6.is.event(l)?c[d]=cl.Event(l):l&&(l instanceof cl.Event||"domEvent"===d)?c[d]=l:"target"==d||"srcElement"==d?c[d]=l:c[d]=k(l)}}return c}return b}var h=cx.prototype.trigger;cx.prototype.trigger=function(m,e,c){var o=this,l=k(e),n=h.call(o,m,l);return typeof c!==by||n.isDefaultPrevented()||c.call(o,e),n}}();var dy=function(){};dy.prototype={init:function(q,l,k){var p,j=this,o=q.chart,n=cq[o.guid],m=n.counters;return j.dataSeries=q,j.setOptions(l,k),j.pointAttr={},q.options.separateColors&&(p=o.options.seriesPalette,j.color=j.color||p[m.color++],m.wrapColor(p.length)),n.pointCount++,j},setOptions:function(g,j){var e=this,k=e.dataSeries,h=typeof g;e.config=g,"number"===h||null===g?e.y=g:"number"==typeof g[0]?(e.x=g[0],e.y=g[1]):"object"===h&&"number"!=typeof g.length?(cf(e,g),e.options=g,g.dataPointText&&(k._hasPointLabels=!0),g.pointMark&&(k._hasPointMarkers=!0)):"string"==typeof g[0]&&(e.collectionAlias=g[0],e.y=g[1]),e.x===cm&&(e.x=j===cm?k.autoIncrement():j)},destroy:function(){if(!this._destroyed){var k,g=this,h=g.dataSeries,l=cq[h.chart.guid],j=l.hoverPoints;l.pointCount--,j&&(g.setState(),aT(j,g),j.length||(l.hoverPoints=null)),g===l.hoverPoint&&g._mouseOut(),(g.graphic||g.dataLabel)&&(cQ(g),bm.call(g)),g.legendItem&&af.call(l.chartLegend,g);for(k in g){g.hasOwnProperty(k)&&(g[k]=null)}g._destroyed=!0}},_selected:function(k,j){var b=this,h=b.dataSeries,c=h.chart;k=cp(k,!b.selected),b.trigger(k?"pointSelect":"pointDeselect",{accumulate:j},function(){b._destroyed||(b.selected=k,b.setState(k?cW:cT),j||co(c2._selected.call(c),function(d){d.selected&&d!==b&&(d.selected=!1,d.setState(cT),d.trigger("pointDeselect"))}))})},_mouseOver:function(k){var h=this,j=h.dataSeries,n=cq[j.chart.guid],m=n.tooltip,l=n.hoverPoint;l&&l!==h&&l._mouseOut(k),h.trigger("seriesMouseOver",k),!m||m.chartBound&&!j.noSharedTooltip||m.refresh(h),h.setState(cK),n.hoverPoint=h},_mouseOut:function(f){var e=cq[this.dataSeries.chart.guid],g=e.hoverPoints;g&&-1!==bP(this,g)||(this.trigger("seriesMouseOut",f),this.setState(),e.hoverPoint=null)},trigger:function(l,h,k){var g=this,m=g.dataSeries,j=m.options;"seriesClick"===l&&j.enablePointSelection&&(k=function(b){g._selected(null,h.ctrlKey||h.metaKey||h.shiftKey)}),dl(g,l,{domEvent:h,dataSeries:m},function(){m.chart.trigger(l,{domEvent:h,point:g,dataSeries:m},k)})},setState:function(E){var D,C=this,w=C.plotX,x=C.plotY,B=C.dataSeries,u=B.options.activeSettings,z=ce[B.seriesType].pointMark&&B.options.pointMark,s=z&&!z.enabled,A=z&&z.activeSettings[E],j=A&&A.enabled===!1,y=B.stateMarkerGraphic,t=B.chart,h=cq[t.guid],v=C.pointAttr;E=E||cT,E===C.state||C.selected&&E!==cW||u[E]&&u[E].enabled===!1||E&&(j||s&&!A.enabled)||(C.graphic?(D=z&&C.graphic.symbolName&&v[E].r,C.graphic.attr(cg(v[E],D?{x:w-D,y:x-D,width:2*D,height:2*D}:{}))):(E&&A&&(D=A.drawRadius,y?y.attr({x:w-D,y:x-D}):B.stateMarkerGraphic=y=h.renderer.symbol(B.symbol,w-D,x-D,2*D,2*D).attr(v[E]).add(B.markerGroup)),y&&y[E&&cF(t,w,x)?"show":"hide"]()),C.state=E)}};var bU=function(){};bU.prototype={isCartesian:!0,seriesType:"line",pointClass:dy,sorted:!0,pointAttrToOptions:{stroke:"drawColor","stroke-width":"drawWidth",fill:"innerColor",r:"drawRadius"},init:function(j,c){var k,m,n=this,l=cq[j.guid];n.chart=j,n.options=c=n.setOptions(c),n.bindAxes(),cf(n,{collectionAlias:c.collectionAlias,state:cT,pointAttr:{},visible:c.visible!==!1,selected:c.selected===!0}),cz&&(c.applyAnimation=!1),m=c.events;for(k in m){m.hasOwnProperty(k)&&cV(n,k,m[k])}(m&&m.click||c.point&&c.point.events&&c.point.events.click||c.enablePointSelection)&&(l.runTrackerClick=!0),n.getColor(),n.getSymbol(),n.setItemSource(c.data,!1),n.isCartesian&&(l.hasCartesianSeries=!0),l.dataSeries.push(n),ch(l.dataSeries,function(e,d){return(e.options.index||0)-(d.options.index||0)}),co(l.dataSeries,function(e,d){e.index=d,e.collectionAlias=e.collectionAlias||"Series "+(d+1)})},bindAxes:function(){var j,c=this,h=c.options,e=cq[c.chart.guid];c.isCartesian&&co(["axisX","axisY"],function(b){co(e[b],function(d){j=d.options,(h[b]===j.index||h[b]===cm&&0===j.index)&&(d.dataSeries.push(c),c[b]=d,d.isDirty=!0)})})},autoIncrement:function(){var b=this,e=b.options,f=b.xIncrement;return f=cp(f,e.dataStart,0),b.dataStep=cp(b.dataStep,e.dataStep,1),b.xIncrement=f+b.dataStep,f},getSegments:function(){var c,k=this,m=-1,l=[],h=k.points,j=h.length;if(j){if(k.options.drawNullValues){for(c=j;c--;){null===h[c].y&&h.splice(c,1)}h.length&&(l=[h])}else{co(h,function(e,d){null===e.y?(d>m+1&&l.push(h.slice(m+1,d)),m=d):d===j-1&&l.push(h.slice(m+1,d+1))})}}k.segments=l},setOptions:function(h){var j,o=this.chart,n=o.options,m=n.seriesSettings,l=m[this.seriesType],k=h.data;return h.data=null,j=cg(l,m.dataSeries,h),j.data=h.data=k,this.tooltipSettings=cg(n.tooltipSettings,j.tooltipSettings,o.initialOptions.tooltipSettings),null===l.pointMark&&delete j.pointMark,j},getColor:function(){var f=this,j=f.options,h=f.chart.options.seriesPalette,g=cq[f.chart.guid].counters;f.color=j.color||!j.separateColors&&h[g.color++]||"gray",g.wrapColor(h.length)},getSymbol:function(){var g=this,l=g.options.pointMark,k=g.chart,j=k.options.symbols,h=cq[k.guid].counters;g.symbol=l.symbol||j[h.symbol++],/^url/.test(g.symbol)&&(l.drawRadius=0),h.wrapSymbol(j.length)},drawLegendSymbol:function(r,w){var b=this.options,t=(b.pointMark,r.options),v=t.legendItemSettings,u=t.checkMarkSettings,x=u.coordinates,y=5,q=t.symbolWidthINTERNAL,p=cq[this.chart.guid].renderer,s=w.legendGroup,d=r.baseline;w.legendSymbol=p.symbol("square",q/2-y,d-4-y,2*y,2*y).add(s),u&&u.enabled&&(w.checkMark=p.symbol(u.shape,q/2-y+cp(x.x,0),d-4-y+cp(x.y,0),cn(x.width)?x.width:2*y,cn(x.height)?x.height:2*y).add(s).attr({"stroke-width":u.width})),v&&v.elementStyle&&v.elementStyle.cursor&&(w.legendSymbol.css({cursor:v.elementStyle.cursor}),w.checkMark&&w.checkMark.css({cursor:v.elementStyle.cursor}))},addPointINTERNAL:function(q,w,y,b){var C,D=this,A=D.data,B=D.graph,x=D.area,v=D.chart,u=D.xData,t=D.yData,s=B&&B.shift||0,r=D.options.data,z=D.pointClass.prototype;a7(b,v),B&&y&&(B.shift=s+1),x&&(y&&(x.shift=s+1),x.isArea=!0),w=cp(w,!0),C={dataSeries:D},z.setOptions.apply(C,[q]),u.push(C.x),t.push(z.toArray?z.toArray.call(C):C.y),r.push(q),y&&(A[0]&&A[0].remove?ap.call(A[0],!1):(A.shift(),u.shift(),t.shift(),r.shift())),D.getAttribs(),D.isDirty=!0,D.isDirtyData=!0,w&&v.redraw()},setItemSource:function(N,y){var Q,P=this,K=P.points,G=P.options,C=P.initialColor,D=P.chart,z=cq[D.guid],H=null,I=P.axisX,F=P.pointClass.prototype;P.xIncrement=null,P.pointRange=I&&I.categoricalValues?1:G.pointRange,cn(C)&&(z.counters.color=C);var O,J=[],L=[],M=N?N.length:[],d=10000,B=P.pointArrayMap,A=B&&B.length;if(M>d){for(Q=0;null===H&&M>Q;){H=N[Q],Q++}if(aj(H)){var E=cp(G.dataStart,0),b=cp(G.dataStep,1);for(Q=0;M>Q;Q++){J[Q]=E,L[Q]=N[Q],E+=b}P.xIncrement=E}else{if(dt(H)){if(A){for(Q=0;M>Q;Q++){O=N[Q],J[Q]=O[0],L[Q]=aP.call(O,1,A+1)}}else{for(Q=0;M>Q;Q++){O=N[Q],J[Q]=O[0],L[Q]=O[1]}}}}}else{for(Q=0;M>Q;Q++){O={dataSeries:P},F.setOptions.apply(O,[N[Q]]),J[Q]=O.x,L[Q]=F.toArray?F.toArray.call(O):O.y}}if(cE(L[0])){return void bQ("Data cannot be a string",1)}for(P.data=[],P.options.data=N,P.xData=J,P.yData=L,Q=K&&K.length||0;Q--;){K[Q]&&K[Q].destroy&&K[Q].destroy()}I&&(I.zoomMin=I.customZoomMin),P.isDirty=P.isDirtyData=z.isDirtyBox=!0,cp(y,!0)&&D.redraw(!1)},removeSeries:function(k,b){var l=this,j=l.chart,h=cq[j.guid];k=cp(k,!0),l.isRemoving||(l.isRemoving=!0,l.destroy(),h.isDirtyLegend=h.isDirtyBox=!0,k&&j.redraw(b)),l.isRemoving=!1},processData:function(e){var l,D,F,I,J=this,H=J.xData,C=J.yData,G=H.length,E=0,z=G,y=J.axisX,x=J.options,w=x.pointsLimit,v=J.isCartesian;if(v&&!J.isDirty&&!y.isDirty&&!J.axisY.isDirty&&!e){return !1}if(v&&J.sorted&&(!w||G>w||J.forceCrop)){var u=bg.call(y),A=u.min,B=u.max;if(H[G-1]<A||H[0]>B){H=[],C=[]}else{if(H[0]<A||H[G-1]>B){for(I=0;G>I;I++){if(H[I]>=A){E=b9(0,I-1);break}}for(;G>I;I++){if(H[I]>B){z=I+1;break}}H=H.slice(E,z),C=C.slice(E,z),l=!0}}}for(I=H.length-1;I>0;I--){D=H[I]-H[I-1],D>0&&(F===cm||F>D)&&(F=D)}J.cropped=l,J.cropStart=E,J.processedXData=H,J.processedYData=C,null===x.pointRange&&(J.pointRange=F||1),J.closestPointRange=F},generatePoints:function(){var u,C,z,F,E=this,e=E.options,x=e.data,D=E.data,A=E.processedXData,r=E.processedYData,v=E.pointClass,w=A.length,t=E.cropStart||0,B=E.hasGroupedData,y=[];if(!D&&!B){var s=[];s.length=x.length,D=E.data=s}for(F=0;w>F;F++){C=t+F,B?y[F]=(new v).init(E,[A[F]].concat(bd(r[F]))):(D[C]?z=D[C]:x[C]!==cm&&(D[C]=z=(new v).init(E,x[C],A[F])),y[F]=z)}if(D&&(w!==(u=D.length)||B)){for(F=0;u>F;F++){F!==t||B||(F+=w),D[F]&&(bm.call(D[F]),D[F].plotX=cm)}}E.data=D,E.points=y},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var E,R=this,b=R.chart,g=cq[b.guid],L=R.options,C=L.stackMode,B=R.axisX,J=B.categoricalValues,M=R.axisY,D=R.points,d=D.length,H=!!R.modifyValue,I=M.dataSeries,O=I.length,e="between"===L.positioningMethod;O--;){if(I[O].visible){I[O]===R&&(E=!0);break}}for(O=0;d>O;O++){var K,N,S=D[O],G=S.x,Q=S.y,P=S.low,F=M.stacks[(Q<L.baseValue?"-":"")+R.stackKey];S.plotX=B.translate(G,0,0,0,1,e),C&&R.visible&&F&&F[G]&&(K=F[G],N=K.total,K.cum=P=K.cum-Q,Q=P+Q,E&&(P=cp(L.baseValue,M.min)),M.isLog&&0>=P&&(P=null),"percent"===C&&(P=N?100*P/N:0,Q=N?100*Q/N:0),S.percentage=N?100*S.y/N:0,S.total=S.stackTotal=N,S.stackY=Q),S.yBottom=cn(P)?M.translate(P,0,1,0,1):null,H&&(Q=R.modifyValue(Q,S)),S.plotY="number"==typeof Q?cj(10*M.translate(Q,0,1,0,1))/10:cm,S.clientX=g.isInverted?g.plotHeight-S.plotX:S.plotX,S.pointName===cm&&(J&&J[O]!==cm?S.pointName=J[O]:S.pointName=S.x)}R.getSegments()},setTooltipPoints:function(c){var q,u,t,s,x,w=this,y=[],v=w.axisX,p=v?v.tooltipLen||v.len:cq[w.chart.guid].plotSizeX,l=v&&v.tooltipPosName||"plotX",r=[];if(w.options.mouseInteractions!==!1){for(c&&(w.tooltipPoints=null),co(w.segments||w.points,function(b){y=y.concat(b)}),v&&v.inverseOrder&&(y=y.reverse()),q=y.length,x=0;q>x;x++){for(s=y[x],u=y[x-1]?t+1:0,t=y[x+1]?b9(0,cO((s[l]+(y[x+1]?y[x+1][l]:p))/2)):p;u>=0&&t>=u;){r[u++]=s}}w.tooltipPoints=r}},_mouseOver:function(g){var f=this,j=cq[f.chart.guid],h=j.hoverSeries;h&&h!==f&&h._mouseOut(g),f.setState(cK),j.cachedHoverSeries=f,j.hoverSeries=f},_mouseOut:function(k){var h=this,j=h.options,n=cq[h.chart.guid],m=n.tooltip,l=n.hoverPoint;l&&l._mouseOut(k),!m||j.completeSeriesTrace||m.chartBound||m.hide(),h.setState(),n.hoverSeries=null},animate:function(n){var r,q,t,u=this,v=cq[u.chart.guid],p=v.renderer,s=u.options.applyAnimation,j=v.clipBox,o=v.isInverted;s&&!cN(s)&&(s=ce[u.seriesType].applyAnimation),t="_sharedClip"+s.duration+s.easing,n?(r=v[t],q=v[t+"m"],r||(v[t]=r=p.clipRect(cf(j,{width:0})),v[t+"m"]=q=p.clipRect(-99,o?-v.plotLeft:-v.plotTop,99,o?v.chartWidth:v.chartHeight)),u.group.clip(r),u.markerGroup.clip(q),u.sharedClipKey=t):(r=v[t],r&&(r.animate({width:v.plotSizeX},s),v[t+"m"].animate({width:v.plotSizeX+99},s)),u.animate=null,u.animationTimeout=setTimeout(function(){u.afterAnimate()},s.duration))},afterAnimate:function(){var h=this,f=cq[h.chart.guid],j=h.sharedClipKey,g=h.group;g&&h.options.clip!==!1&&(g.clip(f.clipRect),h.markerGroup.clip()),setTimeout(function(){j&&f[j]&&(f[j]=f[j].destroy(),f[j+"m"]=f[j+"m"].destroy())},100)},drawPoints:function(){var G,H,K,F,M,N,E,B,L,I,C,D,J=this,A=J.points,z=J.chart,y=cq[z.guid],e=J.options,x=e.pointMark,b=J.markerGroup;if(x.enabled||J._hasPointMarkers){for(F=A.length;F--;){M=A[F],H=M.plotX,K=M.plotY,L=M.graphic,I=M.pointMark||{},C=x.enabled&&I.enabled===cm||I.enabled,D=cF(z,H,K,y.isInverted),C&&K!==cm&&!isNaN(K)?(G=M.pointAttr[M.selected?cW:cT],N=G.r,E=cp(I.symbol,J.symbol),B=0===E.indexOf("url"),L?L.attr({visibility:D?cJ?"inherit":c1:bS}).animate(cf({x:H-N,y:K-N},L.symbolName?{width:2*N,height:2*N}:{})):D&&(N>0||B)&&(M.graphic=L=y.renderer.symbol(E,H-N,K-N,2*N,2*N).attr(G).add(b))):L&&(M.graphic=L.destroy())}}},convertAttribs:function(p,o,n,m){var b,k,l=this.pointAttrToOptions,j={};p=p||{},o=o||{},n=n||{},m=m||{};for(b in l){l.hasOwnProperty(b)&&(k=l[b],j[b]=cp(p[k],o[b],n[b],m[b]))}return j},getAttribs:function(){var w,v,A,z,j,u,D=this,C=ce[D.seriesType].pointMark?D.options.pointMark:D.options,x=C.activeSettings,B=x[cK],t=D.color,E={stroke:t,fill:t},c=D.points||[],y=[],d=D.pointAttrToOptions;for(D.options.pointMark?(B.drawRadius=B.drawRadius||C.drawRadius+2,B.drawWidth=B.drawWidth||C.drawWidth+1):B.color=B.color||new bM(B.color||t).brighten(B.brightness).get(),y[cT]=D.convertAttribs(C,E),co([cK,cW],function(e){y[e]=D.convertAttribs(x[e],y[cT])}),D.pointAttr=y,v=c.length;v--;){if(A=c[v],C=A.options&&A.options.pointMark||A.options,C&&C.enabled===!1&&(C.drawRadius=0),j=D.options.separateColors,A.options){for(u in d){d.hasOwnProperty(u)&&cn(C[d[u]])&&(j=!0)}}j?(C=C||{},z=[],x=C.activeSettings||{},w=x[cK]=x[cK]||{},D.options.pointMark||(w.color=new bM(w.color||A.color).brighten(w.brightness||B.brightness).get()),z[cT]=D.convertAttribs(cf({color:A.color},C),y[cT]),z[cK]=D.convertAttribs(x[cK],y[cK],z[cT]),z[cW]=D.convertAttribs(x[cW],y[cW],z[cT])):z=cf(!0,{},y),A.pointAttr=z}},destroy:function(){if(!this._destroyed){var m,r,l,q,p,o,s=this,n=cq[s.chart.guid],c=s.data||[];if(!s._destroyed){for(dl(s,"destroy"),cQ(s),co(["axisX","axisY"],function(b){q=s[b],q&&(aT(q.dataSeries,s),q.isDirty=!0)}),s.legendItem&&af.call(n.chartLegend,s),m=c.length;m--;){r=c[m],r&&r.destroy&&r.destroy()}s.points=null,clearTimeout(s.animationTimeout);for(p in s){s.hasOwnProperty(p)&&(o=s[p],(o instanceof cs||aD&&o instanceof aD)&&(s[p]=o.destroy()))}n.hoverSeries===s&&(n.hoverSeries=null),aT(n.dataSeries,s);for(l in s){s.hasOwnProperty(l)&&delete s[l]}s._destroyed=!0}}},drawDataLabels:function(){var h,d,e,c,o=this,b=o.options,p=b.dataPointText,q=o.points;(p.enabled||o._hasPointLabels)&&(o.dlProcessOptions&&o.dlProcessOptions(p),c=o.plotGroup("dataLabelsGroup","data-axisTickText",o.visible?c1:bS,6),d=p,co(q,function(u){var k,t,l,j,f=u.dataLabel,g=!0;if(h=u.options&&u.options.dataPointText,k=d.enabled||h&&h.enabled,f&&!k){u.dataLabel=f.destroy()}else{if(k){if(j=p.textAngle,p=cg(d,h),e=cE(p.format)?b6.format(p.format,{point:u,chart:u.dataSeries.chart}):p.format.call(null,u,u.dataSeries.chart),p.style.color=cp(p.color,p.style.color,o.color,"black"),f){f.attr({text:e}),g=!1}else{if(cn(e)){t={fill:p.backgroundColor,stroke:p.borderColor,"stroke-width":p.borderWidth,r:p.borderRadius||0,textAngle:j,padding:p.padding,zIndex:1};for(l in t){t.hasOwnProperty(l)&&t[l]===cm&&delete t[l]}f=u.dataLabel=cq[o.chart.guid].renderer[j?"text":"label"](e,0,-999,null,null,null,p.htmlOutput).attr(t).css(p.style).add(c).shadow(p.shadow)}}f&&o.alignDataLabel(u,f,p,null,g)}}}))},alignDataLabel:function(q,w,z,y,b){var x,v=this.chart,t=cq[v.guid],s=t.isInverted,r=cp(q.plotX,-999),u=cp(q.plotY,-999),g=w.getBBox();y=cf({x:s?t.plotWidth-u:r,y:cj(s?t.plotHeight-r:u),width:0,height:0},y),cf(z,{width:g.width,height:g.height}),z.textAngle?(x={align:z.align,x:y.x+z.x+y.width/2,y:y.y+z.y+y.height/2},w[b?"attr":"animate"](x)):(w.align(z,null,y),x=w.alignAttr),w.attr({visibility:z.hideInvisible===!1||cF(v,x.x,x.y)||cF(v,r,u,s)?cJ?"inherit":c1:bS})},getSegmentPath:function(c){var f=this,e=[];return co(c,function(g,d){if(f.getPointSpline){e.push.apply(e,f.getPointSpline(c,g,d))}else{if(e.push(d?bZ:bW),d&&f.options.step){var b=c[d-1];e.push(g.plotX,b.plotY)}e.push(g.plotX,g.plotY)}}),e},getGraphPath:function(){var h,f=this,c=[],g=[];return co(f.segments,function(b){h=f.getSegmentPath(b),b.length>1?c=c.concat(h):g.push(b[0])}),f.singlePoints=g,f.graphPath=c,c},drawGraph:function(){var q,s=this,r=s.options,p=s.graph,l=s.group,k=r.drawColor||s.color,o=r.drawWidth,n=r.seriesDashStyle,m=s.getGraphPath();p?(cu(p),p.animate({d:m})):o&&(q={stroke:k,"stroke-width":o,zIndex:1},n&&(q.dashstyle=n),s.graph=cq[s.chart.guid].renderer.path(m).attr(q).add(l).shadow(r.shadow))},invertGroups:function(){function c(){var d={width:e.axisY.len,height:e.axisX.len};co(["group","trackerGroup","markerGroup"],function(b){e[b]&&e[b].attr(d).invert()})}var e=this,f=e.chart;cV(f,ck,c),cV(e,"destroy",function(){cQ(f,ck,c)}),c(),e.invertGroups=c},plotGroup:function(r,l,o,n,m){var u=this,t=u[r],s=cq[u.chart.guid],q=u.axisX,p=u.axisY;return t||(u[r]=t=s.renderer.g().attr({visibility:o,zIndex:n||0.1}).add(m)),t.translate(q?q.left:s.plotLeft,p?p.top:s.plotTop),t},render:function(){var s,u=this,t=cq[u.chart.guid],r=u.options,l=r.applyAnimation,q=l&&!!u.animate,p=u.visible?c1:bS,o=r.zIndex,n=u.hasRendered,m=t.seriesGroup;s=u.plotGroup("group","dataSeries",p,o,m),u.markerGroup=u.plotGroup("markerGroup","markers",p,o,m),q&&u.animate(!0),u.getAttribs(),s.isInverted=t.isInverted,u.drawGraph&&u.drawGraph(),u.drawPoints(),u.drawDataLabels(),u.options.mouseInteractions!==!1&&u.drawTracker(),t.isInverted&&u.invertGroups(),r.clip===!1||u.sharedClipKey||n||(s.clip(t.clipRect),this.trackerGroup&&this.trackerGroup.clip(t.clipRect)),q?u.animate():n||u.afterAnimate(),u.isDirty=u.isDirtyData=!1,u.hasRendered=!0},redraw:function(){var e=this,g=cq[e.chart.guid],f=(e.isDirtyData,e.group);f&&(g.isInverted&&f.attr({width:g.plotWidth,height:g.plotHeight}),f.animate({translateX:e.axisX.left,translateY:e.axisY.top})),e.translate(),e.setTooltipPoints(!0),e.render()},setState:function(h){var g=this,j=g.options,m=g.graph,l=j.activeSettings,k=j.drawWidth;if(h=h||cT,g.state!==h){if(g.state=h,l[h]&&l[h].enabled===!1){return}h&&(k=l[h].drawWidth||k+1),m&&!m.dashstyle&&m.attr({"stroke-width":k},h?0:500)}},toggle:function(D,t){var E,A,z,F=this,C=F.chart,y=cq[C.guid],G=F.legendItem,x=F.group,w=F.tracker,v=F.dataLabelsGroup,u=F.markerGroup,B=F.points,c=C.options.scaleAxesForHiddenSeries,e=F.visible;if(F.visible=D=D===cm?!e:D,E=D?"show":"hide",x&&x[E](),u&&u[E](),w){w[E]()}else{if(B){for(A=B.length;A--;){z=B[A],z.tracker&&z.tracker[E]()}}}v&&v[E](),G&&ds.call(y.chartLegend,F,D),F.isDirty=!0,F.options.stackMode&&co(y.dataSeries,function(b){b.options.stackMode&&b.visible&&(b.isDirty=!0)}),c||(y.isDirtyBox=!0),t!==!1&&C.redraw(),C.trigger("seriesVisibilityChange",{dataSeries:F})},showDataSeries:function(){this.toggle(!0)},hideDataSeries:function(){this.toggle(!1)},drawTracker:function(){var D,G,F=this,C=F.options,A=C.areaInteractivity,E=[].concat(A?F.areaPath:F.graphPath),y=E.length,t=F.chart,z=cq[F.chart.guid],u=z.renderer,B=t.options.tooltipSettings.showDistance,x=F.tracker,w=C.cursor,s=w&&{cursor:w},v=F.singlePoints,r=F.isCartesian&&F.plotGroup("trackerGroup",null,c1,C.zIndex||1,z.trackerGroup);if(y&&!A){for(G=y+1;G--;){E[G]===bW&&E.splice(G+1,0,E[G+1]-B,E[G+2],bZ),(G&&E[G]===bW||G===y)&&E.splice(G,0,bZ,E[G-2]+B,E[G-1])}}for(G=0;G<v.length;G++){D=v[G],E.push(bW,D.plotX-B,D.plotY,bZ,D.plotX+B,D.plotY)}x?x.attr({d:E}):F.tracker=u.path(E).attr({isTracker:!0,"stroke-linejoin":"bevel",visibility:F.visible?c1:bS,stroke:dh,fill:A?dh:cM,"stroke-width":C.drawWidth+(A?0:2*B)}).on(cC?a4:ao,function(b){z.hoverSeries!==F&&F._mouseOver(b)}).on(b4,function(b){C.completeSeriesTrace||F._mouseOut(b)}).css(s).add(r)}};var bj=bY(bU);cd.line=bj;var bE=bY(bj,{seriesType:"stepline"});cd.stepline=bE,ce.stepline=cg(ce.line,{step:"left"}),ce.area=cg(dq,{baseValue:0,drawWidth:2,pointMark:{enabled:!1}});var ci=bY(bU,{seriesType:"area",getSegmentPath:function(j){var h,o=this,n=bU.prototype.getSegmentPath.call(o,j),m=[].concat(n),l=o.options,k=n.length;if(3===k&&m.push(bZ,n[1],n[2]),l.stackMode&&!o.closedStacks){for(h=j.length-1;h>=0;h--){h<j.length-1&&l.step&&m.push(j[h+1].plotX,j[h].yBottom),m.push(j[h].plotX,j[h].yBottom)}}else{o.closeSegment(m,j)}return o.areaPath=o.areaPath.concat(m),n},closeSegment:function(f,e){var d=aw.call(this.axisY,this.options.baseValue);f.push(bZ,e[e.length-1].plotX,d,bZ,e[0].plotX,d)},drawGraph:function(){var j=this;j.areaPath=[],bU.prototype.drawGraph.apply(j);var h=j.areaPath,g=j.options,b=j.area;b?b.animate({d:h}):j.area=cq[j.chart.guid].renderer.path(h).attr({fill:cp(g.innerColor,new bM(j.color).setOpacity(g.fillOpacity||0.75).get()),zIndex:0}).add(j.group)}});cd.area=ci;var bf=bY(ci,{seriesType:"steparea"});cd.steparea=bf,ce.steparea=cg(ce.area,{step:"left"}),ce.spline=cg(dq);var ak=bY(bU,{seriesType:"spline",getPointSpline:function(v,C,w){var z,J,B,K,A,E=1.5,D=E+1,H=C.plotX,L=C.plotY,I=v[w-1],y=v[w+1];if(I&&y){var x,u=I.plotX,F=I.plotY,l=y.plotX,G=y.plotY;z=(E*H+u)/D,J=(E*L+F)/D,B=(E*H+l)/D,K=(E*L+G)/D,x=(K-J)*(B-H)/(B-z)+L-K,J+=x,K+=x,J>F&&J>L?(J=b9(F,L),K=2*L-J):F>J&&L>J&&(J=cZ(F,L),K=2*L-J),K>G&&K>L?(K=b9(G,L),J=2*L-K):G>K&&L>K&&(K=cZ(G,L),J=2*L-K),C.rightContX=B,C.rightContY=K}return w?(A=["C",I.rightContX||I.plotX,I.rightContY||I.plotY,z||H,J||L,H,L],I.rightContX=I.rightContY=null):A=[bW,H,L],A}});cd.spline=ak,ce.splinearea=cg(ce.area);var ai=ci.prototype,aG=bY(ak,{seriesType:"splinearea",closedStacks:!0,getSegmentPath:ai.getSegmentPath,closeSegment:ai.closeSegment,drawGraph:ai.drawGraph});cd.splinearea=aG,ce.bar=cg(dq,{borderColor:"#FFFFFF",borderWidth:0,borderRadius:0,groupPadding:0.15,pointMark:null,barOffset:0.1,minPointLength:0,pointsLimit:50,pointRange:null,activeSettings:{pointHoveredState:{brightness:0.1,shadow:!1},pointSelectedState:{color:"#7AF4F4",shadow:!1}},dataPointText:{align:null,verticalAlign:null,y:null},baseValue:0});var dj=bY(bU,{seriesType:"bar",tooltipOutsidePlot:!0,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},isInverted:!1,init:function(){bU.prototype.init.apply(this,arguments);var c=this,e=cq[c.chart.guid];e.hasRendered&&co(e.dataSeries,function(b){b.seriesType===c.seriesType&&(b.isDirty=!0)})},translate:function(){var ab,S,ca=this,e=cq[ca.chart.guid],Q=ca.enablePolarLayout,bc=ca.options,h=bc.stackMode,X=bc.borderWidth,ba=0,aa=ca.axisX,Z=aa.inverseOrder,V={};bU.prototype.translate.apply(ca),bc.divideSeries===!1?ba=1:co(e.dataSeries,function(g){var f=g.options;g.seriesType===ca.seriesType&&g.visible&&ca.options.group===f.group&&(f.stackMode?(ab=g.stackKey,V[ab]===cm&&(V[ab]=ba++),S=V[ab]):f.divideSeries!==!1&&(S=ba++),g.columnIndex=S)});var b=ca.points,T=cL(aa.transA)*(aa.ordinalSlope||bc.pointRange||aa.closestPointRange||1),D=T*bc.groupPadding,d=T-2*D,ac=d/ba,O=bc.dataPointWidth,y=cn(O)?(ac-O)/2:ac*bc.barOffset,U=Q?y:b7(y),R=cp(O,ac-2*U),P=Q?R:b7(R),N=bH(b9(P,1+2*X)),n=(Z?ba-ca.columnIndex:ca.columnIndex)||0,W=U+(D+n*ac-T/2)*(Z?-1:1),l=Q?W:b7(W),c=bc.baseValue,Y=ca.translatedThreshold=aw.call(ca.axisY,c),bb=cp(bc.minPointLength,5);co(b,function(o){var s,r=o.plotY,q=cp(o.yBottom,Y),f=o.plotX+l,u=bH(cZ(r,q)),t=bH(b9(r,q)-u),p=ca.axisY.stacks[(o.y<0?"-":"")+ca.stackKey];h&&ca.visible&&p&&p[o.x]&&p[o.x]._offset(l,N),cL(t)<bb&&bb&&(t=bb,u=cL(u-Y)>bb?q-bb:Y-(Y>=r?bb:0)),o.barX=f,o.dataPointWidth=P,o.shapeType="rect",o.shapeArgs=s=e.renderer.Element.prototype.crisp.call(0,X,f,u,N,t),X%2&&(s.y-=1,s.height+=1),o.trackerArgs=cL(t)<3&&cg(o.shapeArgs,{height:6,y:u-3})})},getSymbol:cA,drawGraph:cA,drawPoints:function(){var j,c=this,h=c.options,e=cq[c.chart.guid].renderer;co(c.points,function(b){var d=b.plotY,f=b.graphic;d===cm||isNaN(d)||null===b.y?f&&(b.graphic=f.destroy()):(j=b.shapeArgs,f?(cu(f),f.animate(cg(j))):b.graphic=f=e[b.shapeType](j).attr(b.pointAttr[b.selected?cW:cT]).add(c.group).shadow(h.shadow,null,h.stackMode&&!h.borderRadius))})},drawTracker:function(){var z,u,y,x,s,A=this,v=cq[A.chart.guid],q=v.renderer,t=+new Date,w=A.options,r=w.cursor,e=r&&{cursor:r},c=A.isCartesian&&A.plotGroup("trackerGroup",null,c1,w.zIndex||1,v.trackerGroup);co(A.points,function(b){u=b.tracker,z=b.trackerArgs||b.shapeArgs,x=b.plotY,s=!A.isCartesian||x!==cm&&!isNaN(x),delete z.strokeWidth,null!==b.y&&s&&(u?u.attr(z):b.tracker=q[b.shapeType](z).attr({isTracker:t,fill:dh,visibility:A.visible?c1:bS}).on(cC?a4:ao,function(d){y=d.relatedTarget||d.fromElement,v.hoverSeries!==A&&b3(y,"isTracker")!==t&&A._mouseOver(d),b._mouseOver(d)}).on(b4,function(d){w.completeSeriesTrace||(y=d.relatedTarget||d.toElement,b3(y,"isTracker")!==t&&A._mouseOut(d))}).css(e).add(b.group||c))})},alignDataLabel:function(s,h,t,u,b){var r=this,q=cq[r.chart.guid],p=q.isInverted,o=s.below||s.plotY>(r.translatedThreshold||q.plotSizeY),n=r.options.stackMode||t.inside;s.shapeArgs&&(u=cg(s.shapeArgs),p&&(u={x:q.plotWidth-u.y-u.height,y:q.plotHeight-u.x-u.width,width:u.height,height:u.width}),n||(p?(u.x+=o?0:u.width,u.width=0):(u.y+=o?u.height:0,u.height=0))),t.align=cp(t.align,!p||n?"center":o?"right":"left"),t.verticalAlign=cp(t.verticalAlign,p||n?"middle":o?"top":"bottom"),bU.prototype.alignDataLabel.call(r,s,h,t,u,b)},animate:function(h){var d=this,g=d.points,c=d.options;h||(co(g,function(k){var m=k.graphic,j=k.shapeArgs,l=d.axisY,b=c.baseValue;m&&(m.attr({height:0,y:cn(b)?aw.call(l,b):l.translate(bg.call(l).min,0,1,0,1)}),m.animate({height:j.height,y:j.y},c.applyAnimation))}),d.animate=null)},remove:function(){var c=this,e=cq[c.chart.guid];e.hasRendered&&co(e.dataSeries,function(b){b.seriesType===c.seriesType&&(b.isDirty=!0)}),bU.prototype.remove.apply(c,arguments)}});cd.bar=dj,ce.scatter=cg(dq,{drawWidth:0,activeSettings:{pointHoveredState:{drawWidth:0}},tooltipSettings:{customHeaderText:"{point.pointName}",customPointText:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b>"}});var aH=bY(bU,{seriesType:"scatter",sorted:!1,translate:function(){var b=this;bU.prototype.translate.apply(b),co(b.points,function(c){c.shapeType="circle",c.shapeArgs={x:c.plotX,y:c.plotY,r:b.chart.options.tooltipSettings.showDistance}})},drawTracker:function(){for(var e,h=this,k=h.options.cursor,j=k&&{cursor:k},m=h.points,l=m.length;l--;){e=m[l].graphic,e&&(e.element._i=l)}h._hasTracking?h._hasTracking=!0:h.markerGroup.attr({isTracker:!0}).on(cC?a4:ao,function(c){h._mouseOver(c),c.target._i!==cm&&m[c.target._i]._mouseOver(c)}).on(b4,function(c){h.options.completeSeriesTrace||h._mouseOut(c)}).css(j)}});cd.scatter=aH,ce.bubble=cg(ce.scatter,{pointMark:{drawWidth:1,activeSettings:{pointHoveredState:{innerColor:null},pointSelectedState:{innerColor:null}}},tooltipSettings:{customHeaderText:"{point.pointName}",customPointText:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>size: <b>{point.size}</b>"}});var dv=bY(aH,{seriesType:"bubble",translate:function(){var w,u,s,v,n,t=this,e=t.chart,m=cq[e.guid],r=10,c=b9(10,b7(cZ(m.plotHeight,m.plotWidth)/5)),l=c-r;aH.prototype.translate.apply(t),co(t.points,function(b){b._rad=v=b8.sqrt(b.size/bX),(w===cm||w>v)&&(w=v),(u===cm||v>u)&&(u=v)}),s=u-w,r>w&&(n=w,w=u=cm,co(t.points,function(b){b._rad=v=b._rad*r/n,(w===cm||w>v)&&(w=v),(u===cm||v>u)&&(u=v)}),s=u-w),s>=l&&co(t.points,function(b){b._rad=r+(b._rad-w)*l/s})},drawPoints:function(){var b=this;co(b.points,function(c){co([cT,cK,cW],function(d){cf(c.pointAttr[d],{r:c._rad,fill:new bM(c.pointAttr[d].fill).setOpacity(d==cT?0.75:1).get()})})}),bU.prototype.drawPoints.apply(b)}});cd.bubble=dv,ce.pie=cg(dq,{borderColor:"#FFFFFF",borderWidth:0,center:["50%","50%"],separateColors:!0,dataPointText:{distance:30,enabled:!0,format:function(c,d){return d&&d.options&&d.options.axisX&&d.options.axisX.categoricalValues&&d.options.axisX.categoricalValues[c.x]!==cm?d.options.axisX.categoricalValues[c.x]:c.y}},legendType:c9,pointMark:null,size:"75%",addToLegend:!1,slicedOffset:10,activeSettings:{pointHoveredState:{brightness:0.1,shadow:!1}},tooltipSettings:{customHeaderText:"{point.dataSeries.collectionAlias}",customPointText:function(e,d){var f;return f=d&&d.options&&d.options.axisX&&d.options.axisX.categoricalValues&&d.options.axisX.categoricalValues[e.x]!==cm?d.options.axisX.categoricalValues[e.x]:e.pointName?e.pointName:e.collectionAlias?e.collectionAlias:e.dataSeries.collectionAlias,"<span>"+f+"</span>: "+e.y}}});var df=bY(dy,{init:function(){dy.prototype.init.apply(this,arguments);var d,b=this;return cf(b,{visible:b.visible!==!1,collectionAlias:cp(b.collectionAlias,"Sector")}),cn(b.selected)?b.selected=b.sliced=!!b.selected:cn(b.sliced)&&(b.selected=b.sliced=!!b.sliced),d=function(){aP.call(b)},cV(b,"pointSelect",d),cV(b,"pointDeselect",d),b},toggle:function(s){var t,u=this,r=u.dataSeries,m=r.chart,e=cq[r.chart.guid],q=u.tracker,p=u.dataLabel,o=u.connector,n=u.shadowGroup;u.visible=s=s===cm?!u.visible:s,t=s?"show":"hide",u.group[t](),q&&q[t](),p&&p[t](),o&&o[t](),n&&n[t](),u.legendItem&&ds.call(e.chartLegend,u,s),!r.isDirty&&r.options.ignoreHiddenPoint&&(r.isDirty=!0,m.redraw())}}),aF={seriesType:"pie",isCartesian:!1,pointClass:df,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=cq[this.chart.guid].counters.color},animate:function(){var d=this,c=d.points;co(c,function(h){var f=h.graphic,j=h.shapeArgs,g=-bX/2;f&&(f.attr({r:0,start:g,end:g}),f.animate({r:j.r,start:j.start,end:j.end},d.options.applyAnimation))}),d.animate=null},setItemSource:function(f,e){var b=this;bU.prototype.setItemSource.call(b,f,!1),b.processData(),b.generatePoints(),cp(e,!0)&&b.chart.redraw()},getCenter:function(){var p,j=this.options,o=cq[this.chart.guid],n=o.plotWidth,m=o.plotHeight,k=j.center.concat([j.size,j.innerSize||0]),l=cZ(n,m);return di(k,function(d,c){return p=/%$/.test(d),p?[n,m,l,l][c]*b7(d)/100:d})},translate:function(){this.generatePoints();var S,H,G,Q,D,M,N,P,R,K=0,O=this,F=-0.25,J=1000,I=O.options,E=I.slicedOffset,v=E+I.borderWidth,A=cq[O.chart.guid],B=O.points,C=2*bX,L=I.dataPointText.distance,m=I.ignoreHiddenPoint,g=B.length;for(O.center=S=O.getCenter(),O.getX=function(b,d){return Q=b8.asin((b-S[1])/(S[2]/2+L)),S[0]+(d?-1:1)*(c0(Q)*(S[2]/2+L))},P=0;g>P;P++){R=B[P],K+=m&&!R.visible?0:R.y}for(P=0;g>P;P++){R=B[P],D=K?R.y/K:0,H=cj(F*C*J)/J,(!m||R.visible)&&(F+=D),G=cj(F*C*J)/J,R.shapeType="arc",R.shapeArgs={x:S[0],y:S[1],r:S[2]/2,innerR:S[3]/2,start:H,end:G},Q=(G+H)/2,R.slicedTranslation=di([c0(Q)*E+A.plotLeft,cR(Q)*E+A.plotTop],cj),M=c0(Q)*S[2]/2,N=cR(Q)*S[2]/2,R.tooltipPos=[S[0]+0.7*M,S[1]+0.7*N],R.labelPos=[S[0]+M+c0(Q)*L,S[1]+N+cR(Q)*L,S[0]+M+c0(Q)*v,S[1]+N+cR(Q)*v,S[0]+M,S[1]+N,0>L?"center":C/4>Q?"left":"right",Q],R.percentage=100*D,R.total=K}O.setTooltipPoints()},render:function(){var b=this;b.getAttribs(),b.drawPoints(),b.options.mouseInteractions!==!1&&b.drawTracker(),b.drawDataLabels(),b.options.applyAnimation&&b.animate&&b.animate(),b.isDirty=!1},drawPoints:function(){var s,r,q,t,o,p=this,n=cq[p.chart.guid],m=n.renderer,c=p.options.shadow;co(p.points,function(b){r=b.graphic,o=b.shapeArgs,q=b.group,t=b.shadowGroup,c&&!t&&(t=b.shadowGroup=m.g().attr({zIndex:4}).add()),q||(q=b.group=m.g().attr({zIndex:5}).add()),s=b.sliced?b.slicedTranslation:[n.plotLeft,n.plotTop],q.translate(s[0],s[1]),t&&t.translate(s[0],s[1]),r?r.animate(o):b.graphic=r=m.arc(o).setRadialReference(p.center).attr(cf(b.pointAttr[cT],{"stroke-linejoin":"round"})).add(b.group).shadow(c,t),b.visible===!1&&b.toggle(!1)})},drawDataLabels:function(){var dN,dD,bc,da,dO,w,Y,dK,cb,ab,Z,dR,dJ=this,b=dJ.data,ba=cq[dJ.chart.guid],dL=dJ.options.dataPointText,z=cp(dL.connectorPadding,10),B=cp(dL.connectorWidth,1),dF=dL.distance,ac=dJ.center,ca=ac[2]/2,O=ac[1],c=dF>0,dG=[[],[]],db=2;if(dL.enabled||dJ._hasPointLabels){for(bU.prototype.drawDataLabels.apply(dJ),co(b,function(d){d.dataLabel&&dG[d.labelPos[7]<bX/2?0:1].push(d)}),dG[1].reverse(),Z=function(e,d){return d.y-e.y},w=dG[0][0]&&dG[0][0].dataLabel&&(dG[0][0].dataLabel.getBBox().height||21);db--;){var dH,cc,dQ,dP=[],X=[],dI=dG[db],dM=dI.length;if(dF>0){for(cc=O-ca-dF;O+ca+dF>=cc;cc+=w){dP.push(cc)}if(dH=dP.length,dM>dH){for(ab=[].concat(dI),ab.sort(Z),dR=dM;dR--;){ab[dR].rank=dR}for(dR=dM;dR--;){dI[dR].rank>=dH&&dI.splice(dR,1)}dM=dI.length}for(dR=0;dM>dR;dR++){dN=dI[dR],dO=dN.labelPos;var aa,dc,y=9999;for(dc=0;dH>dc;dc++){aa=cL(dP[dc]-dO[1]),y>aa&&(y=aa,dQ=dc)}if(dR>dQ&&null!==dP[dR]){dQ=dR}else{if(dM-dR+dQ>dH&&null!==dP[dR]){for(dQ=dH-dM+dR;null===dP[dQ];){dQ++}}else{for(;null===dP[dQ];){dQ++}}}X.push({i:dQ,y:dP[dQ]}),dP[dQ]=null}X.sort(Z)}for(dR=0;dM>dR;dR++){var bb,dE;if(dN=dI[dR],dO=dN.labelPos,da=dN.dataLabel,cb=dN.visible===!1?bS:c1,dE=dO[1],dF>0?(bb=X.pop(),dQ=bb.i,dK=bb.y,(dE>dK&&null!==dP[dQ+1]||dK>dE&&null!==dP[dQ-1])&&(dK=dE)):dK=dE,Y=dL.justify?ac[0]+(db?-1:1)*(ca+dF):dJ.getX(0===dQ||dQ===dP.length-1?dE:dK,db),da.attr({visibility:cb,align:dO[6]})[da.moved?"animate":"attr"]({x:Y+dL.x+({left:z,right:-z}[dO[6]]||0),y:dK+dL.y-10}),da.moved=!0,c&&B){dD=dN.connector;var v=Y+("left"===dO[6]?8:-8),t=dK;bc=[bW,v,t,bZ,v+("left"===dO[6]?-10:10),t,bZ,dO[4],dO[5]],dD?(dD.animate({d:bc}),dD.attr("visibility",cb)):dN.connector=dD=ba.renderer.path(bc).attr({"stroke-width":B,stroke:dL.connectorColor||dN.color||"#606060",visibility:cb,zIndex:3}).translate(ba.plotLeft,ba.plotTop).add()}}}}},alignDataLabel:cA,drawTracker:dj.prototype.drawTracker,getSymbol:cA};aF=bY(bU,aF),cd.pie=aF,ce.donut=cg(ce.pie,{innerSize:"45%"});var a5=bY(aF,{seriesType:"donut"});cd.donut=a5;var aU={_init:function(){var b=this;b.container=cl("<div class='shield-lightbox' />"),b.mask=cl("<div class='shield-lightbox-mask' />").appendTo(b.container),b.imageBox=cl("<div class='shield-lightbox-imagebox' />").appendTo(b.container),b.image=cl("<img />").appendTo(b.imageBox),b.caption=cl("<p>Right-click and save image to disk. Left-click to dismiss.</p>").appendTo(b.imageBox),b.window=cl(cX),b.document=cl(b5),b.body=cl(b5.body)},show:function(e){function h(){f.visible&&(f.container.appendTo(f.body),f.window.on(ck+f.ns,g),f.window.on("keydown"+f.ns,function(c){27===c.keyCode&&f.hide()}),f.container.on(dB+f.ns,cl.proxy(f.hide,f)),setTimeout(g,1000/60))}function g(){f.mask.css({height:f.document.innerHeight()}),f.image.css({maxWidth:f.mask.width()-(f.image.outerWidth()-f.image.width())-2*f.margin,maxHeightINTERNAL:f.mask.height()-(f.image.outerHeight()-f.image.height())-2*f.margin}),f.imageBox.css({left:(f.document.innerWidth()-f.imageBox.outerWidth())/2,top:(f.window.innerHeight()-f.imageBox.outerHeight())/2+f.document.scrollTop()}),f.caption.css({left:(f.imageBox.width()-f.caption.outerWidth())/2+"px"})}var f=this;f.visible||(f.visible=!0,f.container||f._init(),f.image.attr("src")===e?h():f.image.on("load"+f.ns,h).attr("src",e).attr("alt","Right-click and save image to disk"))},hide:function(){var b=this;b.container.detach(),b.window.off(b.ns),b.visible=!1},ns:".shield",visible:!1,container:null,mask:null,imageBox:null,image:null,caption:null,window:null,document:null,body:null,margin:40};cx.defaults.exportOptions={image:!0,print:!0,exportTooltip:"Export the chart to an image",printTooltip:"Print the chart"},cf(cx.prototype,{exportToImage:function(){if(aQ){var g=this,j=cl(cq[g.guid].container),f=j.html(),h=cl("<canvas />").attr("width",j.width()).attr("height",j.height())[0];if(typeof canvg!==by){throw"Export requires canvg: https://code.google.com/p/canvg/"}f=f.replace(/(xmlns="[^\"]*")(.*?)\1/,"$1$2"),f=f.replace(/<(filter)\b[^>]*>.*?<\/\1>/gim,""),f=f.replace(/\bfilter\b=(["']).*?\1/gim,""),canvg(h,f),aU.show(h.toDataURL())}},print:function(){var f=this,e=cl("<iframe />").css({position:"absolute",left:"-10000px",top:"-10000px"}).appendTo(b5.body)[0],g=e.contentWindow.document;g.open("text/html","replace"),g.write(cq[f.guid].container.innerHTML),g.close(),e.contentWindow.print(),setTimeout(function(){b5.body.removeChild(e),e=null},100)}}),bx.push(function(f){var h,e=f.options.exportOptions,g=[];e!==!1&&((e.image&&aQ||e.print)&&(h=cl('<div class="shield-buttons" />').appendTo(f.element)),e.image&&aQ&&g.push(cl('<button class="shield-chart-button" type="button" title="'+e.exportTooltip+'"><div class="sui-sprite shield-export-button-img" /></button>').on("click.shield",cl.proxy(f.exportToImage,f)).appendTo(h)),e.print&&g.push(cl('<button class="shield-chart-button" type="button" title="'+e.printTooltip+'"><div class="sui-sprite shield-print-button-img" /></button>').on("click.shield",cl.proxy(f.print,f)).appendTo(h)),cl(f).bind("destroy",function(b){cl(g).each(function(c,d){d.off(".shield").remove()})}))});var aJ=bU,bq=cd.bar.prototype;cf(a0.prototype,{init:function(m,k,h){var l,c=this,j=c.defaults;c.chart=k,cq[k.guid].angular&&(j.background={}),c.options=m=cg(j,m),l=m.background,l&&co([].concat(bd(l)).reverse(),function(b){var d=b.backgroundColor;b=cg(c.defaultBackgroundOptions,b),d&&(b.backgroundColor=d),b.color=b.backgroundColor,h.options.plotBands.unshift(b)})},defaults:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:Number.MIN_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var bk=bF.prototype,bp=aL.prototype,dn={_offset:cA,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},_scale:cA,_points:cA,_title:cA},bG={radialGauge:{axisTickText:{align:"center",x:0,y:null},minorPlotStripWidth:0,minorTicksRepeat:"auto",minorTicksHeight:10,minorTicksPlacementINTERNAL:"inside",minorTickWidth:1,plotBands:[],tickLength:10,tickPosition:"inside",tickWidth:2,title:{textAngle:0},zIndex:2},radialX:{plotStripWidth:1,axisTickText:{align:null,distance:15,x:0,y:null},endOffset:0,startOffset:0,plotBands:[],lastTickTextVisible:!1,tickLength:0},radialY:{gridLineInterpolationINTERNAL:"circle",axisTickText:{align:"right",x:-3,y:-2},plotBands:[],lastTickTextVisible:!1,title:{x:4,text:null,textAngle:90}}},bz={radial:!0,setOptions:function(c,d){this.options=cg(bB.defaults,c,this.defaultRadialOptions,this.isXAxis?d.initialOptions.axisX:d.initialOptions.axisY)},_offset:function(){var c=this;bk._offset.call(c),cq[c.chart.guid].axisOffset[c.side]=0,c.center=c.pane.center=cd.pie.prototype.getCenter.call(c.pane)},_path:function(b,h){var j=this,g=j.center;return h=cp(h,g[2]/2-j.offset),cq[j.chart.guid].renderer.symbols.arc(j.left+g[0],j.top+g[1],h,h,{start:j.startAngleRad,end:j.endAngleRad,open:!0,innerR:0})},_arrange:function(){var b=this;bk._arrange.call(b),b.center&&(b.isCircular?b.transA=(b.endAngleRad-b.startAngleRad)/(b.max-b.min||1):b.transA=b.center[2]/2/(b.max-b.min||1),b.isXAxis&&(b.minPixelPadding=b.transA*b.minPointOffset+(b.inverseOrder?(b.endAngleRad-b.startAngleRad)/4:0)))},_preTicks:function(){var b=this;b.autoConnect&&(b.max+=b.categoricalValues&&1||b.pointRange||b.closestPointRange)},_dimensions:function(){var b=this;bk._dimensions.call(b),b.center&&(b.len=b.width=b.height=b.isCircular?b.center[2]*(b.endAngleRad-b.startAngleRad)/2:b.center[2]/2)},_position:function(f,e){var b=this;return b.isCircular||(e=b.translate(f),f=b.min),b.postTranslate(b.translate(f),cp(e,b.center[2]/2)-b.offset)},postTranslate:function(g,k){var l=this,j=cq[l.chart.guid],h=l.center;return g=l.startAngleRad+g,{x:j.plotLeft+h[0]+c0(g)*k,y:j.plotTop+h[1]+cR(g)*k}},_bandPath:function(x,v,A){var z,y,s,w,C=this,u=C.center,t=C.startAngleRad,n=u[2]/2,B=[cp(A.outerRadius,"100%"),A.innerRadius,cp(A.thickness,10)],b=/%$/,r=C.isCircular;return"polygon"===C.options.gridLineInterpolationINTERNAL?w=C._linePath(x).concat(C._linePath(v,!0)):(r||(B[0]=C.translate(x),B[1]=C.translate(v)),B=di(B,function(c){return b.test(c)&&(c=b7(c,10)*n/100),c}),"circle"!==A.shape&&r?(z=t+C.translate(x),y=t+C.translate(v)):(z=-bX/2,y=1.5*bX,s=!0),w=cq[C.chart.guid].renderer.symbols.arc(C.left+u[0],C.top+u[1],B[0],B[0],{start:z,end:y,innerR:cp(B[1],B[0]-B[2]),open:s})),w},_linePath:function(u,c){var q,p,s,r,t=this,n=t.center,o=cq[t.chart.guid],m=t._position(u);return t.isCircular?r=["M",n[0]+o.plotLeft,n[1]+o.plotTop,"L",m.x,m.y]:"circle"===t.options.gridLineInterpolationINTERNAL?(u=t.translate(u),u&&(r=t._path(0,u))):(q=o.axisX[0],r=[],u=t.translate(u),s=q.tickPositions,q.autoConnect&&(s=s.concat([s[0]])),c&&(s=[].concat(s).reverse()),co(s,function(b,d){p=q._position(b,u),r.push(d?"L":"M",p.x,p.y)})),r},_titlePos:function(){var f=this,j=f.center,g=cq[f.chart.guid],h=f.options.title;return{x:g.plotLeft+j[0]+(h.x||0),y:g.plotTop+j[1]-{high:0.5,middle:0.25,low:0}[h.align]*j[2]+(h.y||0)}}};cd.polarline=bY(cd.line,{seriesType:"polarline",enablePolarLayout:!0}),ce.polarline=cg(ce.line,ce.polarline),cd.polararea=bY(cd.area,{seriesType:"polararea",enablePolarLayout:!0}),ce.polararea=cg(ce.area,ce.polararea),cd.polarbar=bY(cd.bar,{seriesType:"polarbar",enablePolarLayout:!0}),ce.polarbar=cg(ce.bar,ce.polarbar,{pointRange:0}),cd.polarspline=bY(cd.spline,{seriesType:"polarspline",enablePolarLayout:!0}),ce.polarspline=cg(ce.spline,ce.polarspline),cd.polarsplinearea=bY(cd.splinearea,{seriesType:"polarsplinearea",enablePolarLayout:!0}),ce.polarsplinearea=cg(ce.splinearea,ce.polarsplinearea),cd.polarscatter=bY(cd.scatter,{seriesType:"polarscatter",enablePolarLayout:!0}),ce.polarscatter=cg(ce.scatter,ce.polarscatter),cY(bk,"init",function(G,A,B){var D,v,h,e,J,C,F=this,E=cq[A.guid],y=E.angular,b=E.enablePolarLayout,z=B.isX,I=y&&z,H=A.options,x=B.pane||0;y?(cf(F,I?dn:bz),D=!z,D&&(F.defaultRadialOptions=bG.radialGauge)):b&&(cf(F,bz),D=z,F.defaultRadialOptions=z?bG.radialX:cg(bB.y,bG.radialY)),G.call(F,A,B),I||!y&&!b||(e=F.options,E.panes||(E.panes=[]),F.pane=E.panes[x]=J=new a0(bd(H.pane)[x],A,F),C=J.options,E.inverted=!1,H.zoomType=null,F.startAngleRad=v=(C.startAngle-90)*bX/180,F.endAngleRad=h=(cp(C.endAngle,C.startAngle+360)-90)*bX/180,F.offset=e.offset||0,F.isCircular=D,D&&B.max===cm&&h-v===2*bX&&(F.autoConnect=!0))}),cY(bp,"_position",function(m,l,h,k,j){var g=this.axis;return g._position?g._position(h):m.call(this,l,h,k,j)}),cY(bp,"_labelPos",function(s,u,q,y,r,B,n,b,t){var x,A=this.axis,w=B.y,v=B.align,z=(A.translate(this.pos)+A.startAngleRad+bX/2)/bX*180;return A.radial?(x=A._position(this.pos,A.center[2]/2+cp(B.distance,-25)),"auto"===B.textAngle?y.attr({textAngle:z}):null===w&&(w=0.9*b7(y.styles.lineHeight)-y.getBBox().height/2),null===v&&(v=A.isCircular?z>20&&160>z?"left":z>200&&340>z?"right":"center":"center",y.attr({align:v})),x.x+=B.x,x.y+=w):x=s.call(this,u,q,y,r,B,n,b,t),x}),cY(bp,"_markPath",function(n,q,p,o,m,l,k){var t,s,r=this.axis;return r.radial?(t=r._position(this.pos,r.center[2]/2+o),s=["M",q,p,"L",t.x,t.y]):s=n.call(this,q,p,o,m,l,k),s}),ce.rangearea=cg(ce.area,{drawWidth:1,pointMark:null,baseValue:null,tooltipSettings:{customPointText:'<span style="color:{point.dataSeries.color}">{point.dataSeries.collectionAlias}</span>: <b>{point.low}</b> - <b>{point.high}</b><br/>'},areaInteractivity:!0,dataPointText:{verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},shadow:!1});var bN=bY(dy,{setOptions:function(k,p){var e=this,q=e.dataSeries,o=q.pointArrayMap,n=0,m=0,l=o.length;if("object"==typeof k&&"number"!=typeof k.length){cf(e,k),e.options=k}else{if(k.length){for(k.length>l&&("string"==typeof k[0]?e.collectionAlias=k[0]:"number"==typeof k[0]&&(e.x=k[0]),n++);l>m;){e[o[m++]]=k[n++]}}}return e.y=e[q.pointValKey],e.x===cm&&q&&(e.x=p===cm?q.autoIncrement():p),e},toArray:function(){return[this.low,this.high]}});cd.rangearea=bY(cd.area,{seriesType:"rangearea",pointArrayMap:["low","high"],pointClass:bN,pointValKey:"low",translate:function(){var d=this,c=d.axisY;cd.area.prototype.translate.apply(d),co(d.points,function(b){null!==b.y&&(b.plotLow=b.plotY,b.plotHigh=c.translate(b.high,0,1,0,1))})},getSegmentPath:function(p){for(var r,o,s,t,v=this,n=[],m=p.length,l=bU.prototype.getSegmentPath,q=v.options,u=q.step;m--;){r=p[m],n.push({plotX:r.plotX,plotY:r.plotHigh})}return s=l.call(v,p),u&&(u===!0&&(u="left"),q.step={left:"right",center:"center",right:"left"}[u]),t=l.call(v,n),q.step=u,o=[].concat(s,t),t[0]="L",v.areaPath=v.areaPath.concat(s,t),o},drawDataLabels:function(){var q,s,p=this,o=p.data,n=o.length,m=[],l=bU.prototype,r=p.options.dataPointText,k=cq[p.chart.guid].inverted;if(r.enabled||p._hasPointLabels){for(q=n;q--;){s=o[q],s.y=s.high,s.plotY=s.plotHigh,m[q]=s.dataLabel,s.dataLabel=s.dataLabelUpper,s.below=!1,k?(r.align="left",r.x=r.xHigh):r.y=r.yHigh}for(l.drawDataLabels.apply(p,arguments),q=n;q--;){s=o[q],s.dataLabelUpper=s.dataLabel,s.dataLabel=m[q],s.y=s.low,s.plotY=s.plotLow,s.below=!0,k?(r.align="right",r.x=r.xLow):r.y=r.yLow}l.drawDataLabels.apply(p,arguments)}},alignDataLabel:cd.bar.prototype.alignDataLabel,getSymbol:cd.bar.prototype.getSymbol,drawPoints:cA}),ce.rangesplinearea=cg(ce.rangearea),cd.rangesplinearea=bY(cd.rangearea,{seriesType:"rangesplinearea",getPointSpline:cd.spline.prototype.getPointSpline}),ce.rangebar=cg(ce.bar,ce.rangearea,{drawWidth:1,pointRange:null}),cd.rangebar=bY(cd.rangearea,{seriesType:"rangebar",translate:function(){var e,c=this,f=c.axisY;bq.translate.apply(c),co(c.points,function(d){var g=d.shapeArgs;d.plotHigh=e=f.translate(d.high,0,1,0,1),d.plotLow=d.plotY,g.y=e,g.height=d.plotY-e,d.trackerArgs=g})},drawGraph:cA,pointAttrToOptions:bq.pointAttrToOptions,drawPoints:bq.drawPoints,drawTracker:bq.drawTracker,animate:bq.animate});var bw=bU.prototype,a6=aN.prototype;bw.toXY=function(h){var n,m=this,l=cq[m.chart.guid],k=h.plotX,j=h.plotY;h.rectPlotX=k,h.rectPlotY=j,h.deg=k/bX*180,n=m.axisX.postTranslate(h.plotX,m.axisY.len-j),h.plotX=h.polarPlotX=n.x-l.plotLeft,h.plotY=h.polarPlotY=n.y-l.plotTop},cY(cd.area.prototype,"init",be),cY(cd.splinearea.prototype,"init",be),cY(cd.spline.prototype,"getPointSpline",function(I,R,N,J){var K,W,V,U,S,m,D,C,v,Q,M,L,P,G,F,E,B,T,O=1.5,H=O+1;return cq[this.chart.guid].enablePolarLayout?(W=N.plotX,V=N.plotY,U=R[J-1],S=R[J+1],this.connectEnds&&(U||(U=R[R.length-2]),S||(S=R[1])),U&&S&&(m=U.plotX,D=U.plotY,C=S.plotX,v=S.plotY,Q=(O*W+m)/H,M=(O*V+D)/H,L=(O*W+C)/H,P=(O*V+v)/H,G=b8.sqrt(b8.pow(Q-W,2)+b8.pow(M-V,2)),F=b8.sqrt(b8.pow(L-W,2)+b8.pow(P-V,2)),E=b8.atan2(M-V,Q-W),B=b8.atan2(P-V,L-W),T=bX/2+(E+B)/2,cL(E-T)>bX/2&&(T-=bX),Q=W+c0(T)*G,M=V+cR(T)*G,L=W+c0(bX+T)*F,P=V+cR(bX+T)*F,N.rightContX=L,N.rightContY=P),J?(K=["C",U.rightContX||U.plotX,U.rightContY||U.plotY,Q||W,M||V,W,V],U.rightContX=U.rightContY=null):K=["M",W,V]):K=I.call(this,R,N,J),K}),cY(bw,"translate",function(g){var f=this;if(g.call(f),cq[f.chart.guid].enablePolarLayout&&!f.preventPostTranslate){for(var j=f.points,h=j.length;h--;){f.toXY(j[h])}}}),cY(bw,"getSegmentPath",function(g,f){var j=this,h=j.points;return cq[j.chart.guid].enablePolarLayout&&j.options.connectEnds!==!1&&f[f.length-1]===h[h.length-1]&&null!==h[0].y&&(j.connectEnds=!0,f=[].concat(f,[h[0]])),g.call(j,f)}),cY(bw,"animate",bs),cY(bq,"animate",bs),cY(bw,"setTooltipPoints",function(g,f){var e=this;return cq[e.chart.guid].enablePolarLayout&&cf(e.axisX,{tooltipLen:360,tooltipPosName:"deg"}),g.call(e,f)}),cY(bq,"translate",function(o){var s,u,w,t,v=this,r=v.axisX,q=v.axisY.len,p=r.center,n=r.startAngleRad,b=cq[v.chart.guid].renderer;if(v.preventPostTranslate=!0,o.call(v),r.radial){for(u=v.points,t=u.length;t--;){w=u[t],s=w.barX+n,w.shapeType="path",w.shapeArgs={d:b.symbols.arc(p[0],p[1],q-w.plotY,null,{start:s,end:s+w.dataPointWidth,innerR:q-cp(w.yBottom,q)})},v.toXY(w)}}}),cY(bq,"alignDataLabel",function(l,s,q,t,p,o){var r=this;if(cq[r.chart.guid].enablePolarLayout){var n,m,u=s.rectPlotX/bX*180;null===t.align&&(n=u>20&&160>u?"left":u>200&&340>u?"right":"center",t.align=n),null===t.verticalAlign&&(m=45>u||u>315?"bottom":u>135&&225>u?"top":"middle",t.verticalAlign=m),bw.alignDataLabel.call(r,s,q,t,p,o)}else{l.call(r,s,q,t,p,o)}}),cY(a6,"_index",function(k,q){var p,o,n,m,l=this,g=cq[l.chart.guid];return g.enablePolarLayout?(o=g.axisX[0].center,n=q.chartX-o[0]-g.plotLeft,m=q.chartY-o[1]-g.plotTop,p=180-cj(b8.atan2(n,m)/bX*180)):p=k.call(l,q),p}),cY(a6,"_coord",function(g,j){var c=cq[this.chart.guid],h={axisX:[],axisY:[]};return c.enablePolarLayout?co(c.axes,function(b){var l=b.isXAxis,k=b.center,e=j.chartX-k[0]-c.plotLeft,d=j.chartY-k[1]-c.plotTop;h[l?"axisX":"axisY"].push({axis:b,value:b.translate(l?bX-b8.atan2(e,d):b8.sqrt(b8.pow(e,2)+b8.pow(d,2)),!0)})}):h=g.call(this,j),h})}(jQuery,shield,this),function(b){b.ui.Chart.themes.bootstrap={seriesPalette:["#428BCA","#F0AD4E","#5CB85C","#D9534F","#5BC0DE","#474949","#84B3DC","#DDC01A","#878989","#DFF0D8"],primaryHeader:{style:{color:"#333333"}},secondaryHeader:{style:{color:"#333333"}},backgroundColor:"",borderWidth:0,chartAreaBackgroundColor:"",chartAreaShadow:!1,chartAreaBorderWidth:0,seriesSettings:{scatter:{activeSettings:{pointHoveredState:{drawWidth:4}},pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:null,activeSettings:{pointHoveredState:{innerColor:"#FFFFFF"}}}},area:{drawWidth:2,pointMark:{enabled:!1,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#FFFFFF",activeSettings:{pointHoveredState:{innerColor:null}}}},splinearea:{drawWidth:2,pointMark:{enabled:!1,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#FFFFFF",activeSettings:{pointHoveredState:{innerColor:null}}}},line:{drawWidth:3,shadow:!1,mouseInteractions:!0,pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#FFFFFF",activeSettings:{pointHoveredState:{innerColor:null}}}},spline:{drawWidth:3,shadow:!1,activeSettings:{pointHoveredState:{drawWidth:4}},pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#FFFFFF",activeSettings:{pointHoveredState:{innerColor:null}}}},pie:{dataPointText:{style:{color:"#333333"}}},donut:{dataPointText:{style:{color:"#333333"}}}},axisX:{drawWidth:1,drawColor:"#888888",ticksColor:"#888888",axisTickText:{style:{color:"#333333"},y:17},title:{style:{color:"#333333"}}},axisY:{drawColor:"#888888",ticksColor:"#888888",plotStripColor:"#888888",axisTickText:{style:{color:"#333333"}},title:{style:{color:"#333333"}}},chartLegend:{legendItemSettings:{elementStyle:{color:"#333333"},mouseOverStyle:{color:"#000"},disabledStyle:{color:"#aaaaaa"}}}}}(shield),function(b){b.ui.Chart.themes.dark={seriesPalette:["#1E97E3","#FF8000","#00FF9C","#FF2A00","#FFC500","#C9C9C9","#FC2150","#0077C6","#99c900","#cc6e38"],primaryHeader:{style:{color:"#FFFFFF"}},secondaryHeader:{style:{color:"#F2F2F2"}},backgroundColor:"#2D2D2D",borderWidth:0,chartAreaBackgroundColor:"#2D2D2D",chartAreaShadow:!1,chartAreaBorderWidth:0,seriesSettings:{scatter:{activeSettings:{pointHoveredState:{drawWidth:4}},pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{innerColor:null}}}},area:{drawWidth:2,pointMark:{enabled:!1,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{enabled:!1,drawRadius:4}}}},splinearea:{drawWidth:2,pointMark:{enabled:!1,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{innerColor:null}}}},line:{drawWidth:3,shadow:!1,mouseInteractions:!0,pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{innerColor:null}}}},spline:{drawWidth:3,shadow:!1,activeSettings:{pointHoveredState:{drawWidth:4}},pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{innerColor:null}}}},pie:{dataPointText:{style:{color:"#7E7E7E"}}},donut:{dataPointText:{style:{color:"#7E7E7E"}}}},axisX:{drawColor:"#7E7E7E",ticksColor:"#7E7E7E",axisTickText:{style:{color:"#7E7E7E"},y:17},title:{style:{color:"#7E7E7E"}}},axisY:{drawColor:"#7E7E7E",ticksColor:"#7E7E7E",plotStripColor:"#7E7E7E",plotStripDashStyle:"LongDash",axisTickText:{style:{color:"#7E7E7E"}},title:{style:{color:"#7E7E7E"}}},chartLegend:{legendItemSettings:{elementStyle:{color:"#A5A5A5"},mouseOverStyle:{color:"#FFFFFF"},disabledStyle:{color:"#7E7E7E"}}}}}(shield);!function(aU,a5,aI,aF){var aW=a5.ui.Widget,bb=a5.Constants,ar=a5.Class,a2=document,ax=bb.SVG_NS,a4=!!a2.createElementNS&&!!a2.createElementNS(ax,"svg").createSVGRect,av=aU.map,a7=a5.to["int"],aX=a5.error,aq="CODABAR",ap="CODE-11",aT="CODE-39",aS="CODE-93",aR="CODE-128",aQ="CODE-128-A",aP="CODE-128-B",aO="CODE-128-C",aN="CODE-25-STANDARD",aM="CODE-25-INTERLEAVED",aL="EAN-8",aK="EAN-13",aJ="UPC-A",aC="UPC-E",aB="MSI-10",aA="MSI-10-10",az="MSI-11",ao="MSI-11-10",aD="POSTNET",a8={types:[],addType:function(b){this.types[b.prototype.type]=b},byType:function(b){return this.types[b]?new this.types[b]:null}},a6=ar.extend({type:null,validateRegExp:null,validate:function(b){return this.validateRegExp?new RegExp(this.validateRegExp).test(b):!0},encode:null,checksum:null}),aG=a6.extend({type:ap,validateRegExp:"^[\\d\\-]+$",encode:function(g,j){j&&(g+=this.checksum(g)),g="*"+g+"*";var f,k="",h={0:"101011",1:"1101011",2:"1001011",3:"1100101",4:"1011011",5:"1101101",6:"1001101",7:"1010011",8:"1101001",9:"110101","-":"101101","*":"1011001"};for(f=0;f<g.length;f++){k.length>0&&(k+="0"),k+=h[g.charAt(f)]}return[k]},checksum:function(d){var c=this._checksum(d,10,11);return d.length>10&&(c+=this._checksum(d+c,9,11)+""),c},_checksum:function(l,j,h){var b,k=0,m=1;for(b=l.length-1;b>=0;b--){k+=m*("-"==l.charAt(b)?10:a7(l.charAt(b))),m=m>=j?1:m+1}return k%h+""}});a8.addType(aG);var a3=a6.extend({type:aK,validateRegExp:"^[\\d]{12}$",encodingTable:{0:{lo:"0001101",le:"0100111",r:"1110010"},1:{lo:"0011001",le:"0110011",r:"1100110"},2:{lo:"0010011",le:"0011011",r:"1101100"},3:{lo:"0111101",le:"0100001",r:"1000010"},4:{lo:"0100011",le:"0011101",r:"1011100"},5:{lo:"0110001",le:"0111001",r:"1001110"},6:{lo:"0101111",le:"0000101",r:"1010000"},7:{lo:"0111011",le:"0010001",r:"1000100"},8:{lo:"0110111",le:"0001001",r:"1001000"},9:{lo:"0001011",le:"0010111",r:"1110100"}},parityTable:{0:["lo","lo","lo","lo","lo","lo"],1:["lo","lo","le","lo","le","le"],2:["lo","lo","le","le","lo","le"],3:["lo","lo","le","le","le","lo"],4:["lo","le","lo","lo","le","le"],5:["lo","le","le","lo","lo","le"],6:["lo","le","le","le","lo","lo"],7:["lo","le","lo","le","lo","le"],8:["lo","le","lo","le","le","lo"],9:["lo","le","le","lo","le","lo"]},encode:function(s,n){n&&(s+=this.checksum(s));var u,m=s.substring(0,1),o=s.substring(1,7),q=s.substring(7),t="",r=[],v=0,p=this.encodingTable,l=this.parityTable;for(t+="101",r.push(0,1,2),u=0;u<o.length;u++){t+=p[o.charAt(u)][l[m][u]]}for(t+="01010",v=t.length,r.push(v-5,v-4,v-3,v-2,v-1),u=0;u<q.length;u++){t+=p[q.charAt(u)].r}return t+="101",v=t.length,r.push(v-3,v-2,v-1),[t,r]},checksum:function(h){var b,g=0,f=1;for(b=h.length-1;b>=0;b--){g+=a7(h.charAt(b))*(f++%2?3:1)}return 10-g%10+""}});a8.addType(a3);var af=a3.extend({type:aL,validateRegExp:"^[\\d]{7}$",encode:function(o,j){j&&(o+=this.checksum(o));var q,m=o.substring(0,4),l=o.substring(4),p="",n=[],r=0,k=this.encodingTable;this.parityTable;for(p+="101",n.push(0,1,2),q=0;q<m.length;q++){p+=k[m.charAt(q)].lo}for(p+="01010",r=p.length,n.push(r-5,r-4,r-3,r-2,r-1),q=0;q<l.length;q++){p+=k[l.charAt(q)].r}return p+="101",r=p.length,n.push(r-3,r-2,r-1),[p,n]}});a8.addType(af);var aV=a3.extend({type:aJ,validateRegExp:"^\\d{11}$",encode:function(h,g){var e=a3.prototype.encode.call(this,"0"+h,g),f=e[0].length;return e[1].push(3,4,5,6,7,8,9,f-4,f-5,f-6,f-7,f-8,f-9,f-10),e},checksum:function(b){return 11==b.length&&(b="0"+b),a3.prototype.checksum.call(this,b)}});a8.addType(aV);var al=aV.extend({type:aC,validateRegExp:"^[0|1]\\d{6}$",_upce2upca:function(d){var c=d.substring(d.length-1);return"0"==c||"1"==c||"2"==c?d.substring(0,2)+d.charAt(5)+"0000"+d.substring(2,5):"3"==c?d.substring(0,3)+"00000"+d.substring(4,6):"4"==c?d.substring(0,4)+"00000"+d.charAt(4):d.substring(0,5)+"0000"+c},encode:function(q,b){var r,n=this.checksum(q),p="",m=q.charAt(0),o=q.substring(1),l=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],k=l[a7(n)][a7(m)];for(r=0;r<o.length;r++){p+=this.encodingTable[o.charAt(r)]["O"==k.charAt(r)?"lo":"le"]}return["101"+p+"010101",[0,1,2,45,46,47,48,49,50]]},checksum:function(e){var d=e.charAt(0),f=e.substring(1);return aV.prototype.checksum.call(this,d+this._upce2upca(f))}});a8.addType(al);var an=a6.extend({type:aT,validateRegExp:"^[0-9A-Z\\-\\. \\$\\/\\+\\%\\*]+$",encode:function(g,j){j&&(g+=this.checksum(g)),g="*"+g+"*";var f,k="",h={0:"101001101101",1:"110100101011",2:"101100101011",3:"110110010101",4:"101001101011",5:"110100110101",6:"101100110101",7:"101001011011",8:"110100101101",9:"101100101101",A:"110101001011",B:"101101001011",C:"110110100101",D:"101011001011",E:"110101100101",F:"101101100101",G:"101010011011",H:"110101001101",I:"101101001101",J:"101011001101",K:"110101010011",L:"101101010011",M:"110110101001",N:"101011010011",O:"110101101001",P:"101101101001",Q:"101010110011",R:"110101011001",S:"101101011001",T:"101011011001",U:"110010101011",V:"100110101011",W:"110011010101",X:"100101101011",Y:"110010110101",Z:"100110110101","-":"100101011011",".":"110010101101"," ":"100110101101",$:"100100100101","/":"100100101001","+":"100101001001","%":"101001001001","*":"100101101101"};for(f=0;f<g.length;f++){f>0&&(k+="0"),k+=h[g.charAt(f)]}return[k]},checksum:function(e){var f,h="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%*",g=0;for(f=0;f<e.length;f++){g+=h.indexOf(e.charAt(f))}return h.charAt(g%43)}});a8.addType(an);var ad=a6.extend({type:aS,validateRegExp:"^[0-9A-Z\\-\\. \\$\\/\\+\\%\\*]+$",encode:function(g,j){j&&(g+=this.checksum(g)),g="*"+g+"*";var f,k="",h={0:"100010100",1:"101001000",2:"101000100",3:"101000010",4:"100101000",5:"100100100",6:"100100010",7:"101010000",8:"100010010",9:"100001010",A:"110101000",B:"110100100",C:"110100010",D:"110010100",E:"110010010",F:"110001010",G:"101101000",H:"101100100",I:"101100010",J:"100110100",K:"100011010",L:"101011000",M:"101001100",N:"101000110",O:"100101100",P:"100010110",Q:"110110100",R:"110110010",S:"110101100",T:"110100110",U:"110010110",V:"110011010",W:"101101100",X:"101100110",Y:"100110110",Z:"100111010","-":"100101110",".":"111010100"," ":"111010010",$:"111001010","/":"101101110","+":"101110110","%":"110101110","@":"100100110","#":"111011010","&":"111010110","~":"100110010","*":"101011110"};for(f=0;f<g.length;f++){k+=h[g.charAt(f)]}return k+="1",[k]},checksum:function(d){var c=d.length;return d+=this._checksum(d,20,47),d+=this._checksum(d,15,47),d.substring(c,c+2)},_checksum:function(q,m,l){var p,k,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%@#&~*",n=0,j=1;for(k=q.length-1;k>=0;k--){p=o.indexOf(q.charAt(k)),n+=p*j++,j>m&&(j=1)}return o.charAt(n%l)}});a8.addType(ad);var am=a6.extend({type:aD,validate:function(b){return/^\d+$/.test(b)&&(5==b.length||9==b.length||11==b.length)},encode:function(g,j){j&&(g+=this.checksum(g));var f,k="",h=["11000","00011","00101","00110","01001","01010","01100","10001","10010","10100"];for(f=0;f<g.length;f++){k+=h[g.charAt(f)]}return["1"+k+"1"]},checksum:function(f){var b,e=0;for(b=0;b<f.length;b++){e+=a7(f.charAt(b))}return 10-e%10+""}});a8.addType(am);var a1=a6.extend({validateRegExp:"^\\d+$",encode:function(g,j){j&&(g+=this.checksum(g));var f,k="",h=["100100100100","100100100110","100100110100","100100110110","100110100100","100110100110","100110110100","100110110110","110100100100","110100100110"];for(f=0;f<g.length;f++){k+=h[g.charAt(f)]}return["110"+k+"1001"]},_mod10Checksum:function(h){var k,j=0,g=0;for(k=h.length-1;k>=0;k--){var b=a7(h.charAt(k))*(g%2?1:2);b>9?(b+="",j+=a7(b.charAt(0))+a7(b.charAt(1))):j+=b,g++}return 9*j%10+""},_mod11Checksum:function(g){var b,f=0,h=2;for(b=g.length-1;b>=0;b--){f+=a7(g.charAt(b))*h,h=h>=7?2:h+1}return 11-f%11+""}}),ak=a1.extend({type:aB,checksum:function(b){return this._mod10Checksum(b)}});a8.addType(ak);var aj=a1.extend({type:aA,checksum:function(d){var c=this._mod10Checksum(d);return c+this._mod10Checksum(d+c)}});a8.addType(aj);var ai=a1.extend({type:az,checksum:function(b){return this._mod11Checksum(b)}});a8.addType(ai);var ah=a1.extend({type:ao,checksum:function(d){var c=this._mod11Checksum(d);return c+this._mod10Checksum(d+c)}});a8.addType(ah);var ag=a6.extend({type:aq,validateRegExp:"^[A|B|C|D][\\d\\-\\$\\:\\/\\.\\+]+[A|B|C|D]$",encode:function(k,h){var g,f="",j={0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"101100110011",A:"1011001001",B:"1010010011",C:"1001001011",D:"1010011001"};for(g=0;g<k.length;g++){g>0&&(f+="0"),f+=j[k.charAt(g)]}return[f]},checksum:function(b){return""}});a8.addType(ag);var a0=a6.extend({type:aR,encodingTable:[{A:" ",B:" ",C:"00",E:"11011001100"},{A:"!",B:"!",C:"01",E:"11001101100"},{A:'"',B:'"',C:"02",E:"11001100110"},{A:"#",B:"#",C:"03",E:"10010011000"},{A:"$",B:"$",C:"04",E:"10010001100"},{A:"%",B:"%",C:"05",E:"10001001100"},{A:"&",B:"&",C:"06",E:"10011001000"},{A:"'",B:"'",C:"07",E:"10011000100"},{A:"(",B:"(",C:"08",E:"10001100100"},{A:")",B:")",C:"09",E:"11001001000"},{A:"*",B:"*",C:"10",E:"11001000100"},{A:"+",B:"+",C:"11",E:"11000100100"},{A:",",B:",",C:"12",E:"10110011100"},{A:"-",B:"-",C:"13",E:"10011011100"},{A:".",B:".",C:"14",E:"10011001110"},{A:"/",B:"/",C:"15",E:"10111001100"},{A:"0",B:"0",C:"16",E:"10011101100"},{A:"1",B:"1",C:"17",E:"10011100110"},{A:"2",B:"2",C:"18",E:"11001110010"},{A:"3",B:"3",C:"19",E:"11001011100"},{A:"4",B:"4",C:"20",E:"11001001110"},{A:"5",B:"5",C:"21",E:"11011100100"},{A:"6",B:"6",C:"22",E:"11001110100"},{A:"7",B:"7",C:"23",E:"11101101110"},{A:"8",B:"8",C:"24",E:"11101001100"},{A:"9",B:"9",C:"25",E:"11100101100"},{A:":",B:":",C:"26",E:"11100100110"},{A:";",B:";",C:"27",E:"11101100100"},{A:"<",B:"<",C:"28",E:"11100110100"},{A:"=",B:"=",C:"29",E:"11100110010"},{A:">",B:">",C:"30",E:"11011011000"},{A:"?",B:"?",C:"31",E:"11011000110"},{A:"@",B:"@",C:"32",E:"11000110110"},{A:"A",B:"A",C:"33",E:"10100011000"},{A:"B",B:"B",C:"34",E:"10001011000"},{A:"C",B:"C",C:"35",E:"10001000110"},{A:"D",B:"D",C:"36",E:"10110001000"},{A:"E",B:"E",C:"37",E:"10001101000"},{A:"F",B:"F",C:"38",E:"10001100010"},{A:"G",B:"G",C:"39",E:"11010001000"},{A:"H",B:"H",C:"40",E:"11000101000"},{A:"I",B:"I",C:"41",E:"11000100010"},{A:"J",B:"J",C:"42",E:"10110111000"},{A:"K",B:"K",C:"43",E:"10110001110"},{A:"L",B:"L",C:"44",E:"10001101110"},{A:"M",B:"M",C:"45",E:"10111011000"},{A:"N",B:"N",C:"46",E:"10111000110"},{A:"O",B:"O",C:"47",E:"10001110110"},{A:"P",B:"P",C:"48",E:"11101110110"},{A:"Q",B:"Q",C:"49",E:"11010001110"},{A:"R",B:"R",C:"50",E:"11000101110"},{A:"S",B:"S",C:"51",E:"11011101000"},{A:"T",B:"T",C:"52",E:"11011100010"},{A:"U",B:"U",C:"53",E:"11011101110"},{A:"V",B:"V",C:"54",E:"11101011000"},{A:"W",B:"W",C:"55",E:"11101000110"},{A:"X",B:"X",C:"56",E:"11100010110"},{A:"Y",B:"Y",C:"57",E:"11101101000"},{A:"Z",B:"Z",C:"58",E:"11101100010"},{A:"[",B:"[",C:"59",E:"11100011010"},{A:"\\",B:"\\",C:"60",E:"11101111010"},{A:"]",B:"]",C:"61",E:"11001000010"},{A:"^",B:"^",C:"62",E:"11110001010"},{A:"_",B:"_",C:"63",E:"10100110000"},{A:"NUL",B:"`",C:"64",E:"10100001100"},{A:"SOH",B:"a",C:"65",E:"10010110000"},{A:"STX",B:"b",C:"66",E:"10010000110"},{A:"ETX",B:"c",C:"67",E:"10000101100"},{A:"EOT",B:"d",C:"68",E:"10000100110"},{A:"ENQ",B:"e",C:"69",E:"10110010000"},{A:"ACK",B:"f",C:"70",E:"10110000100"},{A:"BEL",B:"g",C:"71",E:"10011010000"},{A:"BS",B:"h",C:"72",E:"10011000010"},{A:"HT",B:"i",C:"73",E:"10000110100"},{A:"LF",B:"j",C:"74",E:"10000110010"},{A:"VT",B:"k",C:"75",E:"11000010010"},{A:"FF",B:"l",C:"76",E:"11001010000"},{A:"CR",B:"m",C:"77",E:"11110111010"},{A:"SO",B:"n",C:"78",E:"11000010100"},{A:"SI",B:"o",C:"79",E:"10001111010"},{A:"DLE",B:"p",C:"80",E:"10100111100"},{A:"DC1",B:"q",C:"81",E:"10010111100"},{A:"DC2",B:"r",C:"82",E:"10010011110"},{A:"DC3",B:"s",C:"83",E:"10111100100"},{A:"DC4",B:"t",C:"84",E:"10011110100"},{A:"NAK",B:"u",C:"85",E:"10011110010"},{A:"SYN",B:"v",C:"86",E:"11110100100"},{A:"ETB",B:"w",C:"87",E:"11110010100"},{A:"CAN",B:"x",C:"88",E:"11110010010"},{A:"EM",B:"y",C:"89",E:"11011011110"},{A:"SUB",B:"z",C:"90",E:"11011110110"},{A:"ESC",B:"{",C:"91",E:"11110110110"},{A:"FS",B:"|",C:"92",E:"10101111000"},{A:"GS",B:"}",C:"93",E:"10100011110"},{A:"RS",B:"~",C:"94",E:"10001011110"},{A:"US",B:"DEL",C:"95",E:"10111101000"},{A:"FNC3",B:"FNC3",C:"96",E:"10111100010"},{A:"FNC2",B:"FNC2",C:"97",E:"11110101000"},{A:"SHIFT",B:"SHIFT",C:"98",E:"11110100010"},{A:"CodeC",B:"CodeC",C:"99",E:"10111011110"},{A:"CodeB",B:"FNC4",C:"CodeB",E:"10111101110"},{A:"FNC4",B:"CodeA",C:"CodeA",E:"11101011110"},{A:"FNC1",B:"FNC1",C:"FNC1",E:"11110101110"},{A:"StartA",B:"StartA",C:"StartA",E:"11010000100"},{A:"StartB",B:"StartB",C:"StartB",E:"11010010000"},{A:"StartC",B:"StartC",C:"StartC",E:"11010011100"},{A:"Stop",B:"Stop",C:"Stop",E:"11000111010"}],validate:function(c){for(var d=0;d<c.length;d++){if(!this._getEncInfo(c.charAt(d))){return !1}}return !0},_encode:function(l,q){q=q||!1;var p=this,r=[],o=p._findPrefix(l),n=o[0][0],k=o[1],m=o[2],j=q?"Start"+n:"Code"+n;return r=r.concat(p._encodeCodeset(k,j,n)),m&&m.length>0&&(r=r.concat(p._encode(m,!1))),r&&r.length>0&&(r[0]=r[0].replace("Code","Start")),r},_findPrefix:function(m){var k,o,h,n=this,l="",j="";for(o=0;o<m.length;o++){if(h=m.charAt(o),0!==o){if(k=j,n._getEncInfo(h,"A")||(j=j.replace("A","")),n._getEncInfo(h,"B")||(j=j.replace("B","")),n._getEncInfo(h,"C")||(j=j.replace("C","")),j.length<=0){return[k.split(""),l,m.substring(o)]}l+=h}else{n._getEncInfo(h,"A")&&(j+="A"),n._getEncInfo(h,"B")&&(j+="B"),n._getEncInfo(h,"C")&&(j+="C"),l+=h}}return[j.split(""),m,""]},_encodeOptimized:function(f){var d=this,e=d._encode(f,!0);return e=d._optimizeForC(e),e=d._optimizeShifts(e),e&&e.length>0&&(e[0]=e[0].replace("Code","Start")),e},_optimizeForC:function(k){var o,n=this._splitOptimizeForC(k),m=n[0],h=n[1],l=n[2],j=[];if(m&&m.length>0&&(j=j.concat(m)),h&&h.length>0){for(j.push(h[0]),o=1;o<h.length;o+=2){j.push(h[o]+""+h[o+1])}}return l&&l.length>0&&(j=j.concat(this._optimizeForC(l))),j},_splitOptimizeForC:function(t){if(!t||t.length<=0){return[[],[],[]]}if(!/^(Code|Start)[A|B|C]$/.test(t[0])){return[t,[],[]]}if(3==t.length&&/^\d$/.test(t[1])&&/^\d$/.test(t[2])){return[[],["CodeC",t[1],t[2]],[]]}var s,m,p,n,l=[],o=[],k=[],r=-1,q=-1;for(s=0;s<t.length;s++){if(/^(Code|Start)[A|B|C]$/.test(t[s])&&(m=t[s].substring(t[s].length-1)),/^\d$/.test(t[s])&&-1==r&&(r=s,q=-1),r>-1&&!/^\d$/.test(t[s])&&(q=s-1),r>-1&&s>=t.length-1&&(q=s),r>-1&&q>-1){if(n=q-r+1,n>=4){return l=1==r?[]:t.slice(0,r),o=["CodeC"],p=q+(n%2===0?1:0),o=o.concat(t.slice(r,p)),p<t.length&&(k=["Code"+m].concat(t.slice(p))),[l,o,k]}r=q=-1}}return[t,[],[]]},_optimizeShifts:function(b){return b},_encodeCodeset:function(f,e,h){var g=this;return"A"==h?g._encodeA(f,e):"B"==h?g._encodeB(f,e):"C"==h?g._encodeC(f,e):null},_encodeA:function(d,c){return[c].concat(d.split(""))},_encodeB:function(d,c){return[c].concat(d.split(""))},_encodeC:function(e,g){var f,h=[g];for(f=0;f<e.length;f+=2){h.push(e.charAt(f)+e.charAt(f+1))}return h},_getEncInfo:function(j,g){g=g||null;var k,b,h=this.encodingTable;for(b=0;b<h.length;b++){if(g){if(h[b][g]==j){return k=h[b],k.pos=b,k}if("100"==j||"101"==j||"102"==j){return k=h[a7(j)],k.pos=b,k}}else{if(h[b].A==j||h[b].B==j||h[b].C==j){return k=h[b],k.pos=b,k}}}return null},encode:function(o,l){var k,q=this,p="",m=q.checksum(o),j=q._encodeOptimized(o),n=j[0].charAt(j[0].length-1);for(k=0;k<j.length;k++){p+=q._getEncInfo(j[k],n).E,/^(Start|Code)[A|B|C]$/.test(j[k])&&(n=j[k].charAt(j[k].length-1))}return p+=q._getEncInfo(m,"C").E+q.encodingTable[106].E+"11",[p]},checksum:function(j){var g,h,m=this,l=m._encodeOptimized(j),k=m._getEncInfo(l[0]).pos;for(h=1;h<l.length;h++){k+=m._getEncInfo(l[h]).pos*h}return g=k%103,g>10?g+"":"0"+g}});a8.addType(a0);var ae=a0.extend({type:aQ,validate:function(c){for(var d=0;d<c.length;d++){if(!this._getEncInfo(c.charAt(d),"A")){return !1}}return !0},_encodeOptimized:function(b){return this._encodeA(b,"StartA")}});a8.addType(ae);var ab=a0.extend({type:aP,validate:function(c){for(var d=0;d<c.length;d++){if(!this._getEncInfo(c.charAt(d),"B")){return !1}}return !0},_encodeOptimized:function(b){return this._encodeB(b,"StartB")}});a8.addType(ab);var ac=a0.extend({type:aO,validate:function(b){return/^\d+$/.test(b)&&b.length%2===0},_encodeOptimized:function(b){return this._encodeC(b,"StartC")}});a8.addType(ac);var au=a6.extend({type:aN,validateRegExp:"^[\\d\\-]+$",encode:function(g,j){j&&(g+=this.checksum(g)),g="["+g+"]";var f,k="",h={0:"10101110111010",1:"11101010101110",2:"10111010101110",3:"11101110101010",4:"10101110101110",5:"11101011101010",6:"10111011101010",7:"10101011101110",8:"11101010111010",9:"10111010111010","[":"11011010","]":"1101011"};for(f=0;f<g.length;f++){k+=h[g.charAt(f)]}return[k]},checksum:function(b){return this._checksum(b,3,1,10)},_checksum:function(n,p,j,m){var q,l,k="0123456789",r=0,o=p;for(q=n.length-1;q>=0;q--){l=k.indexOf(n.charAt(q)),r+=l*o,o=o==p?j:p}return r%=m,0!==r&&(r=m-r),k.charAt(r)}});a8.addType(au);var a9=au.extend({type:aM,encode:function(h,k){k&&(h+=this.checksum(h)),h.length%2!==0&&(h="0"+h),h="["+h+"]";var g,m,l="",j={"00":"10101100110010","01":"10010110110100","02":"10100110110100","03":"10010011011010","04":"10101100110100","05":"10010110011010","06":"10100110011010","07":"10101101100100","08":"10010110110010","09":"10100110110010",10:"11010100100110",11:"11001010101100",12:"11010010101100",13:"11001001010110",14:"11010100101100",15:"11001010010110",16:"11010010010110",17:"11010101001100",18:"11001010100110",19:"11010010100110",20:"10110100100110",21:"10011010101100",22:"10110010101100",23:"10011001010110",24:"10110100101100",25:"10011010010110",26:"10110010010110",27:"10110101001100",28:"10011010100110",29:"10110010100110",30:"11011010010010",31:"11001101010100",32:"11011001010100",33:"11001100101010",34:"11011010010100",35:"11001101001010",36:"11011001001010",37:"11011010100100",38:"11001101010010",39:"11011001010010",40:"10101100100110",41:"10010110101100",42:"10100110101100",43:"10010011010110",44:"10101100101100",45:"10010110010110",46:"10100110010110",47:"10101101001100",48:"10010110100110",49:"10100110100110",50:"11010110010010",51:"11001011010100",52:"11010011010100",53:"11001001101010",54:"11010110010100",55:"11001011001010",56:"11010011001010",57:"11010110100100",58:"11001011010010",59:"11010011010010",60:"10110110010010",61:"10011011010100",62:"10110011010100",63:"10011001101010",64:"10110110010100",65:"10011011001010",66:"10110011001010",67:"10110110100100",68:"10011011010010",69:"10110011010010",70:"10101001100110",71:"10010101101100",72:"10100101101100",73:"10010010110110",74:"10101001101100",75:"10010100110110",76:"10100100110110",77:"10101011001100",78:"10010101100110",79:"10100101100110",80:"11010100110010",81:"11001010110100",82:"11010010110100",83:"11001001011010",84:"11010100110100",85:"11001010011010",86:"11010010011010",87:"11010101100100",88:"11001010110010",89:"11010010110010",90:"10110100110010",91:"10011010110100",92:"10110010110100",93:"10011001011010",94:"10110100110100",95:"10011010011010",96:"10110010011010",97:"10110101100100",98:"10011010110010",99:"10110010110010","[":"1010","]":"1101"};for(g=0;g<h.length;g+=m){m=isNaN(h.charAt(g))?1:2,l+=j[h.substr(g,m)]}return[l]}});a8.addType(a9);for(var aZ={types:[],addType:function(b){this.types[b.prototype.type]=b},byType:function(d,c){return this.types[d]?new this.types[d](c):null}},at=ar.extend({type:null,init:function(e){var f=this,d=e.style;f.options=e,f.width=e.width-d.paddingLeft-d.paddingRight,f.height=e.height-d.paddingTop-d.paddingBottom,a4||a2.namespaces.scvbarcode||a2.namespaces.add("scvbarcode","urn:schemas-microsoft-com:vml","#default#VML")},all:function(q,r){var x=this,u=x.options,w=u.style,d=u.text,s=d.style,v="",p=function(b){return aU("<div/>").html(b).text()},t="",o=p(x.width>100?"&#68;&#101;&#109;&#111;&#32;&#86;&#101;&#114;&#115;&#105;&#111;&#110;":"&#68;&#101;&#109;&#111;"),e=p("&#104;&#116;&#116;&#112;&#58;&#47;&#47;&#119;&#119;&#119;&#46;&#115;&#104;&#105;&#101;&#108;&#100;&#117;&#105;&#46;&#99;&#111;&#109;");a5.guid();return w.paddingLeft&&(v+="margin-left:"+w.paddingLeft+"px;"),w.paddingTop&&(v+="margin-top:"+w.paddingTop+"px;"),w.paddingBottom&&(v+="margin-bottom:"+w.paddingBottom+"px;"),w.paddingRight&&(v+="margin-right:"+w.paddingRight+"px;"),t+=a4?'<text x="'+x.width+'" y="'+(x.height-s.paddingBottom)+'" fill="#999999" text-anchor="end" font-size="12" style="cursor:pointer; z-index:150; font-size:12px;" onClick="javascript: location.href = \''+e+"';\">"+o+"</text>":'<div style="position:absolute; width:'+(x.width+2)+"px; text-align:right; color:#999999; cursor:pointer; z-index:150; top:"+(u.height-12-s.paddingBottom)+'px; font-size:12px;"><a href="'+e+'" style="color:#999999; text-decoration:none; background-color:#fdfdfd; font-size:12px;">'+o+"</a></div>",a4?'<svg xmlns="'+ax+'" version="1.1" width="'+x.width+'" height="'+x.height+'" shape-rendering="crispEdges"'+(v?' style="'+v+'" ':"")+">"+q+r+t+"</svg>":'<scvbarcode:group style="position:relative; width:'+x.width+"px; height:"+x.height+"px; "+v+'" coordsize="'+x.width+","+x.height+'">'+q+r+t+"</scvbarcode:group>"},barcode:function(G){for(var F,P,N=this,e=N.options,B=e.style,A=N.options.text,L=A.style,K=G[0],J=G[1]||[],b=A.enabled?L.fontSize+L.paddingTop+L.paddingBottom:0,I=N.width/K.length,D=N.height-b-(J.length>0?5:0),x=D+5,H=[],O=0;O<K.length;O++){var z=K.charAt(O);if("1"==z){for(var y=O*I,C=D,M=0;M<J.length;M++){if(J[M]==O){C=x;break}}var E={x1:y,y1:0,x2:y,y2:C,w:I};1==a7(F)&&(P=H.pop(),E={x1:P.x1,y1:P.y1,x2:P.x2,y2:P.y2,w:P.w+I}),H.push(E)}F=z}return av(H,function(c){return a4?'<line x1="'+(c.x1+c.w/2)+'" y1="'+c.y1+'" x2="'+(c.x2+c.w/2)+'" y2="'+c.y2+'" style="stroke:'+B.color+"; stroke-width:"+c.w+'" />':'<scvbarcode:line from="'+(c.x1+c.w/2)+","+c.y1+'" to="'+(c.x2+c.w/2)+","+c.y2+'" strokecolor="'+B.color+'" strokeweight="'+c.w+'px;" stroke="true" />'}).join("")},text:function(j){var e=this,k=e.options.text,g=k.style,h=k.enabled?g.fontSize+g.paddingTop+g.paddingBottom:0;return k.enabled?a4?'<text x="'+e.width/2+'" y="'+(e.height-g.paddingBottom)+'" fill="'+g.color+'" text-anchor="middle" font-size="'+g.fontSize+'" font-family="'+g.fontFamily+';">'+j+"</text>":'<div style="position:absolute; width:'+e.width+"px; text-align:center; color:"+g.color+"; top:"+(e.options.height-h-g.paddingBottom)+"px; font-size:"+g.fontSize+"px; font-family:"+g.fontFamily+';">'+j+"</div>":""}}),ay=[aq,ap,aT,aS,aR,aQ,aP,aO,aL,aK,aJ,aC,aB,aA,az,ao,aN,aM],aY=0;aY<ay.length;aY++){aZ.addType(at.extend({type:ay[aY]}))}var aE=at.extend({type:"POSTNET",barcode:function(q){for(var B=this,p=B.options,w=p.style,x=B.options.text,z=x.style,y=q[0],r=x.enabled?z.fontSize+z.paddingTop+z.paddingBottom:0,v=B.width/(2*y.length-1),u=B.height-r,t=[],A=0;A<y.length;A++){var s=A*v*2,e="1"==y.charAt(A)?0:u/2;t.push({x1:s,y1:e,x2:s,y2:u,w:v})}return av(t,function(b){return a4?'<line x1="'+(b.x1+b.w/2)+'" y1="'+b.y1+'" x2="'+(b.x2+b.w/2)+'" y2="'+b.y2+'" style="stroke:'+w.color+"; stroke-width:"+b.w+'" />':'<scvbarcode:line from="'+(b.x1+b.w/2)+","+b.y1+'" to="'+(b.x2+b.w/2)+","+b.y2+'" strokecolor="'+w.color+'" strokeweight="'+b.w+'px;" stroke="true" />'}).join("")}});aZ.addType(aE);var aH={value:null,type:null,checksum:!0,width:300,height:100,style:{background:null,borderColor:null,borderStyle:null,borderWidth:0,color:"#000000",paddingTop:5,paddingLeft:5,paddingRight:5,paddingBottom:5},text:{enabled:!1,checksum:!1,style:{color:"#000000",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif",fontSize:13,paddingTop:2,paddingBottom:0}}},aw=aW.extend({init:function(){aW.fn.init.apply(this,arguments);var w,r,m,o=this,y=o.options,u=y.style,t=y.type,s=y.dieOnError,x=y.value+"",v=a8.byType(t),l=aU(o.element),j="";return v?v.validate(x)?(w=aZ.byType(t,y))?(l.css({background:u.background,borderColor:u.borderColor,borderStyle:u.borderStyle,borderWidth:u.borderWidth,width:y.width,height:y.height}),r=v.encode(x,y.checksum),m=w.barcode(r),y.text.enabled&&(j=w.text(x+(y.text.checksum?v.checksum(x):""))),void l.html(w.all(m,j))):void aX("Invalid barcode type (2)",s):void aX("Invalid barcode value: "+x,s):void aX("Invalid barcode type: "+t,s)},destroy:function(){this.element.empty(),aW.fn.destroy.call(this)}});aw.defaults=aH,a5.ui.plugin("Barcode",aw)}(jQuery,shield,this);!function(Y,aa,L,N){var R=aa.ui.Widget,I=aa.Constants,O=aa.Class,Z=document,J=I.SVG_NS,S=!!Z.createElementNS&&!!Z.createElementNS(J,"svg").createSVGRect,P=Y.map,ad=aa.to["int"],U=aa.error,ab=function(c){return ad(c,10).toString(2)},C=function(c){return ad(c,2)},ac=function(d,c){for(d+="";d.length<c;){d="0"+d}return d},M=function(d,c){for(d+="";d.length<c;){d+="0"}return d},Q="byte",X="numeric",W="alphanumeric",V={modes:[],addMode:function(b){this.modes[b.prototype.mode]=b},byMode:function(b){return this.modes[b]?new this.modes[b]:null}},T=O.extend({mode:null,codeMode:null,validateRegex:null,_verErrLenTable:{"1L":152,"1M":128,"1Q":104,"1H":72,"2L":272,"2M":224,"2Q":176,"2H":128,"3L":440,"3M":352,"3Q":272,"3H":208,"4L":640,"4M":512,"4Q":384,"4H":288,"5L":864,"5M":688,"5Q":496,"5H":368,"6L":1088,"6M":864,"6Q":608,"6H":480,"7L":1248,"7M":992,"7Q":704,"7H":528,"8L":1552,"8M":1232,"8Q":880,"8H":688,"9L":1856,"9M":1456,"9Q":1056,"9H":800,"10L":2192,"10M":1728,"10Q":1232,"10H":976,"11L":2592,"11M":2032,"11Q":1440,"11H":1120,"12L":2960,"12M":2320,"12Q":1648,"12H":1264,"13L":3424,"13M":2672,"13Q":1952,"13H":1440,"14L":3688,"14M":2920,"14Q":2088,"14H":1576,"15L":4184,"15M":3320,"15Q":2360,"15H":1784,"16L":4712,"16M":3624,"16Q":2600,"16H":2024,"17L":5176,"17M":4056,"17Q":2936,"17H":2264,"18L":5768,"18M":4504,"18Q":3176,"18H":2504,"19L":6360,"19M":5016,"19Q":3560,"19H":2728,"20L":6888,"20M":5352,"20Q":3880,"20H":3080,"21L":7456,"21M":5712,"21Q":4096,"21H":3248,"22L":8048,"22M":6256,"22Q":4544,"22H":3536,"23L":8752,"23M":6880,"23Q":4912,"23H":3712,"24L":9392,"24M":7312,"24Q":5312,"24H":4112,"25L":10208,"25M":8000,"25Q":5744,"25H":4304,"26L":10960,"26M":8496,"26Q":6032,"26H":4768,"27L":11744,"27M":9024,"27Q":6464,"27H":5024,"28L":12248,"28M":9544,"28Q":6968,"28H":5288,"29L":13048,"29M":10136,"29Q":7288,"29H":5608,"30L":13880,"30M":10984,"30Q":7880,"30H":5960,"31L":14744,"31M":11640,"31Q":8264,"31H":6344,"32L":15640,"32M":12328,"32Q":8920,"32H":6760,"33L":16568,"33M":13048,"33Q":9368,"33H":7208,"34L":17528,"34M":13800,"34Q":9848,"34H":7688,"35L":18448,"35M":14496,"35Q":10288,"35H":7888,"36L":19472,"36M":15312,"36Q":10832,"36H":8432,"37L":20528,"37M":15936,"37Q":11408,"37H":8768,"38L":21616,"38M":16816,"38Q":12016,"38H":9136,"39L":22496,"39M":17728,"39Q":12656,"39H":9776,"40L":23648,"40M":18672,"40Q":13328,"40H":10208},_errorCorrectionToMask:{L:"01",M:"00",Q:"11",H:"10"},_formatInformation:{"00000":"101010000010010","00001":"101000100100101","00010":"101111001111100","00011":"101101101001011","00100":"100010111111001","00101":"100000011001110","00110":"100111110010111","00111":"100101010100000","01000":"111011111000100","01001":"111001011110011","01010":"111110110101010","01011":"111100010011101","01100":"110011000101111","01101":"110001100011000","01110":"110110001000001","01111":"110100101110110",10000:"001011010001001",10001:"001001110111110",10010:"001110011100111",10011:"001100111010000",10100:"000011101100010",10101:"000001001010101",10110:"000110100001100",10111:"000100000111011",11000:"011010101011111",11001:"011000001101000",11010:"011111100110001",11011:"011101000000110",11100:"010010010110100",11101:"010000110000011",11110:"010111011011010",11111:"010101111101101"},validate:function(b){return this.validateRegex?new RegExp(this.validateRegex).test(b):!0},encode:function(ae,af){var B,r,x,s,ag=this,A=ag._getVersion(ae,af),q=4,w=21+4*(A-1),v=w+2*q,u=A+af,z=ag._getFormatData(ae,af),ah=ag.encodeValue(ae),y=ag._getDataLength(ae,af),t=y-(z.length+ah.length)>4?4:y-(z.length+ah.length);return ah=M(ah,ah.length+t),B=ag._getBinaryValues(z+ah),ah=B.join(""),ah=ag._padEncodedToLength(ah,y),B=ag._getBinaryValues(ah),x=ag._getIntegerValues(B),ah=ag._getEC(u,r,x),s=ag._getBinaryMatrix(ah,A,w,v,af)},encodeValue:null,_getBinaryMatrix:function(t,ae,ah,ag,u){var A,w,B,z,ai,af,am,an,aj=this,x=["000","001","010","011","100","101","110","111"],v=[],al=[],ak=[],y=aj._getPositionAdjustmentsTable();for(ai=0;ag>ai;ai++){for(al[ai]=[],af=0;ag>af;af++){al[ai][af]=0}}for(ai=0;ah>ai;ai++){ak.push(new Array(ah))}if(aj._fullFinderPattern(al,4,4),aj._fillFinderPatternFilledValues(ak,0,0),aj._fullFinderPattern(al,4,ag-11),aj._fillFinderPatternFilledValues(ak,0,ah-8),aj._fullFinderPattern(al,ag-11,4),aj._fillFinderPatternFilledValues(ak,ah-8,0),aj._fillTimingPattern(al,ak,ah),al[ag-12][12]=1,ak[ag-16][8]=1,ae>1){for(ai=0;ai<y[ae].length;ai++){for(af=0;af<y[ae].length;af++){am=y[ae][ai]+4,an=y[ae][af]+4,10==am&&10==an||10==am&&an==ag-11||am==ag-11&&10==an||(al[am-2][an-2]=1,ak[am-6][an-6]=1,al[am-2][an-1]=1,ak[am-6][an-5]=1,al[am-2][an]=1,ak[am-6][an-4]=1,al[am-2][an+1]=1,ak[am-6][an-3]=1,al[am-2][an+2]=1,ak[am-6][an-2]=1,al[am-1][an-2]=1,ak[am-5][an-6]=1,al[am-1][an-1]=0,ak[am-5][an-5]=1,al[am-1][an]=0,ak[am-5][an-4]=1,al[am-1][an+1]=0,ak[am-5][an-3]=1,al[am-1][an+2]=1,ak[am-5][an-2]=1,al[am][an-2]=1,ak[am-4][an-6]=1,al[am][an-1]=0,ak[am-4][an-5]=1,al[am][an]=1,ak[am-4][an-4]=1,al[am][an+1]=0,ak[am-4][an-3]=1,al[am][an+2]=1,ak[am-4][an-2]=1,al[am+1][an-2]=1,ak[am-3][an-6]=1,al[am+1][an-1]=0,ak[am-3][an-5]=1,al[am+1][an]=0,ak[am-3][an-4]=1,al[am+1][an+1]=0,ak[am-3][an-3]=1,al[am+1][an+2]=1,ak[am-3][an-2]=1,al[am+2][an-2]=1,ak[am-2][an-6]=1,al[am+2][an-1]=1,ak[am-2][an-5]=1,al[am+2][an]=1,ak[am-2][an-4]=1,al[am+2][an+1]=1,ak[am-2][an-3]=1,al[am+2][an+2]=1,ak[am-2][an-2]=1)}}}for(ae>=7&&aj._fillHigherVersionData(al,ak,ae,ah,ag),z=0;8>z;z++){for(A=0,B=[],ai=0;ai<al.length;ai++){B.push(al[ai].slice(0))}aj._fillFormatData(al,ak,ah,ag,x[z],u),aj._fillMatrix(ak,B,x[z],ah,t),A+=aj._calcPenalty1(B,ah),A+=aj._calcPenalty2(B,ah),A+=aj._calcPenalty3(B,ah),A+=aj._calcPenalty4(B,ah),v.push(A)}return w=aj._getSmallestPenaltyIndex(v),aj._fillFormatData(al,ak,ah,ag,x[w],u),aj._fillMatrix(ak,al,x[w],ah,t),al},_fillHigherVersionData:function(k,j,m,q,p){var o=this,l={7:[0,0,1,0,1,0,0,1,0,0,1,1,1,1,1,0,0,0],8:[0,0,1,1,1,1,0,1,1,0,1,0,0,0,0,1,0,0],9:[1,0,0,1,1,0,0,1,0,1,0,1,1,0,0,1,0,0],10:[1,1,0,0,1,0,1,1,0,0,1,0,0,1,0,1,0,0],11:[0,1,1,0,1,1,1,1,1,1,0,1,1,1,0,1,0,0],12:[0,1,0,0,0,1,1,0,1,1,1,0,0,0,1,1,0,0],13:[1,1,1,0,0,0,1,0,0,0,0,1,1,0,1,1,0,0],14:[1,0,1,1,0,0,0,0,0,1,1,0,0,1,1,1,0,0],15:[0,0,0,1,0,1,0,0,1,0,0,1,1,1,1,1,0,0],16:[0,0,0,1,1,1,1,0,1,1,0,1,0,0,0,0,1,0],17:[1,0,1,1,1,0,1,0,0,0,1,0,1,0,0,0,1,0],18:[1,1,1,0,1,0,0,0,0,1,0,1,0,1,0,0,1,0],19:[0,1,0,0,1,1,0,0,1,0,1,0,1,1,0,0,1,0],20:[0,1,1,0,0,1,0,1,1,0,0,1,0,0,1,0,1,0],21:[1,1,0,0,0,0,0,1,0,1,1,0,1,0,1,0,1,0],22:[1,0,0,1,0,0,1,1,0,0,0,1,0,1,1,0,1,0],23:[0,0,1,1,0,1,1,1,1,1,1,0,1,1,1,0,1,0],24:[0,0,1,0,0,0,1,1,0,1,1,1,0,0,0,1,1,0],25:[1,0,0,0,0,1,1,1,1,0,0,0,1,0,0,1,1,0],26:[1,1,0,1,0,1,0,1,1,1,1,1,0,1,0,1,1,0],27:[0,1,1,1,0,0,0,1,0,0,0,0,1,1,0,1,1,0],28:[0,1,0,1,1,0,0,0,0,0,1,1,0,0,1,1,1,0],29:[1,1,1,1,1,1,0,0,1,1,0,0,1,0,1,1,1,0],30:[1,0,1,0,1,1,1,0,1,0,1,1,0,1,1,1,1,0],31:[0,0,0,0,1,0,1,0,0,1,0,0,1,1,1,1,1,0],32:[1,0,1,0,1,0,1,1,1,0,0,1,0,0,0,0,0,1],33:[0,0,0,0,1,1,1,1,0,1,1,0,1,0,0,0,0,1],34:[0,1,0,1,1,1,0,1,0,0,0,1,0,1,0,0,0,1],35:[1,1,1,1,1,0,0,1,1,1,1,0,1,1,0,0,0,1],36:[1,1,0,1,0,0,0,0,1,1,0,1,0,0,1,0,0,1],37:[0,1,1,1,0,1,0,0,0,0,1,0,1,0,1,0,0,1],38:[0,0,1,0,0,1,1,0,0,1,0,1,0,1,1,0,0,1],39:[1,0,0,0,0,0,1,0,1,0,1,0,1,1,1,0,0,1],40:[1,0,0,1,0,1,1,0,0,0,1,1,0,0,0,1,0,1]},n=l[m];o._fillUpperVersionInformation(k,j,n,q,p),o._fillLowerVersionInformation(k,j,n,q,p)},_fillUpperVersionInformation:function(p,o,n,k,j){var r,m=j-15,l=k-11,q=0;for(r=4;10>r;r++){p[r][m]=n[q],o[r-4][l]=1,q++,p[r][m+1]=n[q],o[r-4][l+1]=1,q++,p[r][m+2]=n[q],o[r-4][l+2]=1,q++}},_fillLowerVersionInformation:function(p,o,n,k,j){var r,m=j-13,l=k-9,q=0;for(r=4;10>r;r++){p[m][r]=n[q],o[l][r-4]=1,q++,p[m-1][r]=n[q],o[l-1][r-4]=1,q++,p[m-2][r]=n[q],o[l-2][r-4]=1,q++}},_getSmallestPenaltyIndex:function(e){var f,g=e[0],h=0;for(f=0;f<e.length;f++){e[f]<g&&(h=f)}return h},_calcPenalty1:function(m,l){var k,j,h,o,n=0;for(j=0;l>j;j++){for(o=1,h=1;l>h;h++){k=m[j+4][h+4],k===m[j+4][h+3]?(o++,5==o?n+=3:o>5&&n++):o=1}}for(h=0;l>h;h++){for(o=1,j=1;l>j;j++){k=m[j+4][h+4],k===m[j+3][h+4]?(o++,5===o?n+=3:o>5&&n++):o=1}}return n},_calcPenalty2:function(m,k){var l,h,g,j=0;for(h=0;k-1>h;h++){for(g=0;k-1>g;g++){l=m[h+4][g+4],l==m[h+4][g+5]&&l==m[h+5][g+4]&&l==m[h+5][g+5]&&(j+=3)}}return j},_calcPenalty3:function(k,j){var g,f,h=0;for(g=0;j>g;g++){for(f=0;j-7>=f;f++){k[g+4][f+4]&&!k[g+4][f+5]&&k[g+4][f+6]&&k[g+4][f+7]&&k[g+4][f+8]&&!k[g+4][f+9]&&k[g+4][f+10]&&(h+=40)}}for(f=0;j>f;f++){for(g=0;j-7>=g;g++){k[g+4][f+4]&&!k[g+5][f+4]&&k[g+6][f+4]&&k[g+7][f+4]&&k[g+8][f+4]&&!k[g+9][f+4]&&k[g+10][f+4]&&(h+=40)}}return h},_calcPenalty4:function(l,n){var j,p,k=0,o=0,m=0;for(j=0;n>j;j++){for(p=0;n>p;p++){l[j+4][p+4]?o++:m++}}return k=ad(2*(o/(o+m)*100-50))},_fillFormatData:function(w,u,t,p,o,m){var q=this,n=q._errorCorrectionToMask[m]+o,v=q._formatInformation[n],r=p-5,s=p-5;w[12][4]=ad(v.charAt(0)),w[12][5]=ad(v.charAt(1)),w[12][6]=ad(v.charAt(2)),w[12][7]=ad(v.charAt(3)),w[12][8]=ad(v.charAt(4)),w[12][9]=ad(v.charAt(5)),w[12][11]=ad(v.charAt(6)),w[12][12]=ad(v.charAt(7)),w[11][12]=ad(v.charAt(8)),w[9][12]=ad(v.charAt(9)),w[8][12]=ad(v.charAt(10)),w[7][12]=ad(v.charAt(11)),w[6][12]=ad(v.charAt(12)),w[5][12]=ad(v.charAt(13)),w[4][12]=ad(v.charAt(14)),w[r][12]=ad(v.charAt(0)),w[r-1][12]=ad(v.charAt(1)),w[r-2][12]=ad(v.charAt(2)),w[r-3][12]=ad(v.charAt(3)),w[r-4][12]=ad(v.charAt(4)),w[r-5][12]=ad(v.charAt(5)),w[r-6][12]=ad(v.charAt(6)),w[12][s-7]=ad(v.charAt(7)),w[12][s-6]=ad(v.charAt(8)),w[12][s-5]=ad(v.charAt(9)),w[12][s-4]=ad(v.charAt(10)),w[12][s-3]=ad(v.charAt(11)),w[12][s-2]=ad(v.charAt(12)),w[12][s-1]=ad(v.charAt(13)),w[12][s]=ad(v.charAt(14)),u[8][0]=1,u[8][1]=1,u[8][2]=1,u[8][3]=1,u[8][4]=1,u[8][5]=1,u[8][7]=1,u[8][8]=1,u[7][8]=1,u[5][8]=1,u[4][8]=1,u[3][8]=1,u[2][8]=1,u[1][8]=1,u[0][8]=1,u[t-1][8]=1,u[t-2][8]=1,u[t-3][8]=1,u[t-4][8]=1,u[t-5][8]=1,u[t-6][8]=1,u[t-7][8]=1,u[8][t-8]=1,u[8][t-7]=1,u[8][t-6]=1,u[8][t-5]=1,u[8][t-4]=1,u[8][t-3]=1,u[8][t-2]=1,u[8][t-1]=1},_fillMatrix:function(p,o,n,k,m){var t,s,l=this,r=0,q=!0;for(t=k-1;t>=0;t-=2){if(6==t&&t--,q){for(s=k-1;s>=0;s--){p[s][t]||(l._fillModule(s,t,r,o,n,m),r++),t-1>=0&&!p[s][t-1]&&(l._fillModule(s,t-1,r,o,n,m),r++)}q=!q}else{for(s=0;k>s;s++){p[s][t]||(l._fillModule(s,t,r,o,n,m),r++),t-1>=0&&!p[s][t-1]&&(l._fillModule(s,t-1,r,o,n,m),r++)}q=!q}}},_fillModule:function(j,h,o,n,m,l){var k=this;o<l.length?k._fillCharacter(j,h,l.charAt(o),n,m):k._fillCharacter(j,h,"0",n,m)},_fillCharacter:function(j,h,n,l,k){var o,m;switch(k){case"000":o=(j+h)%2===0;break;case"001":o=j%2===0;break;case"010":o=h%3===0;break;case"011":o=(j+h)%3===0;break;case"100":o=(j/2+h/3)%2===0;break;case"101":o=j*h%2+j*h%3===0;break;case"110":o=(j*h%2+j*h%3)%2===0;break;case"111":o=((j+h)%2+j*h%3)%2===0;break;default:o=(j+h)%2===0}m=o?"0"==n?1:0:"0"==n?0:1,l[j+4][h+4]=m},_fillTimingPattern:function(l,k,j){for(var h=10,g=12,m=!0;j-4>g;){m&&(l[h][g]=1),k[h-4][g-4]=1,m=!m,g++}for(g=10,h=12,m=!0;j-4>h;){m&&(l[h][g]=1),k[h-4][g-4]=1,m=!m,h++}},_fullFinderPattern:function(g,e,h){var f;for(f=0;7>f;f++){g[e+f][h]=1,g[e][h+f]=1,g[e+f][h+6]=1,g[e+6][h+f]=1}for(e+=2,h+=2,f=0;3>f;f++){g[e+f][h]=1,g[e+f][h+1]=1,g[e+f][h+2]=1}},_fillFinderPatternFilledValues:function(k,j,h){var o,n,m,l;for(0===j&&0===h?o=n=8:0===j&&h>0?(o=8,n=h+8):(o=j+8,n=8),m=j;o>m;m++){for(l=h;n>l;l++){k[m][l]=1}}},_getEC:function(ak,ah,c){for(var ai,ag,ao=this,ap=ao._getCodewordsLengthTable(),aE=ap[ak],at=0,az=[],aB=[],aC=[],aD=[],ay=[],aA=[],aq=[],au=[],ae=aE.firstBlockCount,af=aE.secondBlockCount,aw=[],av=[];ae>0;ae--){for(aw=[],ai=0;ai<aE.firstDataCodeWords;ai++){aw[aw.length]=c[at],at++}az[az.length]=aw,ay[ay.length]=ao._getErrorCorrectionForBlock(aw,aE)}for(;af>0;af--){for(av=[],ag=0;ag<aE.secondBlockCodeWords;ag++){av[av.length]=c[at],at++}aB[aB.length]=av,aA[aA.length]=ao._getErrorCorrectionForBlock(av,aE)}var ax,b=aE.firstDataCodeWords*aE.firstBlockCount+aE.secondBlockCodeWords*aE.secondBlockCount,ar=aE.codewordsPerBlock*aE.firstBlockCount+aE.codewordsPerBlock*aE.secondBlockCount,aG=0,am=az.length+aB.length;for(ax=0;am>ax;ax++){0===aG?az.length>0?(aC[aC.length]=az[0],az.splice(0,1)):(aC[aC.length]=aB[0],aG++,aB.splice(0,1)):1===aG&&aB.length>0&&(aC[aC.length]=aB[0],aB.splice(0,1))}for(aG=0,am=ay.length+aA.length,ax=0;am>ax;ax++){0===aG?ay.length>0?(aD[aD.length]=ay[0],ay.splice(0,1)):(aD[aD.length]=aA[0],aG++,aA.splice(0,1)):1===aG&&aA.length>0&&(aD[aD.length]=aA[0],aA.splice(0,1))}var aF,an=aC.length,al=aD.length,aj="";for(aG=0,aF=0;b>aF;aF++){aG===an&&(aG=0),aC[aG].length>0?(aq[aq.length]=aC[aG][0],aC[aG].splice(0,1),aG++):(aG++,aF--)}for(aG=0,aF=0;ar>aF;aF++){aG===al&&(aG=0),aD[aG].length>0?(au[au.length]=aD[aG][0],aD[aG].splice(0,1),aG++):(aG++,aF--)}for(aF=0;aF<aq.length;aF++){aj+=ac(ab(aq[aF]),8)}for(aF=0;aF<au.length;aF++){aj+=ac(ab(au[aF]),8)}return aj},_getErrorCorrectionForBlock:function(u,r){var x,z,v,t,s=r.codewordsPerBlock,y=[],w=[],q=0,p={7:[87,229,146,149,238,102,21],10:[251,67,46,61,118,70,64,94,32,45],13:[74,152,176,100,86,100,106,104,130,218,206,140,78],15:[8,183,61,91,202,37,51,58,58,237,140,124,5,99,105],16:[120,104,107,109,102,161,76,3,91,191,147,169,182,194,225,120],17:[43,139,206,78,43,239,123,206,214,147,24,99,150,39,243,163,136],18:[215,234,158,94,184,97,118,170,79,187,152,148,252,179,5,98,96,153],20:[17,60,79,50,61,163,26,187,202,180,221,225,83,239,156,164,212,212,188,190],22:[210,171,247,242,93,230,14,109,221,53,200,74,8,172,98,80,219,134,160,105,165,231],24:[229,121,135,48,211,117,251,126,159,180,169,152,192,226,228,218,111,0,117,232,87,96,227,21],26:[173,125,158,2,103,182,118,17,145,201,111,28,165,53,161,21,245,142,13,102,48,227,153,145,218,70],28:[168,223,200,104,224,234,108,180,110,190,195,147,205,27,232,201,21,43,245,87,42,195,212,119,242,37,9,123],30:[41,173,145,152,216,31,179,182,50,48,110,86,239,96,222,125,42,173,226,193,224,130,156,37,251,216,238,40,192,180]},o=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,1],n=[-1,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175];for(x=0;x<u.length+s;x++){w[q++]=x<u.length?u[x]:0}for(x=0;x<u.length;x++){if(v=w[0],w.splice(0,1),0!==v){for(y=p[s].slice(0),v=n[v],z=0;z<y.length;z++){t=v+y[z],t>255&&(t%=255),y[z]=t}for(z=0;z<y.length;z++){y[z]=o[y[z]]}for(z=0;z<y.length;z++){w[z]=w[z]^y[z]}}}return w},_getIntegerValues:function(b){return P(b,function(c){return C(c)})},_getBinaryValues:function(d){var e,f=[];for(e=0;e<d.length;e+=8){e+8<=d.length?f.push(d.substr(e,8)):f.push(M(d.substring(e),8))}return f},_padEncodedToLength:function(h,g){if(h.length>=g){return h.substr(0,g)}for(var m=h,k="11101100",j="00010001",l=!0;m.length<g;){m+=l?k:j,l=!l}return m},_getVersion:function(e,h){var f,g=e.length;for(f=1;39>f&&!(this._verErrLenTable[f+""+h]/8>=g);f++){}return f+1},_getDataLength:function(f,e){var d=this;return d._verErrLenTable[d._getVersion(f,e)+""+e]},_getFormatData:function(b,c){return this.codeMode+ac(ab(b.length),this._getFormatLengthTotal(b,c))},_getFormatLengthTotal:function(j,h){var k=this,g=k.mode,f=k._getVersion(j,h);return f>=1&&9>=f?g==X?10:g==W?9:8:f>=10&&26>=f?g==X?12:g==W?11:g==Q?16:10:g==X?14:g==W?13:g==Q?16:12},_getCodewordsLengthTable:function(){var g=this;if(g._clt){return g._clt}var l,k,m=[7,1,19,0,0,10,1,16,0,0,13,1,13,0,0,17,1,9,0,0,10,1,34,0,0,16,1,28,0,0,22,1,22,0,0,28,1,16,0,0,15,1,55,0,0,26,1,44,0,0,18,2,17,0,0,22,2,13,0,0,20,1,80,0,0,18,2,32,0,0,26,2,24,0,0,16,4,9,0,0,26,1,108,0,0,24,2,43,0,0,18,2,15,2,16,22,2,11,2,12,18,2,68,0,0,16,4,27,0,0,24,4,19,0,0,28,4,15,0,0,20,2,78,0,0,18,4,31,0,0,18,2,14,4,15,26,4,13,1,14,24,2,97,0,0,22,2,38,2,39,22,4,18,2,19,26,4,14,2,15,30,2,116,0,0,22,3,36,2,37,20,4,16,4,17,24,4,12,4,13,18,2,68,2,69,26,4,43,1,44,24,6,19,2,20,28,6,15,2,16,20,4,81,0,0,30,1,50,4,51,28,4,22,4,23,24,3,12,8,13,24,2,92,2,93,22,6,36,2,37,26,4,20,6,21,28,7,14,4,15,26,4,107,0,0,22,8,37,1,38,24,8,20,4,21,22,12,11,4,12,30,3,115,1,116,24,4,40,5,41,20,11,16,5,17,24,11,12,5,13,22,5,87,1,88,24,5,41,5,42,30,5,24,7,25,24,11,12,7,13,24,5,98,1,99,28,7,45,3,46,24,15,19,2,20,30,3,15,13,16,28,1,107,5,108,28,10,46,1,47,28,1,22,15,23,28,2,14,17,15,30,5,120,1,121,26,9,43,4,44,28,17,22,1,23,28,2,14,19,15,28,3,113,4,114,26,3,44,11,45,26,17,21,4,22,26,9,13,16,14,28,3,107,5,108,26,3,41,13,42,30,15,24,5,25,28,15,15,10,16,28,4,116,4,117,26,17,42,0,0,28,17,22,6,23,30,19,16,6,17,28,2,111,7,112,28,17,46,0,0,30,7,24,16,25,24,34,13,0,0,30,4,121,5,122,28,4,47,14,48,30,11,24,14,25,30,16,15,14,16,30,6,117,4,118,28,6,45,14,46,30,11,24,16,25,30,30,16,2,17,26,8,106,4,107,28,8,47,13,48,30,7,24,22,25,30,22,15,13,16,28,10,114,2,115,28,19,46,4,47,28,28,22,6,23,30,33,16,4,17,30,8,122,4,123,28,22,45,3,46,30,8,23,26,24,30,12,15,28,16,30,3,117,10,118,28,3,45,23,46,30,4,24,31,25,30,11,15,31,16,30,7,116,7,117,28,21,45,7,46,30,1,23,37,24,30,19,15,26,16,30,5,115,10,116,28,19,47,10,48,30,15,24,25,25,30,23,15,25,16,30,13,115,3,116,28,2,46,29,47,30,42,24,1,25,30,23,15,28,16,30,17,115,0,0,28,10,46,23,47,30,10,24,35,25,30,19,15,35,16,30,17,115,1,116,28,14,46,21,47,30,29,24,19,25,30,11,15,46,16,30,13,115,6,116,28,14,46,23,47,30,44,24,7,25,30,59,16,1,17,30,12,121,7,122,28,12,47,26,48,30,39,24,14,25,30,22,15,41,16,30,6,121,14,122,28,6,47,34,48,30,46,24,10,25,30,2,15,64,16,30,17,122,4,123,28,29,46,14,47,30,49,24,10,25,30,24,15,46,16,30,4,122,18,123,28,13,46,32,47,30,48,24,14,25,30,42,15,32,16,30,20,117,4,118,28,40,47,7,48,30,43,24,22,25,30,10,15,67,16,30,19,118,6,119,28,18,47,31,48,30,34,24,34,25,30,20,15,61,16],j=["L","M","Q","H"],h=0;for(g._clt={},l=1;40>=l;l++){for(k=0;k<j.length;k++){g._clt[l+""+j[k]]={codewordsPerBlock:m[h],firstBlockCount:m[h+1],firstDataCodeWords:m[h+2],secondBlockCount:m[h+3],secondBlockCodeWords:m[h+4]},h+=5}}return g._clt},_getPositionAdjustmentsTable:function(){var d=[],c=2;return d[c++]=[6,18],d[c++]=[6,22],d[c++]=[6,26],d[c++]=[6,30],d[c++]=[6,34],d[c++]=[6,22,38],d[c++]=[6,24,42],d[c++]=[6,26,46],d[c++]=[6,28,50],d[c++]=[6,30,54],d[c++]=[6,32,58],d[c++]=[6,34,62],d[c++]=[6,26,46,66],d[c++]=[6,26,48,70],d[c++]=[6,26,50,74],d[c++]=[6,30,54,78],d[c++]=[6,30,56,82],d[c++]=[6,30,58,86],d[c++]=[6,34,62,90],d[c++]=[6,28,50,72,94],d[c++]=[6,26,50,74,98],d[c++]=[6,30,54,78,102],d[c++]=[6,28,54,80,106],d[c++]=[6,32,58,84,110],d[c++]=[6,30,58,86,114],d[c++]=[6,34,62,90,118],d[c++]=[6,26,50,74,98,122],d[c++]=[6,30,54,78,102,126],d[c++]=[6,26,52,78,104,130],d[c++]=[6,30,56,82,108,134],d[c++]=[6,34,60,86,112,138],d[c++]=[6,30,58,86,114,142],d[c++]=[6,34,62,90,118,146],d[c++]=[6,30,54,78,102,126,150],d[c++]=[6,24,50,76,102,128,154],d[c++]=[6,28,54,80,106,132,158],d[c++]=[6,32,58,84,110,136,162],d[c++]=[6,26,54,82,110,138,166],d[c++]=[6,30,58,86,114,142,170],d}}),H=T.extend({mode:X,codeMode:"0001",validateRegex:"^\\d+$",encodeValue:function(c){for(var b=[];c.length>0;){c.length>2?(b.push(ac(ab(ad(c.substr(0,3))),10)),c=c.substr(3)):2===c.length?(b.push(ac(ab(ad(c)),7)),c=""):(b.push(ac(ab(ad(c)),4)),c="")}return 0===b.length&&b.push(ac(ab(0),4)),b.join("")}});V.addMode(H);var G=T.extend({mode:Q,codeMode:"0100",validateRegex:"^[0-9A-Za-z'\\\r\\\n\\ \\!\\\"\\#\\$\\%\\&\\(\\)\\*\\+\\,\\-\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\¥\\]\\^\\_\\`\\{\\|\\}\\¯\\｡\\｢\\｣\\､\\･\\ｦ\\ｧ\\ｨ\\ｩ\\ｪ\\ｫ\\ｬ\\ｭ\\ｮ\\ｯ\\ｰ\\ｱ\\ｲ\\ｳ\\ｴ\\ｵ\\ｶ\\ｷ\\ｸ\\ｹ\\ｺ\\ｻ\\ｼ\\ｽ\\ｾ\\ｿ\\ﾀ\\ﾁ\\ﾂ\\ﾃ\\ﾄ\\ﾅ\\ﾆ\\ﾇ\\ﾈ\\ﾉ\\ﾊ\\ﾋ\\ﾌ\\ﾍ\\ﾎ\\ﾏ\\ﾐ\\ﾑ\\ﾒ\\ﾓ\\ﾔ\\ﾕ\\ﾖ\\ﾗ\\ﾘ\\ﾙ\\ﾚ\\ﾛ\\ﾜ\\ﾝ\\ﾞ\\ﾟ]+$",encodingTable:{"\r":"13","\n":"10"," ":"32","!":"33",'"':"34","#":"35",$:"36","%":"37","&":"38","'":"39","(":"40",")":"41","*":"42","+":"43",",":"44","-":"45",".":"46","/":"47",0:"48",1:"49",2:"50",3:"51",4:"52",5:"53",6:"54",7:"55",8:"56",9:"57",":":"58",";":"59","<":"60","=":"61",">":"62","?":"63","@":"64",A:"65",B:"66",C:"67",D:"68",E:"69",F:"70",G:"71",H:"72",I:"73",J:"74",K:"75",L:"76",M:"77",N:"78",O:"79",P:"80",Q:"81",R:"82",S:"83",T:"84",U:"85",V:"86",W:"87",X:"88",Y:"89",Z:"90","[":"91","¥":"92","]":"93","^":"94",_:"95","`":"96",a:"97",b:"98",c:"99",d:"100",e:"101",f:"102",g:"103",h:"104",i:"105",j:"106",k:"107",l:"108",m:"109",n:"110",o:"111",p:"112",q:"113",r:"114",s:"115",t:"116",u:"117",v:"118",w:"119",x:"120",y:"121",z:"122","{":"123","|":"124","}":"125","¯":"126","｡":"161","｢":"162","｣":"163","､":"164","･":"165","ｦ":"166","ｧ":"167","ｨ":"168","ｩ":"169","ｪ":"170","ｫ":"171","ｬ":"172","ｭ":"173","ｮ":"174","ｯ":"175","ｰ":"176","ｱ":"177","ｲ":"178","ｳ":"179","ｴ":"180","ｵ":"181","ｶ":"182","ｷ":"183","ｸ":"184","ｹ":"185","ｺ":"186","ｻ":"187","ｼ":"188","ｽ":"189","ｾ":"190","ｿ":"191","ﾀ":"192","ﾁ":"193","ﾂ":"194","ﾃ":"195","ﾄ":"196","ﾅ":"197","ﾆ":"198","ﾇ":"199","ﾈ":"200","ﾉ":"201","ﾊ":"202","ﾋ":"203","ﾌ":"204","ﾍ":"205","ﾎ":"206","ﾏ":"207","ﾐ":"208","ﾑ":"209","ﾒ":"210","ﾓ":"211","ﾔ":"212","ﾕ":"213","ﾖ":"214","ﾗ":"215","ﾘ":"216","ﾙ":"217","ﾚ":"218","ﾛ":"219","ﾜ":"220","ﾝ":"221","ﾞ":"222","ﾟ":"223"},encodeValue:function(h){var j,b=this,c=[];for(j=0;j<h.length;j++){c.push(ac(ab(ad(b.encodingTable[h.charAt(j)])),8))}return c.join("")}});V.addMode(G);var F=T.extend({mode:W,codeMode:"0010",validateRegex:"^[0-9A-Z \\$\\%\\*\\+\\-\\.\\/\\:]+$",encodingTable:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",A:"10",B:"11",C:"12",D:"13",E:"14",F:"15",G:"16",H:"17",I:"18",J:"19",K:"20",L:"21",M:"22",N:"23",O:"24",P:"25",Q:"26",R:"27",S:"28",T:"29",U:"30",V:"31",W:"32",X:"33",Y:"34",Z:"35"," ":"36",$:"37","%":"38","*":"39","+":"40","-":"41",".":"42","/":"43",":":"44"},encodeValue:function(u){var q,y,s,p,x,b=this,c=u.length%2!==0,v=[],w=[],r=[],t=0;for(y=0;y<u.length;y++){q=u.charAt(y),v[y]=b.encodingTable[q]}for(y=0;y<v.length;y+=2){s=v[y],y+1<=v.length-1?(p=v[y+1],w[t]=ad(45*s)+ad(p)):w[t]=s,t++}for(y=0;y<w.length;y++){x=ab(w[y]),c&&y===w.length-1?(x=ac(x,6),r[y]=x):(x=ac(x,11),r[y]=x)}return r.join("")}});V.addMode(F);var E=O.extend({init:function(e){var d=this,f=e.style;d.options=e,d.size=e.size-2*f.padding,S||Z.namespaces.sqrv||(Z.namespaces.add("sqrv","urn:schemas-microsoft-com:vml","#default#VML"),Z.createStyleSheet().cssText="sqrv\\:fill, sqrv\\:path, sqrv\\:shape, sqrv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},all:function(ah){var aj,ai,l=this,am=l.size,f=l.options,ak=f.style,al=am/ah.length,af="",ae=[],y=function(b){return Y("<div/>").html(b).text()},z="",A=am>200?12:10,s=y(am>100?"&#68;&#101;&#109;&#111;&#32;&#86;&#101;&#114;&#115;&#105;&#111;&#110;":"&#68;&#101;&#109;&#111;"),o=y("&#104;&#116;&#116;&#112;&#58;&#47;&#47;&#119;&#119;&#119;&#46;&#115;&#104;&#105;&#101;&#108;&#100;&#117;&#105;&#46;&#99;&#111;&#109;");aa.guid();for(ak.padding&&(af+="margin:"+ak.padding+"px;"),aj=0;aj<ah.length;aj++){for(ai=0;ai<ah[aj].length;ai++){ah[aj][ai]&&ae.push({x:ai*al,y:aj*al})}}if(z+=S?'<text x="'+am+'" y="'+am+'" fill="#999999" text-anchor="end" font-size="'+A+'" style="cursor:pointer; z-index:0;" onClick="javascript: location.href = \''+o+"'; margin:0; padding:0;\">"+s+"</text>":'<div style="position:absolute; display:block; width:'+am+"px; text-align:right; color:#999999; cursor:pointer; z-index:0; top:"+(am-A-2)+"px; left:0px; font-size:"+A+'px;"><a href="'+o+'" style="color:#999999; text-decoration:none;">'+s+"</a></div>",S){return'<svg xmlns="'+J+'" version="1.1" width="'+am+'" height="'+am+'" shape-rendering="crispEdges"'+(af?' style="'+af+'" ':"")+">"+z+'<path d="'+P(ae,function(b){return"M"+b.x+" "+b.y+" L"+(b.x+al)+" "+b.y+" L"+(b.x+al)+" "+(b.y+al)+" L"+b.x+" "+(b.y+al)+" z"}).join(" ")+'" fill="'+ak.color+'" stroke="'+ak.color+'" stroke-width="0" /></svg>'}var B=10000/am,ag=ad(al*B),d=P(ae,function(g){var e=ad(g.x*B),h=ad(g.y*B);return"m"+e+","+h+" l"+(e+ag)+","+h+","+(e+ag)+","+(h+ag)+","+e+","+(h+ag)}).join(" ")+" e";return'<sqrv:shape style="z-index:200; position:absolute; width:'+am+"px; height:"+am+"px; display:block; "+af+'" coordsize="10000,10000" path="'+d+'" filled="t" fillcolor="'+ak.color+'" stroked="f" strokecolor="'+ak.color+'" strokeweight="0">'+z+"</sqrv:shape>"}}),D={value:"",mode:"byte",errorLevel:"L",size:300,style:{background:null,borderColor:null,borderStyle:null,borderWidth:0,color:"#000000",padding:5}},K=R.extend({init:function(f,j){R.fn.init.apply(this,arguments);var r,u=this,y=u.options,w=y.style,v=y.value,q=(y.mode+"").toLowerCase(),x=y.errorLevel,s=y.dieOnError,t=V.byMode(q),m=new E(y);return Y(u.element).css({background:w.background,borderColor:w.borderColor,borderStyle:w.borderStyle,borderWidth:w.borderWidth,width:y.size,height:y.size}),t?t.validate(v)?"L"!=x&&"M"!=x&&"Q"!=x&&"H"!=x?void U("Invalid errorLevel: "+x,s):(r=t.encode(v,x),void Y(u.element).html(m.all(r))):void U("Invalid qrcode value: "+v,s):void U("Invalid qrcode mode: "+q,s)},destroy:function(){this.element.empty(),R.fn.destroy.call(this)}});K.defaults=D,aa.ui.plugin("QRcode",K)}(jQuery,shield,this);!function(bc,a8,aT,bb){var aj,az,af,ax,ad,av,bd,ao,a4=a8.ui.Widget,aQ=(a8.Class,a8.DataSource),be=a8.ui.Position,aU=a8.Constants.KeyCode,aJ=document,aE=Math.abs,ap=Math.min,am=Math.max,a7=bc.proxy,aG=bc.each,ag=bc.map,ac=a8.to,a2=a8.format,au=a8.error,aX=a8.is,a9=aX.defined,ai=aX.string,an=aX.object,aM=aX.func,ak=aX["null"],aH=aX.number,aF=a8.is["boolean"],aS="mouseenter",aL="mouseleave",aR="click",ar="focus",aq="blur",aC="change",aB="title",aY="center",al="middle",a6="left",a5="right",aV="up",aW="down",a1="top",aZ="bottom",a3="horizontal",ae="vertical",aK="collapse",ab="expand",aN="resize",aD="tabindex",a0="disabled",aO="suiaccitemindex",at="suiaccitemdata",aI="suiaccitemloaded",aP={top:aZ,bottom:a1,left:a5,right:a6,center:aY},aA="sui-tooltip-title",ah="sui-tooltip-sto",aw="sui-tooltip-hto",ay="sui-tooltip-target-hover";aj={cls:bb,enabled:!0,visible:bb,width:bb,height:bb,delay:100,filter:bb,content:function(c){return bc(c).data(aA)},position:a1,trigger:aS,autoHide:!0,callout:!0,events:{}},az=a4.extend({init:function(){a4.fn.init.apply(this,arguments);var H,n,u,G,F,K=this,J=K.options,z=J.content,I=J.position,k=J.cls,h=J.filter,E=J.trigger,e=J.autoHide,c=J.visible,w=J.width,t=J.height,m=J.callout,f=bc(K.element);return !an(z)||z.remote&&z.remote.url?(K._eventNS=".shieldTooltip"+K.getInstanceId(),K._currentTarget=null,K._tooltip=H=bc("<div/>").appendTo(aJ.body),H.addClass("sui-tooltip"+(k?" "+k:"")),F={position:"absolute"},a9(w)&&(F.width=w),a9(t)&&(F.height=t),H.css(F),K._content=bc('<div class="sui-tooltip-content"></div>').appendTo(H),e||H.addClass("sui-tooltip-with-button").append('<div class="sui-tooltip-button">&times;</div>').click(a7(K._hide,K,!0)),an(I)?K._pos=I:(u=aP[I]?aP[I]:aZ,G=aP[I]?I:a1,m&&I!=aY&&(G+=G==a6||G==a1?"-5":"+5"),K._pos={source:u,target:G,overflow:"flipfit"}),m&&(K._pos.callback=a7(K._posSet,K)),K._targets=n=h?f.find(h):f,K._showEvent=E,K._hideEvent=null,e&&(E==aS||E==aR?K._hideEvent=aL:E==ar&&(K._hideEvent=aq)),n.each(function(b){var g=bc(this);g.on(aS+K._eventNS,a7(K._targetMouseEnter,K,g)).on(aL+K._eventNS,a7(K._targetMouseLeave,K,g)).on(K._showEvent+K._eventNS,a7(K._onShow,K,g,!0)),K._hideEvent&&g.on(K._hideEvent+K._eventNS,a7(K._onHide,K,g,!0))}),K._destroyed=!1,K.enabled(!!J.enabled),void (a9(c)&&K.visible(c))):void au("shieldTooltip: Invalid content options",J.dieOnError)},_targetMouseEnter:function(b){b.addClass(ay),b.attr(aB)&&b.data(aA,b.attr(aB)).removeAttr(aB)},_targetMouseLeave:function(b){b.removeClass(ay),b.data(aA)&&b.attr(aB,b.data(aA))},_onShow:function(j,h){var e=this;if(e._enabled){var g=(e._tooltip,setTimeout(a7(e._show,e,j,h),e.options.delay));j.one(aL,function(){var f=bc(this),d=f.data(ah);d&&clearTimeout(d)}).data(ah,g)}},_onHide:function(k,l){var e=this,j=e._tooltip,h=setTimeout(a7(e._hide,e,l),50);j.one(aS,function(){var d=bc(this),f=d.data(aw);f&&(clearTimeout(f),d.data(aw,null))}).one(aL,function(){setTimeout(function(){k.hasClass(ay)||e._hide(e,l)},50)}).data(aw,h)},_show:function(s,l){var t,p,r,v=this,q=v.options,u=q.content,o=q.height,n=v._tooltip,m=v._content;v._destroyed||v._currentTarget!=s&&(l&&(r=v.trigger("show",{target:s}),r.isDefaultPrevented())||(ai(u)?t=u:an(u)?u.remote.iframe?t='<iframe class="sui-tooltip-iframe" src="'+u.remote.url+'" style="border:none; border-width:0px; width:100%; height:'+(o?o+"px":"100%")+';"></iframe>':(p=!0,t=" "):aM(u)&&(t=u(s)),t&&(n.show(),v._currentTarget=s,p?m.load(u.remote.url):m.html(t),v._visible=!0,be.Set(n,s,v._pos))))},_hide:function(f){var g,e=this;e._currentTarget&&(f&&(g=e.trigger("hide"),g.isDefaultPrevented())||(bc(e._tooltip).hide().find(".sui-tooltip-callout-container").remove(),e._currentTarget=null,e._visible=!1))},_posSet:function(E){var d,L,J,m,I,n,s,M,D=this,w=D.options,f=D._tooltip,F=E.horizontal,C=E.vertical,K=(E.important,E.element),H=E.target,k=K.width,g=K.height,G=6;if(w.callout){if(F==aY&&C==al){return}if(F==aY||C==al){L=F==aY?C:F,m=aP[L],J={source:m,target:L+(m==aZ||m==a5?"+1":"-1")}}else{if(I=a8.ui.Util.GetWithinInfo(aT),F==a6&&K.left-I.scrollLeft>3&&(L=a6,J={source:a5,target:a6+"+1"}),F==a5&&I.scrollLeft+I.width-K.left-K.width>3&&(L=a5,J={source:a6,target:a5+"-1"}),L&&(n=K.top+g/2,s=H.top+H.height-(H.top+H.height-I.scrollTop)/2,M=n-s,aE(M)>g/2-G&&(M=M>0?g/2-G:G-g/2),0!==M&&(J.target+=" "+aY+(M>0?"-"+M:"+"+M))),L||(C==a1&&K.top-I.scrollTop>3&&(L=a1,J={source:aZ,target:a1+"+1"}),C==aZ&&I.scrollTop+I.height-K.top-K.height>3&&(L=aZ,J={source:a1,target:aZ+"-1"}),L&&(n=K.left+k/2,s=H.left+H.width-(H.left+H.width-I.scrollLeft)/2,M=n-s,aE(M)>k/2-G&&(M=M>0?k/2-G:G-k/2),0!==M&&(J.target=aY+(M>0?"-"+M:"+"+M)+" "+J.target))),!L){return}}d=bc('<div class="sui-tooltip-callout-container"><div class="sui-tooltip-callout sui-tooltip-callout-'+L+'"></div>').appendTo(f),be.Set(d,f,J)}},visible:function(){var d,e=this,f=[].slice.call(arguments);if(!e._destroyed){return f.length>0?(d=!!f[0],d?e._show(f[1]):e._hide(),e._visible=d,void 0):e._visible}},enabled:function(){var e,d=this,f=[].slice.call(arguments);return f.length>0?(e=!!f[0],e||d.visible(!1),d._enabled=e,void 0):d._enabled},destroy:function(){var d=this,e=d._targets;d._destroyed=!0,e&&(e.each(function(b){var f=bc(this);f.off(d._eventNS)}),d._targets=null),bc(d._tooltip).remove(),a4.fn.destroy.call(d)}}),az.defaults=aj,a8.ui.plugin("Tooltip",az),af={cls:bb,barSize:5,orientation:a3,panes:bb,events:{}},ax=a4.extend({init:function(){a4.fn.init.apply(this,arguments);var h,l=this,e=l.options,b=e.cls,k=(e.orientation==a3,bc(l.element));k.addClass("sui-splitter-container"+(b?" "+b:"")),"absolute"!==k.css("position")&&"relative"!==k.css("position")&&k.css({position:"relative"}),k.css("width")===bb&&k.css({width:"100%"}),l._height=k.css("height")?k.css("height"):k.parent().innerHeight(),k.css({height:l._height}),l._children=h=k.children(),l._offset=0,l._barSize=e.barSize,l._bars=[],l._dragBars=[],l._navigators=[],h.each(function(c){var f=bc(this);l._addPane(h,f,c)}),bc(aT).on(aN+".shieldSplitter"+l.getInstanceId(),a7(l._adjust,l)),l._adjust(),l._adjustDraggables(),l._manageCollapsedPanes()},_adjust:function(){var g=this,l=g.element,k=g._children.last(),j=g.options.orientation==a3,h=(j?l.innerWidth():l.innerHeight())-g._offset+"px";l.children(".sui-splitter-pane-horizontal, .sui-splitter-dragbar-horizontal, .sui-splitter-bar-horizontal").each(function(){bc(this).outerHeight(bc(this).parent().innerHeight())}),j?k.outerWidth(h):k.outerHeight(h)},_adjustHeights:function(f,j){var h=this,g=h.options.orientation==a3;g?(f.children(".sui-splitter-collapsible-vertical-up, .sui-splitter-collapsible-vertical-down").each(function(){var c=bc(this);c.css({top:c.prev().innerWidth()/2})}),j.children(".sui-splitter-collapsible-vertical-up, .sui-splitter-collapsible-vertical-down").each(function(){var c=bc(this);c.css({top:c.prev().innerWidth()/2})})):(f.children(".sui-splitter-pane-horizontal, .sui-splitter-dragbar, .sui-splitter-bar").each(function(){bc(this).outerHeight(bc(this).parent().innerHeight())}),j.children(".sui-splitter-pane-horizontal, .sui-splitter-dragbar, .sui-splitter-bar").each(function(){bc(this).outerHeight(bc(this).parent().innerHeight())}),f.children(".sui-splitter-collapsible-horizontal-left, .sui-splitter-collapsible-horizontal-right").each(function(){var c=bc(this);c.css({top:c.prev().innerHeight()/2})}),j.children(".sui-splitter-collapsible-horizontal-left, .sui-splitter-collapsible-horizontal-right").each(function(){var c=bc(this);c.css({top:c.prev().innerHeight()/2})}))},_adjustDraggables:function(){var B,F,s,y,E,x,z,C,b,w,v,u,t,D=this,A=D.options.orientation==a3;for(F=0;F<D._dragBars.length;F++){D._dragBars[F]&&(s=D._dragBars[F],y=bc(D._children[F]),E=bc(D._children[F+1]),x=s.initialOptions,z=A?y.position().left:y.position().top,w=D._getPaneMin(F),w!==bb&&(z+=w),v=D._getPaneMax(F+1),v!==bb&&(B=A?E.position().left:E.position().top,b=A?E.innerWidth():E.innerHeight(),z=am(z,B-(v-b))),C=A?E.position().left+E.innerWidth():E.position().top+E.innerHeight(),u=D._getPaneMax(F),u!==bb&&(B=A?y.position().left:y.position().top,C=ap(C,B+u)),t=D._getPaneMin(F+1),t!==bb&&(B=A?E.position().left:E.position().top,C=ap(C,B+t)),x.min=z,x.max=C,s.refresh(x))}},_createCollapseNavigator:function(y,z){var g,u,b,q,B,x=this,A=bc(x.element),f=x.options,w=f.orientation,v=f.panes,p=w==a3;q=v&&z<v.length&&v[z].collapsible,B=v&&z<v.length-1&&v[z+1].collapsible,(q||B)&&(g=p?q?a6:a5:q?aV:aW,u=bc('<div class="sui-splitter-collapsible sui-splitter-collapsible-'+w+"-"+g+'"></div>'),u.insertAfter(y),b={left:p?y.position().left+1:y.position().left+A.innerWidth()/2,top:p?y.position().top+y.innerHeight()/2:y.position().top+1},u.css(b),u.on(aR,function(){var C=bc(x._children[z]),D=bc(x._children[z+1]),d=x._dragBars[z]?bc(x._dragBars[z].element):bb,e=x._navigators[z],c=e.navigator,t=e.direction,h=e.collapsed,s=e.delta;switch(d&&h&&d.show(),t){case a6:h?C.show():(s=0===z?C.outerWidth():C.innerWidth(),C.hide()),D.css({left:D.position().left+(h?s:-s)}),y.css({left:y.position().left+(h?s:-s)}),d&&d.css({left:d.position().left+(h?s:-s)}),c.css({left:c.position().left+(h?s:-s)}),D.outerWidth(D.outerWidth()+(h?-s:s)),c.removeClass("sui-splitter-collapsible-"+w+"-"+(h?a5:a6)),c.addClass("sui-splitter-collapsible-"+w+"-"+(h?a6:a5)),e.collapsed=!h,e.delta=e.collapsed?s:0;break;case a5:h?D.show():(s=D.innerWidth(),D.hide()),y.css({left:y.position().left+(h?-s:s)}),d&&d.css({left:d.position().left+(h?-s:s)}),c.css({left:c.position().left+(h?-s:s)}),C.outerWidth(C.outerWidth()+(h?-s:s)),c.removeClass("sui-splitter-collapsible-"+w+"-"+(h?a6:a5)),c.addClass("sui-splitter-collapsible-"+w+"-"+(h?a5:a6)),e.collapsed=!h,e.delta=e.collapsed?s:0;break;case aV:h?C.show():(s=0===z?C.outerHeight():C.innerHeight(),C.hide()),D.css({top:D.position().top+(h?s:-s)}),y.css({top:y.position().top+(h?s:-s)}),d&&d.css({top:d.position().top+(h?s:-s)}),c.css({top:c.position().top+(h?s:-s)}),D.outerHeight(D.outerHeight()+(h?-s:s)),c.removeClass("sui-splitter-collapsible-"+w+"-"+(h?aW:aV)),c.addClass("sui-splitter-collapsible-"+w+"-"+(h?aV:aW)),e.collapsed=!h,e.delta=e.collapsed?s:0;break;case aW:h?D.show():(s=D.innerHeight(),D.hide()),y.css({top:y.position().top+(h?-s:s)}),d&&d.css({top:d.position().top+(h?-s:s)}),c.css({top:c.position().top+(h?-s:s)}),C.outerHeight(C.outerHeight()+(h?-s:s)),c.removeClass("sui-splitter-collapsible-"+w+"-"+(h?aV:aW)),c.addClass("sui-splitter-collapsible-"+w+"-"+(h?aW:aV)),e.collapsed=!h,e.delta=e.collapsed?s:0}d&&e.collapsed&&d.hide(),e.collapsed?x.trigger(aK,{paneIndex:z}):x.trigger(ab,{paneIndex:z}),x._adjustHeights(C,D)}),x._navigators[z]={navigator:u,delta:0,direction:g,collapsed:!1,index:q?z:z+1})},_manageCollapsedPanes:function(){var m,l,j,h,g=this,k=g.options.panes;if(g._navigators){for(h=0;h<g._navigators.length;h++){m=g._navigators[h],l=m.index,j=m.navigator,k&&l<k.length&&k[l].collapsed&&j.trigger(aR)}}},_getPaneSize:function(q){var o,p,k=this,m=k.options,r=k.options.panes,l=m.orientation==a3,n=bc(k.element);return r&&q<r.length&&(r[q].size||r[q].min)&&(p=r[q].size||r[q].min),p?k._getSize(p,"Invalid pane size")+"px":(o=l?n.innerWidth():n.innerHeight(),(o-(k._children.length-1)*k._barSize)/k._children.length)},_getPaneMin:function(h){var g,f=this,b=f.options.panes;return b&&h<b.length&&b[h].min&&(g=b[h].min),g?f._getSize(g,"Invalid min pane size!"):bb},_getPaneMax:function(h){var g,f=this,b=f.options.panes;return b&&h<b.length&&b[h].max&&(g=b[h].max),g?f._getSize(g,"Invalid max pane size!"):bb},_getSize:function(k,n){var p,q,r=this,m=r.options,l=m.orientation==a3,o=bc(r.element);if(p=l?o.innerWidth():o.innerHeight(),ai(k)&&"%"==k.charAt(k.length-1)){if(q=parseInt(k.substring(0,k.length-1),10),q>=100){throw n}k=(p-(r._children.length-1)*r._barSize)*q/100}else{k=parseInt(k,10)}return k},_addPane:function(B,L,M){var E,A,C,F,J,I,D,x,y,N=this,z=N.options,K=z.orientation,H=K==a3,G=z.panes,d=G&&M<G.length&&G[M].resizable===!1,b=G&&M<G.length&&G[M].scrollable===!0;bc(N.element);if(L.addClass("sui-splitter-pane sui-splitter-pane-"+K),b&&L.css({overflow:"auto"}),E=N._getPaneSize(M),A=N._getPaneMin(M),A!==bb&&A>E){throw"Size less that min pane size!"}if(C=N._getPaneMax(M),C!==bb&&E>C){throw"Size bigger that max pane size!"}F={left:(H?N._offset:0)+"px",top:(H?0:N._offset)+"px"},H?(F.width=E,F.height=N._height):F.height=E,L.css(F),M!=B.length-1&&(N._offset+=H?L.outerWidth():L.outerHeight(),J=bc("<div>&nbsp;</div>").addClass("sui-unselectable sui-splitter-bar sui-splitter-bar-"+K),I={left:K==a3?N._offset:0,top:K==ae?N._offset:0},H?(I.width=N._barSize,I.height=N._height):I.height=N._barSize,J.css(I),J.insertAfter(L),d||(D=bc("<div>&nbsp;</div>").addClass("sui-unselectable sui-splitter-dragbar sui-splitter-dragbar-"+K),D.css(I),D.insertAfter(J),x={direction:H?a3:ae,stack:!1,events:{start:function(f){var e=L,g=bc(B[M+1]);e.addClass("sui-unselectable"),g.addClass("sui-unselectable")},stop:function(g){var p,f=L,o=bc(B[M+1]),c=N._bars[M],q=N._navigators[M],e=q?q.navigator:bb;f.removeClass("sui-unselectable"),o.removeClass("sui-unselectable"),K==a3?(p=g.left-c.position().left,f.width(f.width()+p),o.css({left:g.left+c.outerWidth()}),o.width(o.width()-p),e&&e.css({left:e.position().left+p})):(p=g.top-c.position().top,f.height(f.height()+p),o.css({top:g.top+c.outerHeight()}),o.height(o.height()-p),e&&e.css({top:e.position().top+p})),c.css({left:g.left,top:g.top}),N._adjustHeights(f,o),N._adjustDraggables(),N.trigger(aN,{paneIndex:M})}}},y=new a8.ui.Draggable(D,x),N._dragBars[M]=y),N._bars.push(J),N._createCollapseNavigator(J,M),N._offset+=N._barSize)},destroy:function(){var l,g=this,j=g.element;for(j.removeClass("sui-splitter-container"),bc(aT).off(aN+".shieldSplitter"+g.getInstanceId()),l=0;l<g._children.length;l++){var k=g._navigators[l];if(k){var h=k.navigator;h.off(aR)}}g._children=g._bars=g._dragBars=g._navigators=null,g._offset=g._height=g._barSize=0,a4.fn.destroy.call(g)}}),ax.defaults=af,a8.ui.plugin("Splitter",ax),ad={cls:bb,enabled:!0,animation:{enabled:!0,duration:200},mode:"single",expanded:bb,dataSource:bb,titleTemplate:"{title}",contentTemplate:"{content}",width:bb,height:bb,maxHeight:bb,events:{}},av=a4.extend({init:function(){a4.fn.init.apply(this,arguments);var s,q,o,p,u=this,t=u.options,h=t.cls,c=t.dieOnError,e=t.dataSource,r=(t.expanded,bc(u.element));if(u._original=s=bc(u.element),u._tagname=o=s.prop("tagName").toLowerCase(),s.wrap("<span/>"),s.hide(),u.element=r=bc('<ul class="sui-accordion'+(h?" "+h:"")+'"/>').on(ar,function(){u.trigger(ar)}).on(aq,function(){u.trigger(aq)}),s.after(r),q=s.attr(aD),r.attr(aD,a9(q)?q:"0"),a9(t.width)&&r.css("width",t.width),a9(t.height)&&r.css("height",t.height),a9(t.maxHeight)&&r.css("max-height",t.maxHeight),e){u.dataSource=aQ.create(e)}else{if("ul"!==o){return u.destroy(),void au("shieldAccordion: No dataSource or underlying UL element found.",c)}p=function(f){var d=[];return bc(f).children("li").each(function(g,b){var j={title:bc(this).children("h1, h2, h3, h4, h5, h6").first().html(),content:bc(this).children("div, p").html()};bc(this).children("ul").length>0&&(j.items=p(bc(this).children("ul")[0])),d.push(j)}),d},u.dataSource=aQ.create({data:s,schema:{parse:p}})}u.dataSource.on(aC+".shieldAccordion"+u.getInstanceId(),a7(u._dsChange,u)),u.dataSource.read()},refresh:function(b){this.refreshWithElement(this._original,b)},_dsChange:function(){var d=this,c=d.options;d._render(),d._dsLoadedOnce||(d._dsLoadedOnce=!0,a9(c.expanded)?d.expanded(c.expanded):d.dataSource.view&&d.dataSource.view.length>0&&d.expanded(0),d.enabled(c.enabled))},_render:function(){var l=this,c=l.options,k=l.dataSource.view,j=bc(l.element),h=k.length;j.empty(),k&&aG(k,function(g,p){var o,f,d,q,b=bc('<li class="sui-accordion-item '+(g+1>=h?"sui-accordion-item-last ":"")+'sui-accordion-item-collapsed"></li>').data(aO,g).data(at,p).appendTo(j);f=bc('<div class="sui-accordion-item-title"></div>').click(function(e){l._enabled&&l._itemClick(bc(b))}).appendTo(b),o=a2.call(l,c.titleTemplate,p,g,f),a9(o)&&!ak(o)&&f.html(o),d=bc('<div class="sui-accordion-item-body"></div>').appendTo(b).hide(),q=bc('<div class="sui-accordion-item-body-content"></div>').appendTo(d),aX.array(p.items)&&p.items.length>0&&bc("<div></div>").appendTo(d).shieldAccordion({cls:"sui-accordion-item-body-items "+(c.cls?" "+c.cls:""),enabled:c.enabled,animation:c.animation,mode:c.mode,dataSource:{data:p.items},titleTemplate:c.titleTemplate,contentTemplate:c.contentTemplate,events:c.events})})},_itemClick:function(f){var e=this,g=e.options,h=f.hasClass("sui-accordion-item-collapsed");"single"==g.mode?h&&(e._collapse(f.siblings(".sui-accordion-item").not(".sui-accordion-item-collapsed").first(),!1,!0),e._expand(f,!1,!1)):h?e._expand(f,!1,!1):e._collapse(f,!1,!1)},_expand:function(A,r,q){var z,w,v,x=this,y=x.options,j=y.animation.enabled&&!r,c=y.animation.duration,u=bc(A).children(".sui-accordion-item-body").first(),t=A.data(aO),s=A.data(at);(q||(v=x.trigger("expand",{item:s,index:t,element:A}),!v.isDefaultPrevented()))&&(1!==A.data(aI)&&(A.data(aI,1),w=A.children(".sui-accordion-item-body").first().children(".sui-accordion-item-body-content").first(),z=a2.call(x,y.contentTemplate,s,t,w),a9(z)&&!ak(z)&&w.html(z)),A.removeClass("sui-accordion-item-collapsed").addClass("sui-accordion-item-expanded"),j?u.slideDown(c):u.show())},_collapse:function(w,r,o){var t,s=this,v=s.options,q=v.animation.enabled&&!r,p=v.animation.duration,u=bc(w).children(".sui-accordion-item-body").first(),n=w.data(aO),m=w.data(at);(o||(t=s.trigger("collapse",{item:m,index:n,element:w}),!t.isDefaultPrevented()))&&(w.removeClass("sui-accordion-item-expanded").addClass("sui-accordion-item-collapsed"),q?u.slideUp(p):u.hide())},expanded:function(){var l,k,n,m,o=this,j=bc(o.element),c=(o._original,[].slice.call(arguments));return c.length>0?(l=ac.array(c[0]),k=a9(c[1])?!!c[1]:!0,n=a9(c[2])?!!c[2]:!0,m=j.children(),ag(l,function(d){d>=0&&(k?o._expand(bc(m[d]),n,!0):o._collapse(bc(m[d]),n,!0))}),void 0):ag(j.children(".sui-accordion-item").not(".sui-accordion-item-collapsed"),function(b){return b.data(aO)})},enabled:function(){var l,g=this,k=bc(g.element),j=g._original,h=[].slice.call(arguments);return h.length>0?(l=!!h[0],l?(k.removeAttr(a0).removeClass("sui-accordion-disabled"),j.removeAttr(a0)):(k.attr(a0,a0).addClass("sui-accordion-disabled"),j.attr(a0,a0)),g._enabled=l,void 0):g._enabled},destroy:function(){var c=this;c.dataSource&&c.dataSource.off(aC+".shieldAccordion"+c.getInstanceId()),bc(c.element).remove(),c._original.unwrap().show(),c._original=null,a4.fn.destroy.call(c)}}),av.defaults=ad,a8.ui.plugin("Accordion",av),bd={cls:bb,active:bb,collapsible:!1,animation:{enabled:!0,activateDuration:160,deactivateDuration:60},titleTemplate:"{title}",titleClsTemplate:"{titleCls}",itemClsTemplate:"{itemCls}",hrefTemplate:"{href}",contentTemplate:"{content}",disabledTemplate:"{disabled}",iconUrlTemplate:"{iconUrl}",iconClsTemplate:"{iconCls}",position:a1,dataSource:bb,readDataSource:!0,trigger:aR,events:{}},ao=a4.extend({init:function(){a4.fn.init.apply(this,arguments);var o,e=this,n=bc(e.element),q=bc(n).children("ul, ol").first(),p=e.options,c=p.dieOnError,l=p.dataSource,h=p.cls;if(o=e._eventNS=".shieldTabs"+e.getInstanceId(),q.length<=0?(q=null,e._noTabList=!0):e._noTabList=!1,e._tabList=q,n.addClass("sui-tabs sui-tabs-"+p.position+(h?" "+h:"")),n.on("keydown"+o,a7(e._keydown,e)),l){e.dataSource=aQ.create(l)}else{if(!q){return e.destroy(),void au("shieldTabs: No dataSource or tabs UL element found.",c)}e.dataSource=aQ.create({data:q,schema:{parse:function(g){var f=[];return bc(g).children("li").each(function(){var j=bc(this),b={title:j.html(),titleCls:j.attr("data-title-class"),itemCls:j.attr("data-item-class"),href:j.attr("data-href"),disabled:j.attr("data-disabled")?!!j.attr("data-disabled"):a9(j.attr(a0))&&null!==j.attr(a0),iconUrl:j.attr("data-icon-url"),iconCls:j.attr("data-icon-cls")};f.push(b)}),f}}})}bc(aT).on(aN+o,a7(e._adjustTabListHeight,e)),bc(n).children("div").hide(),e.dataSource.on(aC+o,a7(e._dsChange,e)),(!l||p.readDataSource)&&e.dataSource.read()},_dsChange:function(){this._render()},_getItemIcon:function(g){var j,b=this.options,h=a2(b.iconUrlTemplate,g);return h&&"undefined"!==h?bc('<span class="sui-tabs-tab-icon"/>').append('<img src="'+h+'"/>'):(j=a2(b.iconClsTemplate,g),j&&"undefined"!==j?bc('<span class="sui-tabs-tab-icon"/>').addClass(j):bb)},_render:function(){var m,C,e,b,w,B=this,y=bc(B.element),x=B.options,z=x.active,A=B._tabList,G=B.dataSource.view||[],F=G.length,c=[];if(B._initialized&&(bc(A).remove(),bc(y).children("div").remove(),B._tabList=A=B._divs=m=bb),!A){for(B._tabList=A=bc("<ul/>").prependTo(y),C=0;F>C;C++){w=G[C],A.append(bc("<li/>").append(B._getItemIcon(w),'<span class="sui-tabs-tab-text">'+a2(x.titleTemplate,w)+"</span>"))}}if(x.position==aZ&&A.appendTo(y),A.addClass("sui-tabs-tablist"+(x.collapsible?" sui-tabs-tablist-collapsible":"")),B._initialized||a9(y.attr(aD))||y.attr(aD,"0"),B._tabListHeight=A.outerHeight(),bc(y).children("div").length<=0){for(C=0;F>C;C++){bc(y).append('<div class="sui-tabs-cust"/>')}}for(B._divs=m=bc(y).children("div"),bc(m).addClass("sui-tabs-item"),bc(m).hide(),C=0;F>C;C++){w=G[C],e=A.children("li:eq("+C+")"),b=bc(m[C]);var E=a2(x.titleClsTemplate,w),D=a2(x.itemClsTemplate,w),j=a2(x.disabledTemplate,w);E&&"undefined"!==E&&e.addClass(E),D&&"undefined"!==D&&b.addClass(D),(aF(j)&&j||"true"===j||"1"===j||1===j)&&c.push(C),e.on(x.trigger+B._eventNS,a7(B._select,B,C,e,b))}if(B._initialized=!0,z!==!1&&(z=aH(z)?z:0,z=am(0,ap(z,m.length-1)),B._selectedIndex=z,B._activate(z,!0,!1)),c.length>0){for(C=0;C<c.length;C++){B.enabled(c[C],!1)}}},_select:function(t,s,r){var q,p,o,u=this,n=u.options,m=n.collapsible,l=u.dataSource.view||[];u.enabled(t)&&(t!==u._selectedIndex||m)&&(s=s||bc(u._tabList).children("li:eq("+t+")"),r=r||bc(u._divs[t]),q=bc(s).hasClass("sui-tabs-tab-active"),p=!(q&&m&&n.trigger!==aS),o=u.trigger("select",{tab:s,content:r,active:q,activate:p,index:t,item:l[t]}),o.isDefaultPrevented()||(u._selectedIndex=t,u._activate(t,p,!0,s,r)))},_activate:function(D,y,G,B,C){var A,b,x,z,w,v,E=this,u=E.options,j=u.animation,c=j.enabled,F=E.dataSource.view||[];E.enabled(D)&&(y||D===E._activeIndex)&&(B=B||bc(E._tabList).children("li:eq("+D+")"),C=C||bc(E._divs[D]),A=F[D],bc(E._divs).stop(!0,!0),bc(E._tabList).children("li").removeClass("sui-tabs-tab-active"),w=function(){v=function(){G&&(b=E.trigger("activate",{tab:B,content:C,active:y,index:D,item:A})),E._adjustTabListHeight()},y?(E._activeIndex=D,bc(B).addClass("sui-tabs-tab-active"),x=a2(u.hrefTemplate,A),x&&"undefined"!==x?bc(C).load(x,bb,function(e,d,f){E.trigger("load",{responseText:e,textStatus:d,jqXHR:f,tab:B,content:C,active:y,index:D,item:A}),E._adjustTabListHeight()}):(z=a2(u.contentTemplate,A),z&&"undefined"!==z&&bc(C).html(z)),bc(C).fadeIn(c?j.activateDuration:0,v)):(E._activeIndex=bb,v())},a9(E._activeIndex)?bc(E._divs).each(function(d){d!==E._activeIndex?bc(this).hide():bc(this).fadeOut(c?j.deactivateDuration:0,w)}):w())},_adjustTabListHeight:function(){var m,f=this,l=f.options.position,k=bc(f._tabList),g=bc(f._divs[f._activeIndex]),j=g.innerHeight();(l==a6||l==a5)&&(k.css("min-height",j),m=bc(k.children("li").last()),f._tabListHeight>=j?m.addClass("sui-tabs-tab-last-bottom"):m.removeClass("sui-tabs-tab-last-bottom"))},_keydown:function(e){var d,f=this;switch(e.keyCode){case aU.UP:case aU.LEFT:f._selectPrevNext(e,!0),d=!0;break;case aU.DOWN:case aU.RIGHT:f._selectPrevNext(e,!1),d=!0;break;case aU.SPACE:f.options.collapsible&&f._toggleCurrent(e),d=!0}d&&e.preventDefault()},_toggleCurrent:function(f){var e=this,c=e._selectedIndex;a9(c)&&e._activate(c,c!==e._activeIndex,!0)},_selectPrevNext:function(h,j){var g=this,k=g._selectedIndex,c=a9(k)?j?g._getPrevSelectableIndex():g._getNextSelectableIndex():g._getFirstSelectableIndex();a9(c)&&c!==k&&g._select(c)},_getFirstSelectableIndex:function(){var d,e=this;return bc(e._tabList).children("li").each(function(b){return e.enabled(b)?(d=b,!1):void 0}),d},_getNextSelectableIndex:function(){var l,k=this,j=k._selectedIndex,b=bc(k._tabList).children("li"),h=b.length;if(h-1>j){for(l=j+1;h>l;l++){if(k.enabled(l)){return l}}}if(j>0){for(l=0;j>l;l++){if(k.enabled(l)){return l}}}return bb},_getPrevSelectableIndex:function(){var l,k=this,j=k._selectedIndex,b=bc(k._tabList).children("li"),h=b.length;if(j>0){for(l=j-1;l>=0;l--){if(k.enabled(l)){return l}}}if(h-1>j){for(l=h-1;l>j;l--){if(k.enabled(l)){return l}}}return bb},enabled:function(){var f,h=this,j=[].slice.call(arguments),g=j[0];if(f=bc(h._tabList).children("li:eq("+g+")"),f.length>0){if(!(j.length>1)){return !bc(f).hasClass("sui-tabs-tab-disabled")}j[1]?bc(f).removeClass("sui-tabs-tab-disabled"):bc(f).addClass("sui-tabs-tab-disabled")}},enabledIndices:function(){var e=this,d=[];return bc(e._tabList).children("li").each(function(f,b){bc(this).hasClass("sui-tabs-tab-disabled")||d.push(f)}),d},active:function(){var c=this,d=[].slice.call(arguments);return d.length>0?void c._activate(d[0],d[1],!1):c._activeIndex},content:function(c){return bc(this._divs)[c]},destroy:function(){var m=this,l=bc(m.element),h=m.options,b=h.cls,k=m._tabList,j=m._eventNS;m.dataSource&&m.dataSource.off(aC+j),bc(aT).off(j),bc(l).removeClass("sui-tabs sui-tabs-"+h.position+(b?" "+b:"")),bc(l).children("div").removeClass("sui-tabs-item"),bc(l).children(".sui-tabs-cust").remove(),m._divs=null,bc(k).children("li").removeClass("sui-unselectable").off(j),bc(k).removeClass("sui-tabs-tablist"),m._noTabList&&bc(k).remove(),m._tabList=m._noTabList=m._activeIndex=m._selectedIndex=m._initialized=m._tabListHeight=bb,a4.fn.destroy.call(m)}}),ao.defaults=bd,a8.ui.plugin("Tabs",ao)}(jQuery,shield,this);!function(z,v,r,n){var t,u,x=v.ui.Widget,w=document,y=Math.ceil,q=navigator.userAgent,p=r.opera,o=/msie/i.test(q)&&!p,s=o&&7===w.documentMode;z.extend;t={show:!1,showImage:!0,text:null,template:null,useSmallImage:!1},u=x.extend({init:function(c,f){var e=this;x.fn.init.apply(e,arguments),e.refresh(),e.options.show?e.show():e.hide()},destroy:function(){var c=this;z(c.mainElement).remove(),c.options.showImage&&(z(c.loadingImage).remove(),c.loadingImage=null),c.loadingText&&(z(c.loadingText).remove(),c.loadingText=null),z(c.backgroundElement).remove(),c.mainElement=c.backgroundElement=null,x.fn.destroy.call(c)},_render:function(){var B,D=this,A=D.options,C=A.template;if(D.mainElement=B=z("<div/>").appendTo(w.body),B.addClass("sui-loading-panel"),s&&B.addClass("sui-loading-panel-ie7"),C){C=z(C.replace(/^\s+/,"").replace(/\s+$/,"")),C.appendTo(w.body);var d=y((D.element.height()-C.height())/2),b=y((D.element.width()-C.width())/2);C.css({"z-index":"inherit",position:"relative",dispaly:"block",top:d+"px",left:b+"px"}).appendTo(B),D.template=C}else{if(A.showImage){var m=z("<span/>").appendTo(B);D.loadingImage=m,A.useSmallImage?m.addClass("sui-loading-image-small"):m.addClass("sui-loading-image")}A.text&&D._generateTextElement()}var h=z("<span/>").appendTo(B);D.backgroundElement=h,h.addClass("sui-loading-back"),D._setPosition()},_generateTextElement:function(){var d=this,e=z("<span/>").appendTo(d.mainElement);e.get(0).innerHTML=d.options.text,e.addClass("sui-loading-text"),d.loadingText=e},refresh:function(){var d=this,c=(d.options,d.mainElement&&"none"!=d.mainElement.css("display")?!1:!0);d.destroy(),d._render(),c?d.hide():d.show()},_setPosition:function(){var b=this,e=(b.options,b.element),g=e.offset(),h=v.ui.Util.GetMaxZIndex("div")+1;b.mainElement.css({left:y(g.left)+"px",top:y(g.top)+"px","z-index":h}),s&&(b.loadingText&&b.loadingText.css({"z-index":h+1}),b.loadingImage&&b.loadingImage.css({"z-index":h+1}),b.template&&b.template.css("z-index",h+1))},_setElementsPosition:function(){var b=this,l=b.element.height(),B=b.loadingImage,A=b.loadingText,k=B?B.height():0,j=A?A.height():0,m=y((l-k-j)/2);B&&b.loadingImage.css("top",m+"px"),A&&b.loadingText.css("top",m+"px")},show:function(){var e=this,f=e.options,d=e.element;e.mainElement.width(d.get(0).offsetWidth),e.mainElement.height(d.get(0).offsetHeight),e._setPosition(),e.mainElement.css("display",""),f.template||e._setElementsPosition()},hide:function(){this.mainElement.css("display","none")},setText:function(b){this.options.text=b,this.refresh()}}),u.defaults=t,v.ui.plugin("LoadingPanel",u)}(jQuery,shield,this);!function(V,U,y,z){var N=U.ui.Widget,B=(U.Class,U.Constants),R=document,H=B.SVG_NS,J=!!R.createElementNS&&!!R.createElementNS(H,"svg").createSVGRect,M=(V.map,V.each,V.proxy,U.to["int"]),E=(U.is.func,U.error,Math.min),D=Math.max,P="disabled",S="px",I="float",Q="left",L="right",O="horizontal",G="vertical",T="circular",F=function(k,j,g,h){var f=(h-90)*Math.PI/180;return{x:k+g*Math.cos(f),y:j+g*Math.sin(f)}},A=function(j,q,k,p,o){var n=F(j,q,k,o),m=F(j,q,k,p),l=180>=o-p?"0":"1";return["M",n.x,n.y,"A",k,k,0,l,0,m.x,m.y].join(" ")},C={cls:z,enabled:!0,min:0,max:100,value:0,layout:O,layoutOptions:{circular:{width:30,color:"#197BB5",colorDisabled:"#C4C4C4",borderColor:"#C4C4C4",borderWidth:1,backgroundColor:"#FFFFFF"}},reversed:!1,text:{enabled:!1,template:"{0}"},events:{}},K=N.extend({init:function(){N.fn.init.apply(this,arguments);var m,c=this,h=V(c.element),f=c.options,e=f.layout,k=f.cls;h.addClass("sui-progressbar"),e===G?h.addClass("sui-progressbar-vertical"):e===T&&h.addClass("sui-progressbar-circular"),e!==T&&(c.inner=V("<div/>").addClass("sui-progressbar-value").appendTo(h)),k&&h.addClass(k),e===O?(m=c.inner.css(I)||Q,m=f.reversed?m===Q?L:Q:m===L?L:Q,c.inner.css(I,m)):e==T&&(J||R.namespaces.scvprogressbar||R.namespaces.add("scvprogressbar","urn:schemas-microsoft-com:vml","#default#VML")),c._value=f.value,c._render(),c.enabled(f.enabled)},_render:function(){var ak,aa,d,ar=this,ai=ar.options,v=ai.layout,j=ai.reversed,ag=ai.min,al=ai.max,X=ar._value,ac=ai.text,ae=V(ar.element),am=ae.width(),ao=ae.height(),p=ar.inner,W=al-ag,b=M(100*(X-ag)/W);if(v===G){ak=M(b*ao/100),p.css({width:"100%",height:ak+S,"margin-top":(j?"0":ao-ak)+S})}else{if(v===O){p.css({width:b+"%",height:ao+S})}else{if(v!==T){return}var at="",af=ai.layoutOptions[v],o=af.width,ad=af.borderWidth,Z=ar._enabled?af.color:af.colorDisabled,m=af.borderColor,Y=af.backgroundColor,aq=am/2,ap=ao/2,ab=(am>ao?ap:aq)-o/2-1,an=2*ab,h=M(360*(X-ag)/W),ah=j?360-h:0,c=ah+h,aj=o-2*ad;J?(at='<svg xmlns="'+H+'" version="1.1" width="'+am+'" height="'+ao+'">',ad>0&&(at+='<circle cx="'+aq+'" cy="'+ap+'" r="'+ab+'" stroke="'+m+'" stroke-width="'+o+'" fill="none" />'),X>=al?at+='<circle cx="'+aq+'" cy="'+ap+'" r="'+ab+'" stroke="'+Z+'" stroke-width="'+aj+'" fill="none" />':(at+='<circle cx="'+aq+'" cy="'+ap+'" r="'+ab+'" stroke="'+Y+'" stroke-width="'+aj+'" fill="none" />',at+='<path d="'+A(aq,ap,ab,ah,c)+'" stroke="'+Z+'" stroke-width="'+aj+'" fill="none" />'),at+="</svg>"):(at+='<scvprogressbar:group style="width:'+am+"px; height:"+ao+'px;" coordsize="'+am+","+ao+'">',ad>0&&(at+='<scvprogressbar:oval style="width:'+an+"px; height:"+an+"px; position:relative; top:"+ap+"px; left:"+aq+'px;" strokeweight="'+o+'px" strokecolor="'+m+'" fill="false"><scvprogressbar:fill opacity="0%" color="transparent" /></scvprogressbar:oval>'),X>=al?at+='<scvprogressbar:oval style="width:'+an+"px; height:"+an+"px; position:relative; top:"+ap+"px; left:"+aq+'px;" strokeweight="'+aj+'px" strokecolor="'+Z+'" fill="false"><scvprogressbar:fill opacity="0%" color="transparent" /></scvprogressbar:oval>':(at+='<scvprogressbar:oval style="width:'+an+"px; height:"+an+"px; position:relative; top:"+ap+"px; left:"+aq+'px;" strokeweight="'+aj+'px" strokecolor="'+Y+'" fill="false"><scvprogressbar:fill opacity="0%" color="transparent" /></scvprogressbar:oval>',at+='<scvprogressbar:arc style="width:'+an+"px; height:"+an+"px; position:relative; top:"+ap+"px; left:"+aq+'px;" fill="false" strokeweight="'+aj+'px" strokecolor="'+Z+'" startangle="'+ah+'" endangle="'+c+'"><scvprogressbar:fill opacity="0%" color="transparent" /></scvprogressbar:arc>'),at+="</scvprogressbar:group>"),ae.html(at)}}ac.enabled&&(ae.find(".sui-progressbar-text").remove(),ar.text=V('<div class="sui-progressbar-text" />').appendTo(ae).html(U.format.call(ar,ac.template,ar._value)),aa=ar.text.width(),d=ar.text.height(),ar.text.css({top:(ao-d)/2+S,left:(am-aa)/2+S}))},value:function(){var f,g=this,k=g.options,j=[].slice.call(arguments);if(!(j.length>0)){return g._value}if(g._enabled){f=D(E(j[0],k.max),k.min);var h=g.trigger("change",{value:f});h.isDefaultPrevented()||(g._value=f,g._render(),f>=k.max&&g.trigger("complete"))}},enabled:function(){var j,c=this,h=V(c.element),g=[].slice.call(arguments);return g.length>0?(j=!!g[0],j?h.removeAttr(P).removeClass("sui-progressbar-disabled"):h.attr(P,P).addClass("sui-progressbar-disabled"),c._enabled=j,c.options.layout==T&&c._render(),void 0):c._enabled},destroy:function(){var d=this,e=d.options.cls;V(d.element).removeClass("sui-progressbar sui-progressbar-disabled sui-progressbar-vertical sui-progressbar-circular"+(e?" "+e:"")).empty(),N.fn.destroy.call(d)}});K.defaults=C,U.ui.plugin("ProgressBar",K)}(jQuery,shield,this);!function(aK,aI,S,aH){var an,aq,ab,ap,ax,at,aD=aI.ui.Widget,ac=(aI.Class,aI.DataSource),ad=aI.ui.Position,az=aI.Constants.KeyCode,au=document,aG=aK.proxy,Y=aK.each,af=aK.grep,al=aK.extend,V=aI.error,Z=aI.format,aJ=aI.is.defined,ao=aI.is["boolean"],U=aI.is.integer,aa=aI.is.func,aC="horizontal",aw="vertical",W="click",am="focus",ag="blur",aj="change",X="keydown",ai="tabindex",ah="disabled",ak="sui-menu-item-level",aB="sui-menu-item-expanded",ar="sui-menu-item-disabled",aE="sui-menu-item-selected",ae="sui-menu-item-index",ay="sui-menu-item-hover",aF="sui-menu-item-data-item",av="sui-menu-item-parent",aA="sui-menu-item-cc",T="sui-menu-item-cc-parent";an={cls:aH,width:aH,height:aH,dataSource:aH,readDataSource:!0,orientation:aC,delay:100,animation:{enabled:!0,openDelay:100,closeDelay:50},contentTemplate:"{content}",overflow:"flipfit",events:{}},aq=aD.extend({init:function(){aD.fn.init.apply(this,arguments);var y,v,u,w,x,B=this,z=aK(B.element),A=B.options,b=A.dieOnError,t=A.dataSource,h=A.cls,e=A.renderToINTERNAL,c=A.wrapOriginalINTERNAL,C=aJ(c)?c:!0;if(B._original=y=aK(B.element),B._tagname=u=y.prop("tagName").toLowerCase(),B._isContext=A.isContextINTERNAL,x=B._eventNS=".shieldMenu"+B.getInstanceId(),C?(B.wrapper=y.wrap("<div/>").parent(),B._isWrapped=!0):B._isWrapped=!1,y.hide(),B.element=z=aK('<ul class="sui-menu sui-menu-top sui-menu-'+A.orientation+(h?" "+h:"")+'"/>').on(am+x,aG(B._focus,B)).on(ag+x,aG(B._blur,B)).on(X+x,aG(B._keydown,B)),aK(e).length>0?aK(e).append(z):y.after(z),aJ(A.width)&&z.css("width",A.width),aJ(A.height)&&z.css("height",A.height),v=y.attr(ai),z.attr(ai,aJ(v)?v:"0"),B._isRtl=aI.support.isRtl(z),t){B.dataSource=ac.create(t)}else{if("ul"!==u){return B.destroy(),void V("shieldMenu: No dataSource or underlying UL element found.",b)}w=function(f){var g=[];return aK(f).children("li").each(function(){var l=aK(this),k=l.children("ul").length>0,j={cls:l.attr("data-class"),content:k?l.children().not("ul").first().html():l.html(),href:l.attr("data-href")?l.attr("data-href"):l.children().not("ul").first().attr("href"),disabled:l.attr("data-disabled")?l.attr("data-disabled"):aJ(l.attr(ah))&&null!==l.attr(ah),separator:"separator"===l.attr("data-role"),iconUrl:l.attr("data-icon-url"),iconCls:l.attr("data-icon-cls")};k&&(j.items=w(l.children("ul")[0])),g.push(j)}),g},B.dataSource=ac.create({data:y,schema:{parse:w}})}B.dataSource.on(aj+x,aG(B._dsChange,B)),A.readDataSource&&B.dataSource.read()},refresh:function(b){this.refreshWithElement(this._original,b)},_isFocused:function(){return aK(this.element).hasClass("sui-menu-focus")},_focus:function(e){var d=this;d._blurTimeout&&(clearTimeout(d._blurTimeout),d._blurTimeout=null),d._isFocused()||(aK(d.element).addClass("sui-menu-focus"),d.trigger(am))},_blur:function(e){var d=this;d._isFocused()&&(d._blurTimeout&&clearTimeout(d._blurTimeout),d._blurTimeout=setTimeout(function(){aK(d.element).removeClass("sui-menu-focus"),d._collapseAll(),d._deselectAll(),d.trigger(ag)},100))},_dsChange:function(){var b=this;b._renderItems(b.dataSource.view,b.element,0,null)},_getItemIcon:function(d){var e=aK('<span class="sui-menu-item-icon"/>');return d.iconUrl?e.append('<img src="'+d.iconUrl+'"/>'):d.iconCls&&e.addClass(d.iconCls),e},_renderItems:function(x,z,H,s){var L,O,o,e,F,K,M,J,k,p,I,c,N=this,E=N.options,q=(x||[]).length,f=af(x||[],function(b){return b.iconUrl||b.iconCls}).length>0;for(L=0;q>L;L++){O=x[L],o=!!O.disabled,F=O.href,K=O.separator,p=!K&&O.items&&O.items.length>0,k=O.iconUrl||O.iconCls,e=K?"&nbsp;":Z.call(N,E.contentTemplate,O),J=aK('<a class="sui-menu-item-link" '+(F?'href="'+F+'"':"")+' tabindex="-1"/>').append('<span class="sui-menu-item-text'+(p?" sui-menu-item-text-hc":"")+'">'+e+"</span>"),M=aK('<li class="sui-menu-item sui-unselectable'+(o?" sui-menu-item-disabled":"")+(K?" sui-menu-item-separator":"")+(O.cls?" "+O.cls:"")+'"/>').on("selectstart",function(){return !1}).appendTo(z).data(aF,O).data(av,s).data(ak,H).data(ar,o).data(ae,L).append(J),J.click(aG(N._itemClicked,N,M)).on(am,aG(N.focus,N)),!K&&f&&(H>0||k||E.orientation===aw)&&J.prepend(N._getItemIcon(O)),p&&(J.append('<span class="sui-menu-item-children-caret"/>'),I=aK('<div class="sui-menu-submenu"/>').hide().data(T,M).appendTo(M),I.css("z-index",aI.ui.Util.GetMaxZIndex(".sui-menu, .sui-menu-submenu",au.body)+1),c=aK('<ul class="sui-menu sui-menu-vertical"/>').appendTo(I),N._renderItems(O.items,c,H+1,M),M.data(aA,I).hover(aG(N._itemMouseEnter,N,M,!0),aG(N._itemMouseLeave,N,M,!0)))}},_itemMouseEnter:function(e,f){var d=this;e.addClass(ay),setTimeout(function(){e.hasClass(ay)&&d._itemExpand(e,f)},d.options.delay)},_itemMouseLeave:function(e,d){var f=this;e.removeClass(ay),f._itemCollapse(e,!0,d)},_itemExpand:function(y,p,j){var r,w=this,v=w.options,t=v.animation,k=y.data(ak),x=y.data(aA),s=0===k&&v.orientation===aC,f=y.data(aF),u=y.data(av);w._isExpandable(y)&&w._canHaveFocus(y)&&x&&(x.stop(!0,!0),u&&!w._isExpanded(u)&&w._itemExpand(u,!1,!0,!0),p&&(r=w.trigger("expand",{element:y,item:f})),s&&x.css("min-width",y.outerWidth()),x.show(),ad.Set(x,y,{source:"left top",target:s?"left bottom":"right top",overflow:v.overflow}),!j&&t&&t.enabled?x.hide().slideDown(t.openDelay,function(){y.data(aB,!0)}):y.data(aB,!0))},_itemCollapse:function(t,u,k,j){var f,s=this,m=s.options.animation,p=t.data(aA),b=t.data(aF),r=t.data(av);p&&(p.stop(!0,!0),k&&(f=s.trigger("collapse",{element:t,item:b})),u=aJ(u)?!!u:!0,aK(p).find("ul").first().children().each(function(){var c=aK(this);s._isExpanded(c)&&s._itemCollapse(c,u,!1,!0)}),!j&&m&&m.enabled?p.slideUp(m.closeDelay,function(){t.data(aB,!1),u&&r&&!r.hasClass(ay)&&s._itemCollapse(r,!0,!1,!0)}):(p.hide(),t.data(aB,!1),u&&u&&r&&!r.hasClass(ay)&&s._itemCollapse(r,!0,!1,!0)))},_collapseAll:function(){var c=this;aK(c.element).children("li").each(function(){var b=aK(this);c._isExpanded(b)&&c._itemCollapse(b,!1,!1,!0)})},_isExpandable:function(b){return !!b.data(aA)},_isExpanded:function(b){return b.data(aB)===!0},_hasExpanded:function(e){var g=this,f=e.data(aA);return e.data(aB)!==!0?!1:af(aK(f).find("ul").first().children(),function(c){return g._isExpanded(aK(c))||g._hasExpanded(aK(c))}).length>0},_canHaveFocus:function(b){return !b.data(ar)&&!b.data(aF).separator},_keydown:function(h){var g,b=this,f=!0;switch(h.keyCode){case az.UP:b._move("up",h);break;case az.DOWN:b._move("down",h);break;case az.LEFT:b._move("left",h);break;case az.RIGHT:b._move("right",h);break;case az.SPACE:case az.ENTER:g=b._getSelected(),aJ(g)&&(b._isExpanded(g)||b._itemExpand(g,!0),b._itemClicked(g));break;default:f=!1}f&&h.preventDefault()},_getFirstSelectableItem:function(g){var e,f=this;return aK(g).children("li").each(function(){var b=aK(this);return f._canHaveFocus(b)?(e=b,!1):void 0}),e},_getNextSelectableItem:function(o){var q,j,m=this,k=o.parent(),p=o.index(),n=k.children("li"),l=n.length;if(l-1>p){for(j=p+1;l>j;j++){if(q=aK(n[j]),m._canHaveFocus(q)){return q}}}if(p>0){for(j=0;p>j;j++){if(q=aK(n[j]),m._canHaveFocus(q)){return q}}}return o},_getPrevSelectableItem:function(o){var q,j,m=this,k=o.parent(),p=o.index(),n=k.children("li"),l=n.length;if(p>0){for(j=p-1;j>=0;j--){if(q=aK(n[j]),m._canHaveFocus(q)){return q}}}if(l-1>p){for(j=l-1;j>p;j--){if(q=aK(n[j]),m._canHaveFocus(q)){return q}}}return o},_move:function(o,d){var f,n,m,b,p=this,q=p._getSelected();p._isRtl;if(aJ(q)){if(f=q.parent().hasClass("sui-menu-vertical")?aw:aC,n=q.data(av),m=n?n.parent().hasClass("sui-menu-vertical")?aw:aC:aH,f===aC){if("up"===o){return void p._itemCollapse(q,!1,!0)}if("down"===o){if(!p._isExpandable(q)){return}p._itemExpand(q,!0),b=p._getFirstSelectableItem(q.find(".sui-menu-submenu > .sui-menu").first())}else{if("left"===o){if(b=p._getPrevSelectableItem(q),b===q){return}}else{if("right"!==o){return}if(b=p._getNextSelectableItem(q),b===q){return}}}}else{if("up"===o){if(0===q.index()){if(n&&m===aC){b=n,p._itemCollapse(b,!1,!0)}else{if(b=p._getPrevSelectableItem(q),b===q){return}}}else{if(b=p._getPrevSelectableItem(q),b===q){return}}}else{if("down"===o){if(b=p._getNextSelectableItem(q),b===q){return}}else{if("left"===o){if(!n||m!==aw){return}b=n,p._itemCollapse(b,!1,!0)}else{if("right"!==o){return}if(!p._isExpandable(q)){return}p._itemExpand(q,!0),b=p._getFirstSelectableItem(q.find(".sui-menu-submenu > .sui-menu").first())}}}}}else{b=p._getFirstSelectableItem(p.element)}aJ(b)&&(p._setSelected(b,!0),p.trigger("select",{element:b,item:b.data(aF)}))},_deselectAll:function(){var c=this;aK(c.element).find("."+aE).each(function(){aK(this).removeClass(aE)})},_setSelected:function(e,f){var g=this;g._canHaveFocus(e)&&(f?(g._deselectAll(),aK(e).addClass(aE)):aK(e).removeClass(aE))},_getSelected:function(){var e=this,d=aK(e.element).find("."+aE).first();return aK(d).length>0?d:aH},_isSelected:function(c){return aK(c).hasClass(aE)},_itemClicked:function(l,h){var k,m,f=this,j=l.data(aF);h&&h.isPropagationStopped()||(f._focus(),f._canHaveFocus(l)&&(m={item:j},f._isContext&&(m.element=at),k=f.trigger(W,m),h&&(h.stopPropagation(),k.isDefaultPrevented()&&h.preventDefault())))},_getItemByIndex:function(){var l,d,h=this,j=[].slice.call(arguments),k=aH;if(j.length>0){for(d=0;d<j.length;d++){if(l=j[d],!U(l)){return aH}if(k=0===d?aK(h.element).children("li:eq("+l+")"):aK(aK(k).data(aA)).children("ul").first().children("li:eq("+l+")"),aK(k).length<=0){return aH}}}return k},_getItemIndex:function(d){var c=[];do{c.unshift(d.data(ae)),d=d.data(av)}while(d);return c},enabled:function(){var j,b=this,h=[].slice.call(arguments),d=ao(h[0])?h.shift():aH;if(j=b._getItemByIndex.apply(this,h),aJ(j)){if(!aJ(d)){return !j.data(ar)}j.data(ar,!d),aK(j)[d?"removeClass":"addClass"]("sui-menu-item-disabled")}},expanded:function(){var h,b=this,g=[].slice.call(arguments),d=ao(g[0])?g.shift():aH;if(h=b._getItemByIndex.apply(this,g),aJ(h)){if(!aJ(d)){return b._isExpanded(h)}d?(b._collapseAll(),b._itemExpand(h,!1)):b._itemCollapse(h,!1,!1)}aJ(d)&&d===!1&&0===g.length&&b._collapseAll()},selected:function(){var b,h=this,g=[].slice.call(arguments),d=ao(g[0])?g.shift():aH;if(b=h._getItemByIndex.apply(this,g),aJ(b)){if(!aJ(d)){return h._isSelected(b)}h._setSelected(b,d)}aJ(d)&&d===!1&&0===g.length&&h._deselectAll()},selectedIndex:function(){var b=this,d=b._getSelected();return aJ(d)?b._getItemIndex(d):void 0},selectedData:function(){var b=this,e=b._getSelected();return aJ(e)?aK(e).data(aF):void 0},selectedItem:function(){return this._getSelected()},destroy:function(){var d=this,e=d._eventNS;d.dataSource&&d.dataSource.off(aj+e),aK(d.element).off(e).remove(),d._isWrapped&&d._original.unwrap(),d._original.show(),d._original=null,aD.fn.destroy.call(d)}}),aq.defaults=an,aI.ui.plugin("Menu",aq),ab=al({},an,{orientation:aw,target:aH,filter:aH,focusOnOpen:!0}),ap=aD.extend({init:function(){aD.fn.init.apply(this,arguments);var n,m,c=this,h=aK(c.element),o=c.options,e=o.events,l={};n=c._eventNS=".shieldContextMenu"+c.getInstanceId(),c.menuElement=m=aK('<div class="sui-context-menu"/>').hide().appendTo(au.body),Y(["focus","blur","expand","collapse","click","select"],function(f,b){var g=e[b];aa(g)&&(l[b]=aG(g,c))}),c._menu=new aq(h,al({},o,{renderToINTERNAL:m,wrapOriginalINTERNAL:!1,isContextINTERNAL:!0,events:l})),c._mouseTracker=new aI.MouseTracker,aK(o.target).on("contextmenu"+n,o.filter,function(b){return b.preventDefault(),c._open(c._mouseTracker.getPosition(b),aK(b.currentTarget),!0,!1),!1}),aK(au).on("mousedown"+n,function(b){aK(b.target).closest(".sui-context-menu").length<=0&&c._closeOpen(!0)})},_open:function(o,r,l,c){var n,t=this,s=t.menuElement,q=t.options,p=q.animation,m=q.focusOnOpen;t._closeOpen(!1),l&&(n=t.trigger("open",{element:r}),n.isDefaultPrevented())||(s.stop(!0,!0),s.show(),ad.Set(s,new aI.Event({pageX:o.x,pageY:o.y}),{source:"left top",target:"left top",overflow:q.overflow}),p&&p.enabled?s.hide().slideDown(p.openDelay,function(){ax=t,at=r,m&&t.focus()}):(ax=t,at=r,m&&t.focus()))},_close:function(h){var j,g=this,f=g.menuElement,k=g.options.animation;h&&(j=g.trigger("close"),j.isDefaultPrevented())||(ax=at=null,f.stop(!0,!0),k&&k.enabled?f.slideUp(k.closeDelay):f.hide())},_closeOpen:function(b){ax&&ax.closeINTERNAL(!0)},closeINTERNAL:function(b){this._close(b)},focus:function(){aK(this.menuElement).find(".sui-menu").first().focus()},visible:function(){var h,g,f=this,e=[].slice.call(arguments);return e.length>0?(h=!!e[0],g=e[1]?e[1]:f._mouseTracker.getPosition(),h?f._open(g,e[2],!1,!1):f._close(!1),f._visible=h,void 0):f._visible},enabled:function(){return this._menu.enabled.apply(this._menu,arguments)},expanded:function(){return this._menu.expanded.apply(this._menu,arguments)},selected:function(){return this._menu.selected.apply(this._menu,arguments)},selectedIndex:function(){return this._menu.selectedIndex.apply(this._menu,arguments)},selectedData:function(){return this._menu.selectedData.apply(this._menu,arguments)},selectedItem:function(){return this._menu.selectedItem.apply(this._menu,arguments)},destroy:function(){var d=this,e=d._eventNS;aK(au).off(e),aK(d.options.target).off(e),d._mouseTracker&&(d._mouseTracker.destroy(),d._mouseTracker=null),d._close(),d._menu&&(d._menu.destroy(),d._menu=null),aK(d.menuElement).remove(),aD.fn.destroy.call(d)}}),ap.defaults=ab,aI.ui.plugin("ContextMenu",ap)}(jQuery,shield,this);!function(s,r,n,k){var t,q,p=r.ui.Widget,m=(s.extend,r.is),o=m.undefined,l="change";t={min:0,max:5,step:1,symbolWidth:16,symbolHeight:16,enabled:!0,markPreset:!1,value:0,events:{}},q=p.extend({init:function(d,f){var e=this;p.fn.init.apply(e,arguments),e._enabled=e.options.enabled,e._renderRating(d,f,!1)},_setSelection:function(c){var d=this;return d._enabled?(d._value=c,d._markPreset&&(d._markPreset=!1),d._range.find(".sui-rating-hover").hide(),d._range.find(".sui-rating-selected").width(c*d._symbolWidth-d._min*d._symbolWidth).show(),d.trigger(l),!0):void 0},_calcRawScore:function(h,j){var u=this,g=j.changedTouches?j.changedTouches[0].pageX:j.pageX,b=g-s(h).offset().left;return u._ltr||(b=u._range.width()-b),b>u._range.width()&&(b=u._range.width()),0>b&&(b=0),Math.ceil(b/u._symbolWidth*(1/u._step))},_setHover:function(g){var e,h,f=this;f._enabled&&(e=g*f._symbolWidth*f._step,h=f._range.find(".sui-rating-hover"),h.width()!=e&&(f._range.find(".sui-rating-selected").hide(),h.width(e).show()))},_touchHandler:function(f){var h=f.originalEvent.changedTouches,g=h[0],u="";switch(f.type){case"touchmove":u="mousemove";break;case"touchend":u="mouseup";break;default:return}var j=document.createEvent("MouseEvent");j.initMouseEvent(u,!0,!0,n,1,g.screenX,g.screenY,g.clientX,g.clientY,!1,!1,!1,!1,0,null),g.target.dispatchEvent(j),f.preventDefault()},_renderRating:function(z,B,y){var C=this,x=1;if(C._item=C.element,C._item.hasClass("sui-rating")||C._item.addClass("sui-rating"),C._ltr=!C.element.parent().hasClass("sui-rtl"),y){var A=null;o(C._value)?(A=isNaN(B.value)?t.value:B.value,C._value=A):A=C._value,C._enabled&&(C._wired=!1)}if(!C._initialized){C._min=isNaN(B.min)?t.min:B.min,C._max=isNaN(B.max)?t.max:B.max,C._step=isNaN(B.step)?t.step:B.step,C._symbolWidth=isNaN(B.symbolWidth)?t.symbolWidth:B.symbolWidth,C._symbolHeight=isNaN(B.symbolHeight)?t.symbolHeight:B.symbolHeight,C._value=isNaN(B.value)?t.value:B.value,C._markPreset=isNaN(B.markPreset)?t.markPreset:B.markPreset,z="DIV"==C._item[0].nodeName?"div":"span",x++;var v='<{{element}} id="shieldRating-range-{{index}}" class="sui-rating-range" tabindex="0"><{{element}} class="sui-rating-selected" style="height:'+C._symbolHeight+'px"></{{element}}><{{element}} class="sui-rating-hover" style="height:'+C._symbolHeight+'px"></{{element}}></{{element}}>',u=v.replace(/{{index}}/gi,x).replace(/{{element}}/gi,z);this.element.append(u),C._initialized=!0}C._item.find(".sui-rating-selected, .sui-rating-hover").height(C._symbolHeight),C._range=C._item.find(".sui-rating-range"),C._range.width(C._symbolWidth*(C._max-C._min)).height(C._symbolHeight);var w="sui-rating-preset"+(C._ltr?"":"-rtl");if(C._markPreset?C._item.find(".sui-rating-selected").addClass(w):C._item.find(".sui-rating-selected").removeClass(w),null!=C._value){var f=(C._value-C._min)*C._symbolWidth;C._item.find(".sui-rating-selected").width(f)}C._wired||(C._enabled&&(y||(C._range.on("touchmove touchend",C._touchHandler),C._range.mousemove(function(b){var d=C._calcRawScore(this,b);C._setHover(d)}),C._range.mouseleave(function(b){C._range.find(".sui-rating-hover").hide().width(0),C._item.trigger("hover",[null]).trigger("over",[null]),C._range.find(".sui-rating-selected").show()}),C._range.mouseup(function(b){var g=C._calcRawScore(this,b),e=g*C._step+C._min;C._setSelection(e),C._range.blur()}),C._range.keyup(function(b){(38==b.which||b.which==(C._ltr?39:37))&&C._setSelection(Math.min(C._value+C._step,C._max)),(40==b.which||b.which==(C._ltr?37:39))&&C._setSelection(Math.max(C._value-C._step,C._min))}))),C._wired=!0)},value:function(){var f=this,h=f.options,g=[].slice.call(arguments);if(!(g.length>0)){return o(f._value)?o(h.value)?f._value:h.value:f._value}var e=g[0];e<f._min||e>f._max||(f.options.value=e,f._value=e,f._renderRating(f,h,!0))},enabled:function(){var f=this,g=f.options,e=f.element,h=[].slice.call(arguments);return h.length>0?(f._enabled=h[0],f._renderRating(f,g,!0),f._enabled?e.removeClass("sui-rating-disabled"):e.addClass("sui-rating-disabled"),void 0):f._enabled},destroy:function(){var b=this;s(b.element).removeClass("sui-rating-hover sui-rating-selected sui-rating-disabled sui-rating-preset-rtl sui-rating-preset sui-rating").empty(),b._range.off("touchmove touchend",b._touchHandler),b._markPreset=b._enabled=b._min=b._max=b._value=b._ltr=b._item=b._symbolWidth=b._symbolHeight=b._step=b._wired=b._initialized=b._range=null,p.fn.destroy.call(b)}}),q.defaults=t,r.ui.plugin("Rating",q)}(jQuery,shield,this);!function(Q,R,A,w){var N=R.ui.Widget,E=(R.Class,R.DataSource),z=document,H=R.is,C=(R.get,R.format),P=R.to["int"],I=(Math.abs,Q.each,Q.proxy),x=(Q.extend,Q.map,A.opera),y=navigator.userAgent,M=/msie/i.test(y)&&!x,O=M&&7===z.documentMode,J="width",B="sui-selected",K="sui-disabled",G="click",F="px",D={currentPage:1,totalItems:null,pageSize:10,pageLinksCount:5,directionLinks:!0,boundaryLinks:!0,imageLinks:!1,messages:{infoBarTemplate:"{0} - {1} of {2} items",previousText:"&lsaquo;",nextText:"&rsaquo;",firstText:"&laquo;",lastText:"&raquo;",firstTooltip:"Go to the first page",previousTooltip:"Go to the previous page",nextTooltip:"Go to the next page",lastTooltip:"Go to the last page"}},L=N.extend({init:function(j,h){N.fn.init.apply(this,arguments);var k,f=this,e=f.options;f.currentPage=e.currentPage,f._createWrappers(),f._createPagerElements(),M&&f.element.on("selectstart",f._selectStart=function(){return !1}),f.element.on(G,"a",f._click=I(f._clickHandler,f)),e.dataSource?(k=f.dataSource=E.create(e.dataSource),k.on("change.shieldPager"+f.getInstanceId(),I(f._dataChange,f)),f._updateDataSource()):f.refresh(!0)},destroy:function(){var b=this;b.dataSource&&b.dataSource.off("change.shieldPager"+b.getInstanceId()),b.pagination=null,b.infoBox=null,b.element.off("selectstart",b._selectStart),b._selectStart=null,b.element.off(G,"a",b._click),b._click=null,b.startLinkIndex=null,b.endLinkIndex=null,b.element.remove(),N.fn.destroy.call(b)},_clickHandler:function(h){var g=Q(h.currentTarget),b=this;b.options;if(h.preventDefault(),!g.parent().hasClass(K)){var c=P(g.attr("data-page"));b.currentPage=c,b.refresh()}},_createWrappers:function(){var b=this,h=b.element;h.addClass("sui-pager sui-pager-core");var f=Q("<ul />").appendTo(h);O?f.addClass("sui-pagination sui-pagination-ie7"):f.addClass("sui-pagination");var d=Q("<div />").appendTo(h);M&&!O?d.addClass("sui-pager-info-box-ie"):d.addClass("sui-pager-info-box"),b.pagination=f,b.infoBox=d},_updateInfoBox:function(){var h=this,j=h.options,m=j.messages,o=j.pageSize*(h.currentPage-1)+1,n=o-1+j.pageSize,l=Math.ceil(j.totalItems/j.pageSize);n>j.totalItems&&(n=j.totalItems),0===j.totalItems&&(o=0);var k=C(m.infoBarTemplate,o,n,j.totalItems,h.currentPage,l);h.infoBox.empty(),h.infoBox.html(k)},_createPagerElements:function(){var ab=this,ac=ab.options,ae=ac.messages,aa=ab.currentPage,X=ab.pagination,Z=Math.ceil(ac.totalItems/ac.pageSize),V=Math.min(ac.pageLinksCount,Z),af="",Y="",S="",m="",T="",d=P((aa-1)/ac.pageLinksCount),q=d*ac.pageLinksCount+1;1==aa&&(S=" "+K),aa!=Z&&ac.totalItems||(m=" "+K),ac.imageLinks&&(ae.previousText="&nbsp;",ae.nextText="&nbsp;",ae.firstText="&nbsp;",ae.lastText="&nbsp;",Y="sui-navigation-links ");var h=Math.min(q+V,Z+1);ab.startLinkIndex=q,ab.endLinkIndex=h-1,d>0&&(af+="<li class='sui-pager-element'><a data-page='"+(ab.startLinkIndex-1)+"'>...</a></li>");for(var ad=q;h>ad;ad++){ad==aa&&(T=" "+B),af+="<li class='sui-pager-element'><a data-page='"+ad+"' class='sui-pager-number"+T+"'>"+ad+"</a></li>",T=""}ab.endLinkIndex<Z&&(af+="<li class='sui-pager-element'><a data-page='"+(ab.endLinkIndex+1)+"'>...</a></li>"),ac.directionLinks&&(af="<li class='sui-pager-element"+S+"'><a title='"+ae.previousTooltip+"' data-page='"+(aa-1)+"' class='"+Y+"sui-prev'>"+ae.previousText+"</a></li>"+af,af=af+"<li class='sui-pager-element"+m+"'><a title='"+ae.nextTooltip+"' data-page='"+(aa+1)+"' class='"+Y+"sui-next'>"+ae.nextText+"</a></li>"),ac.boundaryLinks&&(af="<li class='sui-pager-element"+S+"'><a title='"+ae.firstTooltip+"' data-page='1' class='"+Y+"'>"+ae.firstText+"</a></li>"+af,af=af+"<li class='sui-pager-element"+m+"'><a title='"+ae.lastTooltip+"' data-page='"+Z+"' class='"+Y+"'>"+ae.lastText+"</a></li>"),X.html(af);var W=X.find("a");if(W.length>0&&(Q(W[0]).addClass("sui-first"),Q(W[W.length-1]).addClass("sui-last")),O){var U=X.find("li");if(U.length>0){var c=0;for(ad=0;ad<U.length;ad++){var b=U[ad].clientWidth;c+=b,Q(U[ad]).css(J,b+F)}X.css(J,c+F)}}},_dataChange:function(){var g=this,k=g.options,f=g.dataSource,j=f.take,h=Math.ceil(f.skip/j)+1;g.currentPage=h,k.pageSize=j,k.totalItems=f.total,g.refresh(!0)},refresh:function(f){var e=this,d=e.options;Math.ceil(d.totalItems/d.pageSize),e.currentPage,e.dataSource;e.pagination.empty(),e._createPagerElements(),e._updateInfoBox(),f||(e._updateDataSource(),e.trigger("change",{currentPage:e.currentPage,pageSize:d.pageSize}))},_updateDataSource:function(){var d=this,e=d.dataSource,f=d.options;e&&(e.skip=(d.currentPage-1)*f.pageSize,e.take=f.pageSize,e.read())},page:function(c){var e=this;if(!c){return e.currentPage}var f=P(c);e._isValidPage(f)&&(e.currentPage=f,e.refresh())},first:function(){this.currentPage=1,this.refresh()},last:function(){var e=this,d=e.options,f=Math.ceil(d.totalItems/d.pageSize);e.currentPage=f,e.refresh()},next:function(){var e=this,d=e.options,f=Math.ceil(d.totalItems/d.pageSize);e.currentPage!=f&&(e.currentPage=e.currentPage+1,e.refresh())},prev:function(){var b=this;b.options;1!=b.currentPage&&(b.currentPage=b.currentPage-1,b.refresh())},pageSize:function(c){var f=this,h=f.options;if(!c){return h.pageSize}var g=P(c);f._isValidPageSize(g)&&(f.currentPage=1,h.pageSize=g,f.refresh())},_isValidPage:function(g){var e=this.options,f=Math.ceil(e.totalItems/e.pageSize);return H.integer(g)?g>f||1>g?(R.error("Invalid page number. The page number must be greater than 0 and less than "+f+".",e.dieOnError),!1):!0:(R.error("Invalid page number. The page number must integer.",e.dieOnError),!1)},_isValidPageSize:function(d){var e=this.options;return H.integer(d)?1>d?(R.error("Invalid page number. The page number must be greater than 0 (zero).",e.dieOnError),!1):!0:(R.error("Invalid page size number. The page size number must be integer.",e.dieOnError),!1)}});L.defaults=D,R.ui.plugin("Pager",L),R.ui.Pager=L}(jQuery,shield,this);!function(aQ,aH,an,aM){var ac,bk,bz,bh,bs,a1,af,a0,bx,aZ,aY,bm,al,aX,bp,aV,br,aU,aN,aT,bu,a2,aJ=aH.ui.Widget,aA=(aH.Class,aH.DataSource),aK=aH.Constants.KeyCode,av=aH.error,aR=aH.is.func,bj=aH.is.array,aL=aH.is.defined,ak=(aH.is.number,aH.to.array),bq=aH.to["int"],aW=aH.to.number,bo=aH.support.browser,at=aH.format,ar=document,aI=Math.min,bA=Math.max,bl=Math.pow,bB=aQ.extend,be=(aQ.map,aQ.each),aP=aQ.proxy,a3=aQ.inArray,ag="alt",aS="title",aO="disabled",aD="checked",bf="selected",aF="tabindex",bc="mousedown",bD="mouseup",a5="mouseout",aB="click",aw="keydown",bv="keypress",bC="keyup",ae="cut",ab="paste",bw="dragstart",aG="dragenter",ai="dragover",ad="drop",aE="change",ay="focus",az="blur",bg="resize",aq="select",bt="input",au="value",a4="placeholder",a6="selectstart",a7="unselectable",a8="on",by="width",bb="height",bd="suilbitemdata",ap="suilbitemindex",ao="suilbitemvalue",a9="suilbitemtext",ax="uts",aC="uti",aj="uto",am=function(e){var d=aQ(e).prop("tagName").toLowerCase();return d==aq?ax:d==bt?aC:aj},bn=function(f){var g,e=aQ(f);e.focus(),e.get(0).setSelectionRange?(g=2*e.val().length,e.get(0).setSelectionRange(g,g)):e.val(e.val())},ah=function(d){d+="";var c=d.lastIndexOf(".");return c>-1?d.length-c-1:0},bi=function(f,e){if(f&&!aR(f)){if(bj(f)){for(var h=0;h<f.length;h++){bi(f[h],e)}}else{if(f.or||f.and){for(var g in f){f.hasOwnProperty(g)&&bi(f[g],e)}}else{f.value=e}}}};ac={enabled:!0,cls:aM,dataSource:aM,readDataSource:!0,valueTemplate:aM,textTemplate:aM,multiple:aM,selected:aM,values:aM,width:aM,height:aM,maxHeight:aM,events:{}},bk=aJ.extend({init:function(){aJ.fn.init.apply(this,arguments);var o,G,p,n,r=this,q=r.options,E=q.dieOnError,F=q.dataSource,H=q.selected,l=q.values,z=q.renderToINTERNAL,v=q.wrapOriginalINTERNAL,j=q.tabindexINTERNAL,g=q.filterINTERNAL,e=aL(g)?{filter:g}:{},b=aL(v)?v:!0;if(r._original=o=aQ(r.element),r._utype=n=am(o),n==aC&&q.multiple){return r.destroy(),void av("shieldListBox: Cannot initialize a multi-selection ListBox from an input element.",E)}if(r._eventNS=".shieldListBox"+r.getInstanceId(),aL(l)||aL(H)||n!=ax&&n!=aC||(l=o.val()),b?(r.wrapper=o.wrap("<span/>").parent(),r._isWrapped=!0):r._isWrapped=!1,o.hide(),r.element=p=aQ("<ul/>").on(ay+r._eventNS,aP(r._focus,r)).on(az+r._eventNS,aP(r._blur,r)),aL(q.width)&&p.css(by,q.width),aL(q.height)&&p.css(bb,q.height),aL(q.maxHeight)&&p.css("max-height",q.maxHeight),aQ(z).length>0?aQ(z).append(p):o.after(p),F){r.dataSource=aA.create(F,e),q.valueTemplate||(q.valueTemplate="{0}"),q.textTemplate||(q.textTemplate="{0}")}else{if(n!=ax){return r.destroy(),void av("shieldListBox: No dataSource or underlying SELECT element found.",E)}r.dataSource=aA.create(bB({},{data:o,schema:{type:aq}},e)),q.valueTemplate||(q.valueTemplate="{value}"),q.textTemplate||(q.textTemplate="{text}"),aL(q.multiple)||(q.multiple=o.not("[multiple]").length<=0)}p.addClass("sui-listbox"),q.cls&&p.addClass(q.cls),G=aL(j)?j:o.attr(aF),p.attr(aF,aL(G)?G:"0"),p.on(aw+r._eventNS,aP(r._keydown,r)),r.dataSource.on(aE+r._eventNS,aP(r._dsChange,r)),aL(l)?r._initValues=l:aL(H)&&(r._initSelected=H),q.readDataSource&&r.dataSource.read(),r.enabled(q.enabled)},refresh:function(b){this.refreshWithElement(this._original,b)},_focus:function(c){var d=this;d._oldSelection=d.selected(),d.trigger(ay)},_blur:function(g){var f=this,h=f._oldSelection,j=f.selected();(0!==aQ(h).not(j).length||0!==aQ(j).not(h).length)&&f.trigger(aE),f._oldSelection=j,f.trigger(az)},_dsChange:function(c){var d=this;d._render(),d._dsLoadedOnce||(d._dsLoadedOnce=!0,aL(d._initValues)?d.values(d._initValues):aL(d._initSelected)&&d.selected(d._initSelected))},_keydown:function(e){var d=this,f=!0;switch(e.keyCode){case aK.UP:d._move("up",e);break;case aK.DOWN:d._move("down",e);break;case aK.SPACE:d._toggleActive(e);break;case aK.ENTER:d._toggleActive(e);break;default:f=!1}f&&e.preventDefault()},_render:function(){var d=this,l=d.options,k=d.dataSource.view,j=aQ(d.element),n=d._utype,m=d._original;n==aC?d._original.val():aM;j.empty(),n==ax?m.empty():n==aC&&m.removeAttr(au),k&&be(k,function(e,h){var c=at.call(d,l.valueTemplate,h),f=at.call(d,l.textTemplate,h),b=aQ("<li>"+f+"</li>").addClass("sui-listbox-item sui-unselectable").click(function(g){d._enabled&&(d._setActive(aQ(this)),d._toggleActive(g)),d.trigger("itemclick",{index:e,item:h})}).on(a6,function(){return !1}).data(bd,h).data(ap,e).data(ao,c).data(a9,f);j.append(b),n==ax&&m.append(aQ("<option/>").attr(au,c).text(f))})},_move:function(l,j){var n=this,k=aQ(n.element),m=k.find(".sui-listbox-item-active").first(),h=k.find(":first");n._enabled&&("up"==l?m.prev().length>0&&(h=m.prev()):"down"==l&&(m.next().length>0?h=m.next():m.length>0&&(h=m)),h.length<=0||(n.options.multiple?(n._setActive(h),n._ensureInScrollableArea(h)):n._select(h)))},_ensureInScrollableArea:function(p){var l=this,j=aQ(l.element),o=j.height(),n=j.scrollTop(),k=p.outerHeight(),q=p.position().top,m=q+k;0>q?j.scrollTop(n+q):m>o&&j.scrollTop(n+(m-o))},ensureActiveViewableINTERNAL:function(){var d=this,c=d._getActive();c.length>0&&d._ensureInScrollableArea(c)},_getActive:function(){return aQ(this.element).find(".sui-listbox-item-active").first()},_setActive:function(b){b.addClass("sui-listbox-item-active").siblings().removeClass("sui-listbox-item-active")},_setSelected:function(b){b.addClass("sui-listbox-item-selected")},_unsetSelected:function(b){b.removeClass("sui-listbox-item-selected")},_toggleActive:function(b){this._toggle(b,this._getActive())},_toggle:function(f,e){var d=this;d._enabled&&(!e||e.length<=0||(d.options.multiple&&e.hasClass("sui-listbox-item-selected")?d._deselect(e):d._select(e)))},_select:function(g,h){var f=this,k=f._original,j=f._utype;f.options.multiple||f.clearSelection(),f._setActive(g),f._ensureInScrollableArea(g),f._setSelected(g),j==ax?k.find("option:eq("+g.data(ap)+")").attr(bf,bf):j==aC&&k.attr(au,g.data(ao)),h||f.trigger(aq,{index:g.data(ap),item:g.data(bd),value:g.data(ao),text:g.data(a9),selected:!0})},_deselect:function(g,h){var f=this,k=f._original,j=f._utype;f._setActive(g),f._unsetSelected(g),j==ax?k.find("option:eq("+g.data(ap)+")").removeAttr(bf):j==aC&&k.removeAttr(au),h||f.trigger(aq,{index:g.data(ap),item:g.data(bd),value:g.data(ao),text:g.data(a9),selected:!1})},enabled:function(){var l,c=this,k=aQ(c.element),j=c._original,h=[].slice.call(arguments);return h.length>0?(l=!!h[0],l?(k.removeAttr(aO).removeClass("sui-listbox-disabled"),j.removeAttr(aO)):(k.attr(aO,aO).addClass("sui-listbox-disabled"),j.attr(aO,aO)),c._enabled=l,void 0):c._enabled},selected:function(){var m,l,n=this,k=aQ(n.element),e=[].slice.call(arguments);if(!(e.length>0)){var j=[];return k.find(".sui-listbox-item-selected").each(function(){j.push(aQ(this).data(ap))}),j}m=ak(e[0]),l=aL(e[1])?!!e[1]:!0,k.find(".sui-listbox-item").each(function(c){a3(c,m)>-1&&(l?n._select(aQ(this),!0):n._deselect(aQ(this),!0))})},selectedItems:function(){var c=[];return aQ(this.element).find(".sui-listbox-item-selected").each(function(){c.push(aQ(this).data(bd))}),c},values:function(){var l,g=this,k=aQ(g.element),j=[].slice.call(arguments);if(!(j.length>0)){var h=[];return k.find(".sui-listbox-item-selected").each(function(){h.push(aQ(this).data(ao))}),h}l=ak(j[0]),k.find(".sui-listbox-item").each(function(){return a3(aQ(this).data(ao),l)>-1?(g._select(aQ(this),!0),g.options.multiple?!0:!1):void 0})},texts:function(){var c=[];return aQ(this.element).find(".sui-listbox-item-selected").each(function(){c.push(aQ(this).data(a9))}),c},clearSelection:function(){var e=this,g=e._original,f=e._utype;f==ax?g.find("option").removeAttr(bf):f==aC&&g.removeAttr(au),aQ(e.element).find(".sui-listbox-item-selected").removeClass("sui-listbox-item-selected sui-listbox-item-active")},destroy:function(){var d=this,e=d._eventNS;d._dsLoadedOnce=!1,aQ(d.element).off(e).remove(),d.dataSource&&d.dataSource.off(aE+e),d._isWrapped&&d._original.unwrap(),d._original.show(),aJ.fn.destroy.call(d)}}),bk.defaults=ac,aH.ui.plugin("ListBox",bk),bs={enabled:!0,cls:aM,autoComplete:aM,value:aM,events:{}},a1=aJ.extend({init:function(){aJ.fn.init.apply(this,arguments);var m=this,l=m.options,g=l.autoComplete,e=l.cls,b=l.value,k=aQ(m.element);m._eventNS=".shieldTextBox"+m.getInstanceId(),k.addClass("sui-input"),g&&(m.autoComplete=new bh(k,g)),e&&k.addClass(e),k.on(ay+m._eventNS,aP(m._focus,m)).on(az+m._eventNS,aP(m._blur,m)),m.enabled(l.enabled),aL(b)&&m.value(b)},focus:function(){aQ(this.element).focus(),bn(aQ(this.element))},_focus:function(d){var b=this;b.oldValue=b._value(),b.interval=setInterval(aP(b._detectChanges,b),1),b.trigger(ay)},_blur:function(b){clearInterval(this.interval),this.trigger(az)},_detectChanges:function(){var c,d=this;d._enabled&&d.oldValue!==d._value()&&(c=d.trigger(aE,{value:d._value(),old:d.oldValue}),c.isDefaultPrevented()?d._value(d.oldValue):d.oldValue=d._value())},_value:function(){return this.element.val.apply(this.element,arguments)},value:function(){return this._value.apply(this,arguments)},enabled:function(){var c,j=this,h=aQ(j.element),g=[].slice.call(arguments);return g.length>0?(c=!!g[0],c?h.removeAttr(aO).removeClass("sui-input-disabled"):h.attr(aO,aO).addClass("sui-input-disabled"),j._enabled=c,void 0):j._enabled},destroy:function(){var e=this,d=e.autoComplete,f=e.options.cls;clearInterval(e.interval),e.element.off(e._eventNS).removeClass("sui-input"+(f?" "+f:"")),d&&d.destroy(),aJ.fn.destroy.call(e)}}),a1.defaults=bs,aH.ui.plugin("TextBox",a1),bz={dataSource:aM,valueTemplate:"{0}",textTemplate:"{0}",open:!1,delay:200,minLength:2,dropDownWidth:aM,animation:{enabled:!0,openDelay:200,closeDelay:100},events:{}},bh=aJ.extend({init:function(){aJ.fn.init.apply(this,arguments);var l=this,j=aQ(l.element),k=l.options,g=k.dataSource,b=k.dieOnError;return l.pending=0,l.oldValue=j.val(),g?(g.filter||(g.filter={and:[{path:"",filter:"contains",value:""}]}),l._eventNS=".shieldAutoComplete"+l.getInstanceId(),j.addClass("sui-input"),l.listElement=aQ("<span/>").appendTo(ar.body),l.listBox=new bk(l.listElement,{cls:"sui-autocomplete",dataSource:g,readDataSource:!1,textTemplate:k.textTemplate,multiple:!1,width:k.dropDownWidth||j.innerWidth(),events:{select:function(c){l._value(at.call(l,k.valueTemplate,c.item))},itemclick:function(c){j.focus(),l._inputBlur(c,0)},blur:function(c){l._inputBlur(c,0)}}}),l.listBox.element.hide(),l.dataSource=l.listBox.dataSource,j.on(aw+l._eventNS,aP(l._inputKeydown,l)).on(az+l._eventNS,aP(l._inputBlur,l,100)),l.listBox.dataSource.on(aE+l._eventNS,aP(l._dsChange,l)),aQ(an).on(bg+l._eventNS,aP(l._position,l)),l._open=!1,void (k.open&&l._searchTimeout())):(l.destroy(),void av("shieldAutoComplete: No dataSource set",b))},_checkValueUpdated:function(){var e=this,f=e.element,d=f.val();e.oldValue!==d&&(e.trigger(aE,{value:e._value()}),e.oldValue=d)},_restoreOldValue:function(){this._value(this.oldValue)},_inputKeydown:function(c){var d=this;switch(c.keyCode){case aK.TAB:break;case aK.UP:case aK.DOWN:d._inputUpDown(c);break;case aK.ENTER:c.preventDefault(),d.cancelSearch=!0,d._hideItemList(),d._checkValueUpdated();break;case aK.ESC:c.preventDefault(),d.cancelSearch=!0,d._hideItemList(),d._restoreOldValue();break;default:d._searchTimeout(c)}},_inputUpDown:function(e){var d=this;d._open?d._hasData()&&aQ(d.listBox.element).trigger(e):d._hasData()&&d._showItemList()},_inputBlur:function(f,g){var e=this;setTimeout(function(){aQ(e.listBox.element).is(":focus")||(e._hideItemList(),e._checkValueUpdated())},g)},_searchTimeout:function(c){var d=this;clearTimeout(d.searchTimeout),d.searchTimeout=setTimeout(function(){d.term!==d._value()&&d._search()},d.options.delay)},_search:function(){var c=this;return c.term=c._value(),c.term.length<c.options.minLength?void c._hideItemList():(c.cancelSearch=!1,c.pending++,aQ(c.element).addClass("sui-autocomplete-loading"),bi(c.listBox.dataSource.filter,c.term),void c.listBox.dataSource.read())},_dsChange:function(){var c=this;c.pending--,c.pending||aQ(c.element).removeClass("sui-autocomplete-loading"),!c.cancelSearch&&c._hasData()?c._showItemList():c._hideItemList()},_hasData:function(){var b=this.listBox.dataSource.view;return b&&b.length>0},_position:function(){var g=this,l=aQ(g.element),j=aQ(g.listBox.element),k=l.offset(),h=l.outerHeight();j.css({top:k.top+h,left:k.left,width:g.options.dropDownWidth||l.innerWidth()})},_showItemList:function(){var j=this,h=j.listBox,b=aQ(h.element),g=j.options.animation;j._position(),g&&g.enabled?b.slideDown(g.openDelay,aP(h.ensureActiveViewableINTERNAL,h)):(b.show(),h.ensureActiveViewableINTERNAL()),j._open=!0},_hideItemList:function(){var e=this,f=aQ(e.listBox.element),g=e.options.animation;g&&g.enabled?f.slideUp(g.closeDelay):f.hide(),e._open=!1},_value:function(){return this.element.val.apply(this.element,arguments)},hide:function(){aQ(this.listBox.element).hide()},show:function(){aQ(this.listBox.element).show()},isVisible:function(){return aQ(this.listBox.element).is(":visible")},destroy:function(){var c=this;c.dataSource=null,c.listBox&&(c.listBox.dataSource.off(aE+c._eventNS),c.listBox.destroy(),c.listBox=null),c.element.off(c._eventNS).removeClass("sui-input"),aQ(an).off(bg+c._eventNS),c.listElement&&c.listElement.remove(),aJ.fn.destroy.call(c)}}),bh.defaults=bz,aH.ui.plugin("AutoComplete",bh),af={enabled:!0,cls:"",min:0,max:100,value:aM,step:aM,editable:!0,spinners:!0,valueTemplate:aM,textTemplate:aM,labels:{increase:"Increase value",decrease:"Decrease value"},events:{}},a0=aJ.extend({init:function(){aJ.fn.init.apply(this,arguments);var I,o,H,K,l,g,G,q,N=this,M=N.options,n=M.cls,J=M.value,L=M.step,r=M.editable,e=M.spinners,b=M.labels,F=b.increase,E=b.decrease,z=M.dieOnError;return N._original=I=aQ(N.element),am(I)!=aC?void av("shieldNumericTextBox: Underlying element is not INPUT",z):(aL(L)?M.step=L=aW(L):(G=ah(aL(J)?J:N._value()),G>0?M.step=L=1/bl(10,G):M.step=L=1),L?(N._eventNS=".shieldNumericTextBox"+N.getInstanceId(),N.element=H=I.wrap("<span/>").parent(),I.hide(),aL(J)||(J=N._value()),r?(K=aQ('<input type="text" class="sui-input" />'),o=I.attr(a4),aL(o)&&K.attr(a4,o)):K=aQ('<span class="sui-input">&nbsp;</span>').attr(aF,"0"),N.textElement=K,K.appendTo(H),K.on(ay+N._eventNS,aP(N._focus,N)).on(az+N._eventNS,aP(N._blur,N)),e&&(N._onSpinUpMDProxy=aP(N._spinUpMD,N),N._onSpinDownMDProxy=aP(N._spinDownMD,N),N._onSpinnerMUProxy=aP(N._spinnerMU,N),N.spinUp=l=aQ('<span class="sui-spinner sui-spinner-up sui-unselectable" />').html('<span class="sui-caret-up sui-unselectable" unselectable="on" />').attr(a7,a8).attr(ag,F).attr(aS,F).on(bc+N._eventNS,N._onSpinUpMDProxy).on(bD+N._eventNS,N._onSpinnerMUProxy).on(a5+N._eventNS,N._onSpinnerMUProxy).on(a6+N._eventNS,function(){return !1}),N.spinDown=g=aQ('<span class="sui-spinner sui-spinner-down sui-unselectable" />').html('<span class="sui-caret-down sui-unselectable" unselectable="on" />').attr(a7,a8).attr(ag,E).attr(aS,E).on(bc+N._eventNS,N._onSpinDownMDProxy).on(bD+N._eventNS,N._onSpinnerMUProxy).on(a5+N._eventNS,N._onSpinnerMUProxy).on(a6+N._eventNS,function(){return !1}),H.append(aQ('<span class="sui-spinners" />').append(l,g))),K.on(aw+N._eventNS,aP(N._keydown,N)),H.addClass("sui-numeric-textbox"+(e?"":" sui-numeric-textbox-nosp")+(n?" "+n:"")),q=ah(L),aL(M.textTemplate)||(M.textTemplate="{0:n"+q+"}"),aL(M.valueTemplate)||(M.valueTemplate="{0:n"+q+"}"),N.enabled(M.enabled),aL(J)&&N.value(J),void (N._destroyed=!1)):void av("shieldNumericTextBox: Invalid step",z))},refresh:function(b){this.refreshWithElement(this._original,b)},_focus:function(e){var d=this;d._hasFocus||(d._hasFocus=!0,aQ(d.element).addClass("sui-numeric-textbox-focus"),d.value(d.value()),d.trigger(ay))},_blur:function(j){var h=this,m=aQ(h.element),l=aQ(h.textElement);if(h.options.editable){var n,k=h.value();h._updateIfDirty(),n=h.value(),n!==k&&h.trigger(aE,{value:n})}setTimeout(function(){if(!(m.is(":focus")||l.is(":focus")||h._destroyed)){if(h._hasFocus=!1,m.removeClass("sui-numeric-textbox-focus"),h.options.editable){var b,d=h.value();h.value(l.val()),b=h.value(),b!==d&&h.trigger(aE,{value:b})}else{h.value(h.value())}h.trigger(az)}},100)},_keydown:function(h){var e=this,f=h.keyCode,g=e._enabled;switch(f){case aK.TAB:case aK.LEFT:case aK.RIGHT:case aK.END:case aK.HOME:break;case aK.ESC:g&&e.value(e.value()),h.preventDefault();break;case aK.UP:e._updateValue(!0,!1),h.preventDefault();break;case aK.DOWN:e._updateValue(!1,!1),h.preventDefault();break;default:e.options.editable&&g&&(f>=48&&57>=f||f>=96&&105>=f||190==f||110==f||173==f||109==f||189==f||f==aK.DEL||f==aK.BACK||f==aK.ENTER||h.ctrlKey&&(118==f||86==f))?e._dirty=!0:h.preventDefault()}},_spinUpMD:function(d){var b=this;d.preventDefault(),b._updateValue(!0,!1),b._spinUpCancel=!1,setTimeout(function(){b._spinUpInt||b._spinUpCancel||(b._spinUpInt=setInterval(aP(b._updateValue,b,!0,!1),20))},100)},_spinDownMD:function(d){var b=this;d.preventDefault(),b._updateValue(!1,!1),b._spinDownCancel=!1,setTimeout(function(){b._spinDownInt||b._spinDownCancel||(b._spinDownInt=setInterval(aP(b._updateValue,b,!1,!1),20))},100)},_spinnerMU:function(c){var d=this;d._spinUpCancel=d._spinDownCancel=!0,clearInterval(d._spinUpInt),clearInterval(d._spinDownInt),d._spinUpInt=d._spinDownInt=null},_updateIfDirty:function(){var d=this,e=aQ(d.textElement);d._dirty&&(d.value(e.val()),d._dirty=!1)},_updateValue:function(e,s,t){var v,w=this,u=w.options,o=u.min,j=u.max,q=u.step,p=aQ(w.textElement),r=!1;w._enabled&&(w._updateIfDirty(),v=w.value(),aL(v)||(v=0),s=aL(s)?!!s:!0,t=aL(t)?!!t:!0,e?j>v&&(w.value(v+q),r=!0):v>o&&(w.value(v-q),r=!0),t&&(p.focus(),u.editable&&bn(p)),r&&!s&&w.trigger(aE,{value:w.value()}))},increment:function(){this._updateValue(!0,!0,!1)},decrement:function(){this._updateValue(!1,!0,!1)},value:function(){var e,k,n=this,m=n.options,l=[].slice.call(arguments),j=aQ(n.textElement);return l.length>0?(aL(l[0])&&null!==l[0]&&""!==l[0]?(e=bA(aI(l[0],m.max),m.min),e=at.call(n,m.valueTemplate,e),e=aW(e),k=at.call(n,m.textTemplate,e)+""):(e=null,k=""),m.editable?n._hasFocus&&n._enabled?j.val(e):j.val(k):j.html(k),n._value(e),void 0):aW(n._value())},_value:function(){return this._original.attr.apply(this._original,[au].concat([].slice.call(arguments)))},enabled:function(){var c,j=this,h=aQ(j.element),g=[].slice.call(arguments);return g.length>0?(c=!!g[0],c?h.removeAttr(aO).removeClass("sui-numeric-textbox-disabled"):h.attr(aO,aO).addClass("sui-numeric-textbox-disabled"),j._enabled=c,void 0):j._enabled},focus:function(){aQ(this.textElement).focus(),bn(aQ(this.textElement))},destroy:function(){var c=this;c._destroyed=!0,c.options.spinners&&(aQ(c.spinUp).off(c._eventNS).remove(),aQ(c.spinDown).off(c._eventNS).remove(),c.spinUp=c.spinDown=null),aQ(c.textElement).off(c._eventNS).remove(),c.textElement=null,c._original.unwrap().show(),c._original=null,aJ.fn.destroy.call(c)}}),a0.defaults=af,aH.ui.plugin("NumericTextBox",a0),bx={enabled:!0,mask:"00-00-0000",promptChar:"_",value:"",rules:{0:function(b){return/^[0-9]$/.test(b)},9:function(b){return/^[0-9 ]$/.test(b)},"#":function(b){return/^[0-9 \+\-]$/.test(b)},L:function(b){return/^[a-zA-Z]$/.test(b)},"?":function(b){return/^[a-zA-Z ]$/.test(b)},"&":function(b){return/^[\S]$/.test(b)},C:function(b){return/^[.]$/.test(b)},A:function(b){return/^[0-9a-zA-Z]$/.test(b)},a:function(b){return/^[0-9a-zA-Z ]$/.test(b)}},cultureSpecific:[".",",","$"],separators:["/","-"," ","(",")"],cls:aM,events:{}},aZ=aJ.extend({init:function(){aJ.fn.init.apply(this,arguments);var k=this,j=k.options,e=j.dieOnError,b=j.value,g=aQ(k.element);return am(g)!=aC?void av("shieldMaskedTextBox: Underlying element is not INPUT",e):k._verifyMask()?(k._eventNS=".shieldMaskedTextBox"+k.getInstanceId(),g.addClass("sui-input"),j.cls&&g.addClass(j.cls),aL(b)&&k.value(b),g.on(ay+k._eventNS,aP(k._focus,k)).on(az+k._eventNS,aP(k._blur,k)).on(aw+k._eventNS,aP(k._keydown,k)).on(bv+k._eventNS,aP(k._keypress,k)).on(ae+k._eventNS,aP(k._cut,k)).on(ab+k._eventNS,aP(k._paste,k)).on(bw+k._eventNS,aP(k._dragstart,k)).on(aG+k._eventNS,aP(k._dragenter,k)).on(ai+k._eventNS,aP(k._dragover,k)).on(ad+k._eventNS,aP(k._drop,k)),void k.enabled(j.enabled)):void av("shieldMaskedTextBox: Invalid mask",e)},_getMask:function(){var g,f,k=this,j=k.options.mask,h="";for(f=0;f<j.length;f++){g=j.charAt(f),h+=k._isCultureSpecific(g)?k._getCultureSpecific(g):g}return h},_isCultureSpecific:function(b){return -1!==a3(b,this.options.cultureSpecific)},_getCultureSpecific:function(d){var c=aH.getCurrencyInfo();return"$"==d?c.symbol:c[d]},_skipSymbol:function(e){var d=this,f=d.options.separators;return -1!==a3(e,f)||d._isCultureSpecific(e)},_insertAt:function(e,f,d){return e.substr(0,d)+f+e.substr(d)},_removeAt:function(d,c){return d.substr(0,c)+d.substr(c+1)},_caret:function(l,k){var j,h=this,g=aQ(h.element);if(0!==g.length&&!g.is(":hidden")){return"number"==typeof l?(k="number"==typeof k?k:l,g.each(function(){g.setSelectionRange?g.setSelectionRange(l,k):g.createTextRange&&(j=g.createTextRange(),j.collapse(!0),j.moveEnd("character",k),j.moveStart("character",l),j.select())})):(g[0].setSelectionRange?(l=g[0].selectionStart,k=g[0].selectionEnd):ar.selection&&ar.selection.createRange&&(j=ar.selection.createRange(),l=0-j.duplicate().moveStart("character",-100000),k=l+j.text.length),{begin:l,end:k})}},_caretTo:function(h){var g=this,d=aQ(g.element);if(d.prop("selectionStart")!==aM){d.prop("selectionStart",h),d.prop("selectionEnd",h)}else{if(ar.selection){d.focus();var j=ar.selection.createRange();j.moveStart("character",-g.value().length),j.moveEnd("character",-g.value().length),j.moveStart("character",h),j.select()}}},_isValid:function(j,m){var h,g=this,l=g._getMask(),k=g.options.rules;return m>=l.length?!1:(h=l.charAt(m),aR(k[h])&&k[h].call(g,j))},_removeRegion:function(l){var o,q,t=this,k=t.options,p=t._getMask(),s=t._value(),n=t._caret(),m=k.promptChar,r=n.begin;if(r==n.end){l?(o=p.charAt(--r),t._skipSymbol(o)||(r>=0?(s=t._removeAt(s,r),s=t._insertAt(s,m,r),t._value(s)):r=0)):r<s.length&&(o=p.charAt(r),t._skipSymbol(o)?r++:(s=t._shiftLeft(s,r),t._value(s)))}else{for(q=r;q<n.end;q++){t._skipSymbol(p.charAt(q))||(s=t._removeAt(s,q),s=t._insertAt(s,m,q))}for(;t._skipSymbol(p.charAt(r));){++r}for(q=r;q<n.end;q++){t._skipSymbol(p.charAt(q))||(s=t._shiftLeft(s,r))}t._value(s)}t._caretTo(r)},_shiftLeft:function(t,m){for(var p,o,q,s=this,l=s.options,k=s._getMask(),n=l.promptChar,r=m;r<t.length-1;){for(q=r+1;s._skipSymbol(k.charAt(q));){q++}if(q>t.length-1){break}p=t.charAt(q),t=s._removeAt(t,r),o=s._isValid(p,r),t=s._insertAt(t,o?p:n,r),r=q}return t=s._removeAt(t,r),t=s._insertAt(t,n,r)},_shiftRightKey:function(z,u){var v,w,q,x=this,n=x.options,p=x._getMask(),o=z.charAt(u),t=n.promptChar;if(o!=t&&u<z.length-1){for(var s=u+1,r=z.charAt(s);r!=t&&s<=z.length;){r=z.charAt(++s)}if(r==t){for(var y=s;y>u;){if(!x._skipSymbol(p.charAt(y))){for(w=y-1,v=z.charAt(w);x._skipSymbol(p.charAt(w));){v=z.charAt(--w)}z=x._removeAt(z,y),q=x._isValid(v,y),z=x._insertAt(z,q?v:t,y)}y--}}}return z},_shiftRightPaste:function(v,o){var q,s,u,p,t=this,n=t.options,m=t._getMask(),l=n.promptChar,r=o;for(s=v.charAt(r);r<v.length-1;){for(u=r+1;t._skipSymbol(m.charAt(u));){u++}if(u>v.length-1){break}q=v.charAt(u),v=t._removeAt(v,u),p=t._isValid(s,u),v=t._insertAt(v,p?s:l,u),s=q,r=u}return v},_commit:function(k){for(var m,h=this,j=h._getMask(),l=h._caret(),g=l.begin;h._skipSymbol(j.charAt(g));){++g}if(h._isValid(k,g)){for(l.end>l.begin&&h._removeRegion(!1),m=h._value(),m=h._shiftRightKey(m,g),m=h._removeAt(m,g),m=h._insertAt(m,k,g),h._value(m),g++;h._skipSymbol(j.charAt(g));){g++}h._caretTo(g)}},_verifyValue:function(h){var g=this,e=g._getMask();if(h.length!=e.length){return !1}for(var f=0;f<e.length;f++){if(g._skipSymbol(e.charAt(f))){if(e.charAt(f)!==h.charAt(f)){return !1}}else{if(!g._isValid(h.charAt(f),f)){return !1}}}return !0},_verifyMask:function(){for(var j,f=this,k=f._getMask(),h=f.options.rules,g=0;g<k.length;g++){if(!f._skipSymbol(k.charAt(g))&&(j=k.charAt(g),!aR(h[j]))){return !1}}return !0},_applyMask:function(){for(var h=this,k=h.options,m=h._getMask(),j=k.promptChar,l="",g=0;g<m.length;g++){l+=h._skipSymbol(m.charAt(g))?m.charAt(g):j}h._value(l)},_isEmptyMask:function(){for(var h=this,l=h._value(),k=h.options,m=h._getMask(),j=k.promptChar,g=0;g<m.length;g++){if(!h._skipSymbol(m.charAt(g))&&l.charAt(g)!==j){return !1}}return !0},_clearMaskOnBlur:function(){this._isEmptyMask()&&this._value("")},_focus:function(f){var g,e=this;aQ(e.element).addClass("sui-input-focus"),g=e._value(),g&&""!==g||e._applyMask(),e.trigger(ay)},_blur:function(b){this._clearMaskOnBlur(),this.trigger(az)},_preventDrag:function(d){if(d.type==bw||d.type==aG||d.type==ai||d.type==ad){var c=d.originalEvent.dataTransfer;return d.type==bw?c.effectAllowed="none":c.dropEffect="none",d.stopPropagation&&(d.preventDefault(),d.stopPropagation()),!1}},_triggerChange:function(d){var f,e=this;d!==e._value()&&(f=e.trigger(aE,{value:e._value(),old:d}),f.isDefaultPrevented()&&e._value(e.oldValue)),clearInterval(e.changeInterval),e.changeInterval=aM},_dragstart:function(b){return this._preventDrag(b)},_dragenter:function(b){return this._preventDrag(b)},_dragover:function(b){return this._preventDrag(b)},_drop:function(b){return this._preventDrag(b)},_keydown:function(j){var b=this,k=j.keyCode,d=b._enabled,f=b._value();switch(d||j.preventDefault(),k){case aK.BACK:case aK.DEL:b._removeRegion(k==aK.BACK),b.changeInterval===aM&&(b.changeInterval=setInterval(aP(b._triggerChange,b,f),20)),j.preventDefault();break;default:if(j.ctrlKey){switch(k){case 118:case 86:case 122:case 90:case 121:case 89:118==k||86==k?b._paste(j):(122==k||90==k)&&(b._undo(),b.changeInterval===aM&&(b.changeInterval=setInterval(aP(b._triggerChange,b,f),20))),j.preventDefault()}}}},_keypress:function(l){var k,b=this,f=l.keyCode,d=l.which,j=(b._enabled,b._value());if(!l.ctrlKey){switch(f){case aK.HOME:case aK.END:case aK.LEFT:case aK.RIGHT:case aK.TAB:if(!bo.ie){return}break;default:k=String.fromCharCode(d),b._commit(k)}l.preventDefault(),b.changeInterval===aM&&j!=b._value()&&(b.changeInterval=setInterval(aP(b._triggerChange,b,j),20))}},_cut:function(d){var b=this,f=b._caret();b.cutInterval===aM&&(b.cutInterval=setInterval(aP(b._aftercut,b,f),20))},_aftercut:function(m){var o,r=this,n=r._getMask(),q=r.value(),k=q,d=r.options.promptChar,p=m.begin;for(o=p;o<m.end;o++){q=r._insertAt(q,r._skipSymbol(n.charAt(o))?n.charAt(o):d,o)}for(r._value(q),r._caretTo(p);r._skipSymbol(n.charAt(p));){++p}for(var l=p;l<m.end;l++){r._skipSymbol(n.charAt(l))||(q=r._shiftLeft(q,p))}r._value(q),r._caretTo(p),clearInterval(r.cutInterval),r.cutInterval=aM,r._triggerChange(k)},_paste:function(t){var v,s,u,w,z=this,p=z._getMask(),y=z._value(),b=y,q=z._caret(),x=q.begin,r=z.options.promptChar,d=t.originalEvent||t;if(x==y.length){return void t.preventDefault()}if(d.clipboardData?v=d.clipboardData.getData("text/plain"):an.clipboardData&&(v=an.clipboardData.getData("Text")),null==v){return void t.preventDefault()}if(x==q.end){for(;z._skipSymbol(p.charAt(x));){x++}for(w=v.length-1;w>=0;w--){y=z._shiftRightPaste(y,x),y=z._removeAt(y,x),s=z._isValid(v.charAt(w),x),y=z._insertAt(y,s?v.charAt(w):r,x)}x+=v.length}else{for(u=x;u<q.end;u++){z._skipSymbol(p.charAt(u))||(y=z._removeAt(y,u),y=z._insertAt(y,r,u))}for(w=0;w<v.length;w++){for(;z._skipSymbol(p.charAt(x));){x++}y=z._removeAt(y,x),s=z._isValid(v.charAt(w),x),y=z._insertAt(y,s?v.charAt(w):r,x),x++}}z._value(y),z._caretTo(x),t.preventDefault(),z.changeInterval===aM&&(z.changeInterval=setInterval(aP(z._triggerChange,z,b),20))},_undo:function(){var b=this;b._applyMask()},_value:function(){return this.element.val.apply(this.element,arguments)},value:function(){if(arguments.length>0){var b=[].slice.call(arguments);if(!this._verifyValue(b[0])){return !1}}return this._value.apply(this,arguments)},enabled:function(){var c,j=this,h=aQ(j.element),g=[].slice.call(arguments);return g.length>0?(c=!!g[0],c?h.removeAttr(aO).removeClass("sui-input-disabled"):h.attr(aO,aO).addClass("sui-input-disabled"),j._enabled=c,void 0):j._enabled},destroy:function(){var d=this,c=d.options.cls;d.element.off(d._eventNS).removeClass("sui-input"+(c?" "+c:"")),aJ.fn.destroy.call(d)}}),aZ.defaults=bx,aH.ui.plugin("MaskedTextBox",aZ),aY={editable:!0,enabled:!0,open:!1,cls:aM,dataSource:aM,autoComplete:{enabled:!1,delay:200,minLength:0,filter:aM},valueTemplate:aM,textTemplate:aM,inputTemplate:aM,selected:aM,value:aM,width:aM,height:aM,dropDownWidth:aM,dropDownHeight:200,animation:{enabled:!0,openDelay:200,closeDelay:100},events:{}},bm=aJ.extend({init:function(){aJ.fn.init.apply(this,arguments);var e,v,d,j,g,z,n=this,m=n.options,y=m.editable,r=m.dieOnError,q=m.dataSource,b=m.autoComplete,o=m.selected,p=m.value,u=aM;return n._original=e=aQ(n.element),n._utype=am(e),q||n._utype==ax?(n._eventNS=".shieldComboBox"+n.getInstanceId(),n.pending=0,n.element=j=e.wrap("<span/>").parent(),e.hide(),n._onDDHandler=aP(n._onDD,n),y?(g=aQ('<input type="text" class="sui-input" />').focus(function(){aQ(this).parent().addClass("sui-combobox-focus")}).blur(function(){aQ(this).parent().removeClass("sui-combobox-focus"),n._blur()}),d=e.attr(a4),aL(d)&&g.attr(a4,d)):g=aQ('<span class="sui-input sui-unselectable">&nbsp;</span>').attr(a7,a8).on(aB+n._eventNS,n._onDDHandler).on(a6+n._eventNS,function(){return !1}),n.textElement=g,g.appendTo(j),n.ddElement=z=aQ('<span class="sui-caret-container sui-unselectable" />').html('<span class="sui-caret sui-unselectable" unselectable="on" />').attr(a7,a8).on(aB+n._eventNS,n._onDDHandler).appendTo(j),j.addClass(y?"sui-combobox":"sui-dropdown"),m.cls&&j.addClass(m.cls),v=e.attr(aF),y?g.attr(aF,aL(v)?v:"0"):j.attr(aF,aL(v)?v:"0"),aL(m.width)&&j.width(m.width),aL(m.height)&&(j.css(bb,m.height),g.css(bb,m.height),z.css(bb,m.height)),j.on(aw+n._eventNS,aP(n._keydown,n)).on(bC+n._eventNS,aP(n._keyup,n)),n._focusHandler=aP(n._focus,n),y?g.on(ay+n._eventNS,n._focusHandler):j.on(ay+n._eventNS,n._focusHandler),j.on(az+n._eventNS,aP(n._blur,n)),n.listElement=aQ("<span/>").appendTo(ar.body),b&&(u=aL(b.filter)?b.filter:q&&q.filter?q.filter:n._utype==ax?{and:[{path:"text",filter:"contains",value:""}]}:{and:[{path:"",filter:"contains",value:""}]}),n.listBox=new bk(e,{cls:"sui-autocomplete",dataSource:q,readDataSource:!1,valueTemplate:m.valueTemplate,textTemplate:m.textTemplate,multiple:!1,selected:aL(o)&&bj(o)?o[0]:o,values:p,width:m.dropDownWidth||j.innerWidth(),maxHeight:m.dropDownHeight,renderToINTERNAL:n.listElement,wrapOriginalINTERNAL:!1,tabindexINTERNAL:bo.ie&&bo.version<=8?0:-1,filterINTERNAL:u,events:{select:function(c){n._onLBSelChanged(),n.trigger(aq,{index:c.index,item:c.item,text:c.text,value:c.value})},itemclick:function(c){y?g.focus():j.focus(),n._hideDD()},blur:function(c){setTimeout(aP(n._blur,n),20)}}}),n.listBox.element.hide(),n.dataSource=n.listBox.dataSource,n.listBox.dataSource.on(aE+n._eventNS,aP(n._dsChange,n)),m.textTemplate=n.listBox.options.textTemplate,m.valueTemplate=n.listBox.options.valueTemplate,n.listBox.dataSource.read(),aQ(an).on(bg+n._eventNS,aP(n._position,n)),n.enabled(m.enabled),n._open=!1,m.enabled&&m.open&&n._showDD(),void (n._destroyed=!1)):(n.destroy(),void av((y?"shieldComboBox":"shieldDropDown")+": No dataSource or underlying SELECT element found.",r))},refresh:function(b){this.refreshWithElement(this._original,b)},focus:function(){this.options.editable?(aQ(this.textElement).focus(),bn(aQ(this.textElement))):aQ(this.element).focus()},_focus:function(c){var d=this;d._hasFocus||(d._hasFocus=!0,d._oldValue=d.value(),d.trigger(ay))},_blur:function(e){var d=this;setTimeout(function(){d._destroyed||null==d.listBox||aQ(d.listBox.element).is(":focus")||aQ(d.element).is(":focus")||aQ(d.textElement).is(":focus")||(d._hideDD(),d._oldValue!==d.value()&&d.trigger(aE),d.trigger(az),d._hasFocus=!1)},100)},_keydown:function(d){var c=this;switch(d.keyCode){case aK.TAB:break;case aK.UP:case aK.DOWN:c._keydownUpDown(d),d.preventDefault();break;case aK.ESC:case aK.ENTER:d.preventDefault(),c.cancelSearch=!0,c._hideDD();break;default:c._keydownDefault(d)}},_keyup:function(e){var d=this;d.options.editable&&d._utype==aC&&aQ(d._original).attr(au,aQ(d.textElement).val())},_keydownUpDown:function(c){this._enabled&&aQ(this.listBox.element).trigger(c)},_keydownDefault:function(c){var d=this;d.listBox.clearSelection(),d._searchTimeout(c)},_searchTimeout:function(f){var e=this,g=e.options.autoComplete;g&&g.enabled&&(clearTimeout(e.searchTimeout),e.searchTimeout=setTimeout(function(){e.term!==aQ(e.textElement).val()&&e._search()},g.delay))},_search:function(){var c=this;c.listBox.dataSource;return c.term=aQ(c.textElement).val(),c.term.length<c.options.autoComplete.minLength?void c._hideDD():(c.cancelSearch=!1,c.pending++,aQ(c.textElement).addClass("sui-autocomplete-loading"),bi(c.listBox.dataSource.filter,c.term),void c.listBox.dataSource.read())},_dsChange:function(){var f=this,h=f._original,g=f._utype,j=f.textElement.val();return f._dsLoaded?(f.pending--,f.pending||aQ(f.textElement).removeClass("sui-autocomplete-loading"),!f.cancelSearch&&f._hasData()?f._showDD():f._hideDD(),g==ax?h.val(j):g==aC&&h.attr(au,j),void f.trigger(aq,{index:-1,item:j})):(f._dsLoaded=!0,!f.options.editable&&f.listBox.selected().length<=0&&f.listBox.selected(0),void f._onLBSelChanged())},_hasData:function(){var b=this.listBox.dataSource.view;return b&&b.length>0},_onLBSelChanged:function(){var l,n,o,j=this,e=j.options,m=e.editable,k=j.listBox,p=k.selectedItems();p&&p.length>0?(l=at.call(j,e.valueTemplate,p[0]),n=at.call(j,e.textTemplate,p[0]),o=aL(e.inputTemplate)?at.call(j,e.inputTemplate,p[0]):n,m?j.textElement.val(o):j.textElement.html(o)):m?j.textElement.val(""):j.textElement.html("&nbsp;")},_onDD:function(f){var e=this,d=e.textElement;e.options.editable?(d.focus(),bn(d)):e.element.focus(),e._open?e._hideDD():e._hasData()&&e._showDD()},_position:function(){var g=this,l=aQ(g.element),j=aQ(g.listBox.element),k=l.offset(),h=l.outerHeight();j.css({top:k.top+h,left:k.left,width:g.options.dropDownWidth||l.innerWidth()})},_showDD:function(){var j=this,h=j.listBox,b=aQ(h.element),g=j.options.animation;j._enabled&&(j._position(),g&&g.enabled?b.slideDown(g.openDelay,aP(h.ensureActiveViewableINTERNAL,h)):(b.show(),h.ensureActiveViewableINTERNAL()),j._open=!0)},_hideDD:function(){var e=this,f=aQ(e.listBox.element),g=e.options.animation;g&&g.enabled?f.slideUp(g.closeDelay):f.hide(),e._open=!1},enabled:function(){var q,c=this,p=c.options.editable,o=aQ(c.element),n=c.textElement,m=c.ddElement,l=c._original,k=[].slice.call(arguments);return k.length>0?(q=!!k[0],q?(o.removeAttr(aO).removeClass(p?"sui-combobox-disabled":"sui-dropdown-disabled"),n.removeAttr(aO),m.removeAttr(aO),l.removeAttr(aO)):(c._open&&c._hideDD(),o.attr(aO,aO).addClass(p?"sui-combobox-disabled":"sui-dropdown-disabled"),n.attr(aO,aO),m.attr(aO,aO),l.attr(aO,aO)),c._enabled=q,void 0):c._enabled},selected:function(){var f,h=this,e=h.listBox,g=[].slice.call(arguments);return g.length>0?(f=g[0],e.clearSelection(),aL(f)&&(f=bq(f),f>-1?e.selected(f):h.options.editable||e.selected(0)),h._onLBSelChanged(),void 0):(f=e.selected(),f&&f.length>0?f[0]:-1)},selectedItem:function(){var c=this,d=c.listBox.selectedItems();return d&&d.length>0?d[0]:null},value:function(){var f,j=this,h=j.listBox,g=[].slice.call(arguments);return g.length>0?(h.clearSelection(),h.values(g[0]),j._onLBSelChanged(),void 0):(f=h.values(),f&&f.length>0?f[0]:j.options.editable?aQ(j.textElement).val():null)},text:function(){var d=this,e=d.listBox.texts();return e&&e.length>0?e[0]:d.options.editable?aQ(d.textElement).val():null},destroy:function(){var f=this,g=aQ(f.element),j=aQ(f.textElement),h=aQ(f.ddElement);f._destroyed||(f._destroyed=!0,f._dsLoaded=!1,j.off(f._eventNS),h.off(f._eventNS),f._onDDHandler=null,aQ(an).off(bg+f._eventNS),g.off(f._eventNS),f.dataSource=null,f.listBox&&(f.listBox.dataSource.off(aE+f._eventNS),f.listBox.destroy(),f.listBox=null),aQ(f.listElement).remove(),j.remove(),h.remove(),f._original.unwrap().show(),f._original=null,aJ.fn.destroy.call(f))}}),bm.defaults=aY,aH.ui.plugin("ComboBox",bm),al=bB({},aY,{editable:!1,autoComplete:aM}),aX=bm.extend({init:function(c,d){d&&(d.editable=!1,d.autoComplete=aM),bm.prototype.init.call(this,c,d)}}),aX.defaults=al,aH.ui.plugin("DropDown",aX),bp={enabled:!0,cls:aM,toggle:!1,checked:!1,events:{}},aV=aJ.extend({init:function(){aJ.fn.init.apply(this,arguments);var j=this,h=aQ(j.element),g=j.options,b=g.cls;j._eventNS=".shieldButton"+j.getInstanceId(),h.addClass("sui-button sui-unselectable"),b&&h.addClass(b),h.on(aB+j._eventNS,aP(j._click,j)),j.enabled(g.enabled),g.toggle&&(j._checked=!!g.checked,j._checked?h.addClass("sui-button-checked"):h.removeClass("sui-button-checked"))},_click:function(f){var e=this,g=aQ(e.element);e._enabled&&(e.options.toggle&&(e._checked=!e._checked,e._checked?g.addClass("sui-button-checked"):g.removeClass("sui-button-checked")),e.trigger(aB,f))},checked:function(){var e=this,g=aQ(e.element),f=[].slice.call(arguments);return f.length>0?void (e.options.toggle&&(e._checked=!!f[0],e._checked?g.addClass("sui-button-checked"):g.removeClass("sui-button-checked"))):e._checked},enabled:function(){var c,j=this,h=aQ(j.element),g=[].slice.call(arguments);return g.length>0?(c=!!g[0],c?h.removeAttr(aO).removeClass("sui-button-disabled"):h.attr(aO,aO).addClass("sui-button-disabled"),j._enabled=c,void 0):j._enabled},destroy:function(){var d=this,c=d.options.cls;d.element.off(aB+d._eventNS).removeClass("sui-button sui-button-checked sui-button-disabled sui-unselectable"+(c?" "+c:"")),aJ.fn.destroy.call(d)}}),aV.defaults=bp,aH.ui.plugin("Button",aV),br={enabled:!0,enableThreeStates:!1,enableLabelClick:!0,checked:!1,label:"",events:{}},aU=aJ.extend({init:function(){var n,o,b,k,p=this;aJ.fn.init.apply(this,arguments),p._eventNS=".shieldCheckBox"+p.getInstanceId(),n=p.options;var m=aQ(p.element).addClass("sui-checkbox-input");b=m.attr(aF),m.attr(aF,"0"),k=p.wrapper=m.wrap("<span class='sui-checkbox'/>").parent().attr(aF,b);var g=aQ("<span class='sui-checkbox-element sui-checkbox-unchecked' />");g.appendTo(k),p.checkBoxElement=g,aQ("<span class='sui-checkmark' />").appendTo(g),n.label?(o=aQ("<label class='sui-checkbox-label' />"),o.appendTo(k),o.attr("for",m.id),o.get(0).innerHTML=n.label,n.enableLabelClick&&o.addClass("sui-checkbox-label-hover")):(o=m.parent().parent(),o&&!o.is("label")&&(o=aQ('label[for="'+m.get(0).id+'"]')),o&&n.enableLabelClick&&o.addClass("sui-checkbox-label-hover")),m.attr(aD)&&(n.checked=!0),p.enabled(n.enabled),p.checked(n.checked),g.on(aB+p._eventNS,aP(p._click,p)).on(aw+p._eventNS,aP(p._keydown,p)),o&&n.enableLabelClick&&o.on(aB+p._eventNS,aP(p._click,p)).on(aw+p._eventNS,aP(p._keydown,p)),k.onselectstart=function(){return !1},k.onmousedown=function(){return !1}},_click:function(e){var d=this;aQ(d.element);d._enabled&&(d._checked?d.options.enableThreeStates?d._checked=null:d._checked=!1:d._checked===!1?d._checked=!0:null===d._checked&&(d._checked=!1),d.checked(d._checked),d.trigger(aB,e),e.preventDefault(),e.stopPropagation())},_keydown:function(b){b.keyCode==aK.SPACE&&this._click(b)},hide:function(){aQ(this.wrapper).hide()},show:function(){aQ(this.wrapper).show()},isVisible:function(){return aQ(this.wrapper).is(":visible")},checked:function(){var n=this,j=[].slice.call(arguments),h=aQ(n.element),m=n.wrapper,k=m.find(".sui-checkmark");if(!(j.length>0)){return n._checked}var l=j[0];n._checked=l,l?(m.find(".sui-checkbox-element").removeClass("sui-checkbox-unchecked sui-checkbox-indeterminate").addClass("sui-checkbox-checked"),h.attr(aD,aD),h.data("1"),bo.ie&&bo.version<=8&&k.css("filter","progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=0.7071067811865475, M21=-0.7071067811865475, M22=0.7071067811865476)")):l===!1?(m.find(".sui-checkbox-element").removeClass("sui-checkbox-checked sui-checkbox-indeterminate").addClass("sui-checkbox-unchecked"),h.removeAttr(aD),h.data("0"),k.css("filter","")):null===l&&n.options.enableThreeStates&&(m.find(".sui-checkbox-element").removeClass("sui-checkbox-checked sui-checkbox-unchecked").addClass("sui-checkbox-indeterminate"),h.removeAttr(aD),h.data("2"),k.css("filter",""))},enabled:function(){var c=this,j=[].slice.call(arguments),h=aQ(c.element);if(!(j.length>0)){return c._enabled}var g=!!j[0];g?(c.wrapper.removeAttr(aO).removeClass("sui-checkbox-disabled"),h.removeAttr(aO)):(c.wrapper.attr(aO,aO).addClass("sui-checkbox-disabled"),h.attr(aO,aO)),c._enabled=g},destroy:function(){var b=this;b.element.removeClass("sui-checkbox-input").removeAttr(aF),b.checkBoxElement&&b.checkBoxElement.off(b._eventNS),b.wrapper&&(b.wrapper.find(".sui-checkbox-label").off(b._eventNS).end().removeAttr(aO).removeClass("sui-checkbox-disabled").replaceWith(b.element),b.wrapper=null),aJ.fn.destroy.call(b)}}),aU.defaults=br,aH.ui.plugin("CheckBox",aU),aN={enabled:!0,enableLabelClick:!0,checked:!1,label:"",events:{}},aT=aJ.extend({init:function(){aJ.fn.init.apply(this,arguments);var o,b,k,p=this,m=aQ(p.element),n=p.options;p._eventNS=".shieldRadioButton"+p.getInstanceId(),m.addClass("sui-radiobutton-input"),b=m.attr(aF),m.attr(aF,"0"),k=p.wrapper=m.wrap('<span class="sui-radiobutton"/>').parent(),k.attr(aF,b);var g=aQ('<span class="sui-radiobutton-element"/>');g.appendTo(k),p.radioButtonElement=g,aQ('<span class="sui-checkmark"/>').appendTo(g),n.label?(o=aQ('<label class="sui-radiobutton-label"/>'),o.appendTo(k),o.attr("for",p.element.id),o.get(0).innerHTML=n.label,n.enableLabelClick&&o.addClass("sui-radiobutton-label-hover")):(o=m.parent().parent(),o&&!o.is("label")&&(o=aQ('label[for="'+m.get(0).id+'"]')),o&&n.enableLabelClick&&o.addClass("sui-radiobutton-label-hover")),m.attr(aD)&&(n.checked=!0),p.enabled(n.enabled),n.checked?p.checked(n.checked):p._checked=!1,n.enabled&&(g.on(aB+p._eventNS,aP(p._click,p)).on(aw+p._eventNS,aP(p._keydown,p)),o&&n.enableLabelClick&&o.on(aB+p._eventNS,aP(p._click,p)).on(aw+p._eventNS,aP(p._keydown,p))),k.onselectstart=function(){return !1},k.onmousedown=function(){return !1}},_click:function(d){var c=this;c.checked(!0),c.trigger(aB,d),d.preventDefault(),d.stopPropagation()},_keydown:function(b){b.keyCode==aK.SPACE&&this._click(b)},hide:function(){aQ(this.wrapper).hide()},show:function(){aQ(this.wrapper).show()},isVisible:function(){return aQ(this.wrapper).is(":visible")},checked:function(){var d=this,c=[].slice.call(arguments);return c.length>0?(d._uncheckAllFromSameGroup(),void d._checkInternal(c[0])):d._checked},_checkInternal:function(g){var e=this,f=aQ(e.element);e._checked=g,g?(e.wrapper.find(".sui-radiobutton-element").removeClass("sui-radiobutton-unchecked sui-radiobutton-indeterminate").addClass("sui-radiobutton-checked"),f.attr(aD,aD)):(e.wrapper.find(".sui-radiobutton-element").removeClass("sui-radiobutton-checked"),f.removeAttr(aD))},_uncheckAllFromSameGroup:function(){var e=this,d=aQ(e.element);aQ('input[type="radio"][name="'+d.attr("name")+'"]').not(d).each(function(){var c=aQ(this).swidget();c&&(c._checkInternal(!1),c.trigger(aE))})},enabled:function(){var c=this,j=[].slice.call(arguments),h=aQ(c.element);if(!(j.length>0)){return c._enabled}var g=!!j[0];g?(c.wrapper.removeAttr(aO).removeClass("sui-radiobutton-disabled"),h.removeAttr(aO)):(c.wrapper.attr(aO,aO).addClass("sui-radiobutton-disabled"),h.attr(aO,aO)),c._enabled=g},destroy:function(){var b=this;b.element.removeClass("sui-radiobutton-input").removeAttr(aF),b.radioButtonElement&&(b.radioButtonElement.off(b._eventNS),b.radioButtonElement=null),b.wrapper&&(b.label&&(b.label.off(b._eventNS),b.label=null),b.wrapper.removeAttr(aO).removeClass("sui-radiobutton-disabled"),b.wrapper.replaceWith(b.element),b.wrapper=null),aJ.fn.destroy.call(b)}}),aT.defaults=aN,aH.ui.plugin("RadioButton",aT),bu={cls:aM,enabled:!0,checked:aM,onText:aM,offText:aM,events:{}},a2=aJ.extend({init:function(){aJ.fn.init.apply(this,arguments);var q,g,m,e,b,r=this,l=r.options,u=l.dieOnError,v=l.cls,k=l.checked;return r._original=q=aQ(r.element),am(q)!==aC||"checkbox"!==q.attr("type")?void av("shieldSwitch: Underlying element must ne an input of type checkbox.",u):(r._eventNS=".shieldSwitch"+r.getInstanceId(),r.element=m=q.wrap('<div class="sui-switch sui-unselectable'+(v?" "+v:"")+'" />').parent(),b=aQ('<div class="sui-switch-inner sui-unselectable" />').appendTo(m),r._text=aQ('<span class="sui-switch-text sui-unselectable" />').appendTo(b),r._handle=e=aQ('<div class="sui-switch-handle sui-unselectable" />').appendTo(m),e.height(m.height()),q.hide(),g=q.attr(aF),m.attr(aF,aL(g)?g:"0"),m.on(aB+r._eventNS,aP(r._click,r)).on(aw+r._eventNS,aP(r._keydown,r)),k=aL(k)?!!k:!!q.attr(aD),r.checked(k,!1),void r.enabled(l.enabled))},refresh:function(b){this.refreshWithElement(this._original,b)},_keydown:function(d){var c=this;d.keyCode===aK.SPACE&&(c._click(d),d.preventDefault())},_click:function(c){var d=this;d._enabled&&(d.checked(!d._checked),d.trigger(aB,c),c.preventDefault(),c.stopPropagation())},checked:function(){var v,r,y=this,e=y.options,q=e.onText,s=e.offText,w=aQ(y.element),u=aQ(y._handle),p=aQ(y._text),k=y._original,x=[].slice.call(arguments),t=100;return x.length>0?(v=!!x[0],r=aL(x[1])?!!x[1]:!0,r||(t=0),v?(k.attr(aD,aD),u.animate({left:w.width()-u.width()-2},t,function(){w.addClass("sui-switch-checked"),aL(q)&&p.html(q)})):(k.removeAttr(aD),u.animate({left:-2},t,function(){w.removeClass("sui-switch-checked"),aL(s)&&p.html(s)})),y._checked=v,void 0):y._checked},enabled:function(){var l,c=this,k=aQ(c.element),j=c._original,h=[].slice.call(arguments);return h.length>0?(l=!!h[0],l?(k.removeAttr(aO).removeClass("sui-switch-disabled"),j.removeAttr(aO)):(k.attr(aO,aO).addClass("sui-switch-disabled"),j.attr(aO,aO)),c._enabled=l,void 0):c._enabled},destroy:function(){var c=this;aQ(c.element).off(c._eventNS),aQ(c._inner).remove(),aQ(c._handle).remove(),c._original.unwrap().show(),c._original=c._inner=c._handle=null,aJ.fn.destroy.call(c)}}),a2.defaults=bu,aH.ui.plugin("Switch",a2)}(jQuery,shield,this);!function(aU,aT,ap,Y){var aj,ax,aC,aM,au,ao,at,ak,aw,aq,aF=aT.ui.Widget,Z=aT.Class,aG=aT.format,aa=aT.parseDate,aK=document,aI=aT.is.func,az=aT.is,aS=aU.proxy,ab=navigator.userAgent,ac=ap.opera,al=/msie/i.test(ab)&&!ac,ae=al&&8===aK.documentMode,aD=aU.extend,ah=az.undefined,ar=az.string,aJ="month",aN="year",aL="decade",aH="century",aR="click",aE="mousedown",af="keypress",aB="focus",ai="selectstart",ag="select",aQ="change",av="viewChange",aA="depthChange",ad="open",am="close",an="blur",aP="display",aO="none";aj={enabled:!0,readOnly:!1,hover:!0,footer:{enabled:!0,footerTemlpate:"Today"},min:new Date(1900,0,1),max:new Date(2099,11,31),value:Y,focused:new Date,labels:{previous:"Previous",next:"Next"},view:{depth:aJ,start:aJ},dayTemplate:"{day}",otherMonthDayTemplate:"{day}",outOfRangeDayTemplate:"&nbsp;",dateTooltipTemplate:"{date:MM/dd/yyyy}",events:{}};var ay=function(h){var g=!1,l="Webkit Moz ms O".split(" "),k=aK.createElement("div"),j=null;if(h=h.toLowerCase(),k.style[h]&&(g=!0),g===!1){j=h.charAt(0).toUpperCase()+h.substr(1);for(var m=0;m<l.length;m++){if(void 0!==k.style[l[m]+j]){g=!0;break}}}return g},X=Z.extend({init:function(r){var p=this,q=r.listbox,o=r.min,k=r.max,g=r.interval,s=r.parent,f=r.textTemplate;if(aT.ui.ListBox){if(az.object(q)&&q instanceof aT.ui.ListBox){s.listBox=q}else{s._listBoxWrapper=aU("<div style='display: none;' />").appendTo(aK.body);var b=p._populateDataSource(o,k,g);s.listBox=new aT.ui.ListBox(s._listBoxWrapper,aD({},q,{dataSource:{data:b},multiple:!1,textTemplate:f,width:s._wrapper.innerWidth(),maxHeight:200})),s._wrapper.parent().hasClass("sui-rtl")?s.listBox.element.parent().addClass("sui-rtl"):s.listBox.element.parent().css(aP,aO)}s._shouldShowPopup=!0}},_populateDataSource:function(g,h,j){var m,l,k=[];for(g>=h?h=new Date(g.getFullYear(),g.getMonth(),g.getDate()+1,h.getHours(),h.getMinutes(),h.getSeconds()):(h=new Date(g.getFullYear(),g.getMonth(),g.getDate(),h.getHours(),h.getMinutes(),h.getSeconds()),h.getTime()==g.getTime()&&(h=new Date(g.getFullYear(),g.getMonth(),g.getDate()+1,h.getHours(),h.getMinutes(),h.getSeconds()))),m=g.getTime(),l=h.getTime();l>m;){k.push(new Date(m)),m+=60*j*1000}return k},destroy:function(){var b=this;b.listBox;b.listBox&&(b.listBox.destroy(),b.listBox=null)}});ax=aF.extend({init:function(){aF.fn.init.apply(this,arguments);var c=this,k=aU(c.element),l=c.options,d=l.cls,j=l.value;k.addClass("sui-calendar"+(d?" "+d:"")),c._focusedDate=l.focused,c._view=l.view.start,c._enabled=l.enabled,j&&(ar(j)&&(j=new Date(j)),c._focusedDate=c._selectedDate=new Date(j.getFullYear(),j.getMonth(),j.getDate())),c._initializeHeader(),c._render(),l.footer.enabled&&c._initializeFooter(),!l.readOnly&&l.enabled?(k.find(".sui-prev").on(aR,c._movePrev=aS(c._movePrevHandler,c)),k.find(".sui-next").on(aR,c._moveNext=aS(c._moveNextHandler,c)),k.find(".sui-text").on(aR,c._changeViewDepth=aS(c._changeViewDepthHandler,c)),k.find(".sui-footer").on(aR,c._selectToday=aS(c._selectTodayHandler,c))):l.readOnly?k.addClass("sui-read-only"):k.addClass("sui-calendar-disabled"),al&&k.on(ai,c._selectStart=function(){return !1})},_calendarSelectionHandler:function(h){var r,n,s=this,p=aU(h.target).closest("td"),q=s._focusedDate;s.options.view.depth;if(p.length&&!p.hasClass("sui-out-of-range")&&!p.hasClass("sui-no-hover")&&s._enabled){switch(s._calendarTable.find(".sui-focused").removeClass("sui-focused"),s._view){case aJ:r=new Date(p.attr("data-value"));var e=s._shouldChangeView(r),l=!1;r.getTime()>s._focusedDate&&(l=!0),s._focusedDate=r,s._selectedDate=r,e&&(s._animationBegins(l),s._renderView(),s._animationEnds(l),s.trigger(av)),s._selectDateCell(r),s.trigger(aQ);break;case aN:var j=parseInt(p.attr("data-value"),10);r=new Date(q.getFullYear(),j,q.getDate()),r.getDate()!=q.getDate()&&(r=new Date(q.getFullYear(),j+1,0)),s._focusedDate=r,s.options.view.depth==aN?(s._selectedDate=r,s._selectDateCell(r),s.trigger(aQ)):(s._view=aJ,s._viewDepthAnimationBegins(),s._renderView(),s._viewDepthAnimationEnds(),s.trigger(aA));break;case aL:n=parseInt(p.attr("data-value"),10),r=new Date(n,q.getMonth(),q.getDate()),r.getDate()!=q.getDate()&&(r=new Date(n,q.getMonth()+1,0)),s._focusedDate=r,s.options.view.depth==aL?(s._selectedDate=r,s._selectDateCell(r),s.trigger(aQ)):(s._view=aN,s._viewDepthAnimationBegins(),s._renderView(),s._viewDepthAnimationEnds(),s.trigger(aA));break;case aH:n=parseInt(p.attr("data-value"),10),r=new Date(n,q.getMonth(),q.getDate()),r.getDate()!=q.getDate()&&(r=new Date(n,q.getMonth()+1,0)),s._focusedDate=r,s.options.view.depth==aH?(s._selectedDate=r,s._selectDateCell(r),s.trigger(aQ)):(s._view=aL,s._viewDepthAnimationBegins(),s._renderView(),s._viewDepthAnimationEnds(),s.trigger(aA))}}},_shouldChangeView:function(m){var j,n,l=this,k=l._focusedDate,o=!1,h=k.getFullYear(),p=m.getFullYear();switch(l._view){case aJ:(p!=h||m.getMonth()!=k.getMonth())&&(o=!0);break;case aN:p!=h&&(o=!0);break;case aL:j=h-h%10,n=j+10,(j>p||p>n)&&(o=!0);break;case aH:j=h-h%100,n=j+100,(j>p||p>n)&&(o=!0)}return o},_selectTodayHandler:function(){var g=this,e=new Date,h=g._shouldChangeView(e),k=!1;if(g._enabled){var j=new Date(e.getFullYear(),e.getMonth(),e.getDate());j.getTime()>g._focusedDate&&(k=!0),g._selectedDate=g._focusedDate=j,g._view!=g.options.view.depth?(g._view=g.options.view.depth,g._viewDepthAnimationBegins(),g._renderView(),g._viewDepthAnimationEnds(),g.trigger(aA)):h?(g._animationBegins(k),g._renderView(),g._animationEnds(k),g.trigger(av)):g._selectDateCell(g._focusedDate),g.trigger(aQ)}},_selectDateCell:function(e){var g=this,f=null;switch(g._view){case aJ:f=g._calendarTable.find(".sui-date:not('.sui-other-month')").filter(function(){var b=aU(this).attr("data-value"),h=new Date(b);return h.getDate()==e.getDate()&&h.getMonth()==e.getMonth()&&h.getFullYear()==e.getFullYear()});break;case aN:f=g._calendarTable.find(".sui-month").filter(function(){return aU(this).attr("data-value")==e.getMonth()});break;case aL:f=g._calendarTable.find(".sui-year").filter(function(){return aU(this).attr("data-value")==e.getFullYear()});break;case aH:f=g._calendarTable.find(".sui-years").filter(function(){var b=parseInt(aU(this).attr("data-value"),10);return e.getFullYear()>=b&&e.getFullYear()<b+10})}g._calendarTable.find(".sui-selected").removeClass("sui-selected"),f.addClass("sui-selected")},_viewDepthAnimationBegins:function(){var e=this;if(!ay("transition")){return void e._calendarTable.empty()}e._enabled=!1;var d=e._calendarTable,f=!1;d.bind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(b){f=e._removeOldTable(d,e)}),setTimeout(function(){f||e._removeOldTable(d,e)},1000),d.addClass("sui-fade-in"),e._renderTable()},_removeOldTable:function(d,c){return d.unbind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"),d.remove(),c._enabled=!0,!0},_viewDepthAnimationEnds:function(){ay("transition")&&this._calendarTable.addClass("sui-scaling")},_changeViewDepthHandler:function(g){var f=this,e=[aJ,aN,aL,aH],h=jQuery.inArray(f._view,e);3>h&&f._enabled&&(f._view=e[h+1],f._viewDepthAnimationBegins(),f._renderView(),f._viewDepthAnimationEnds())},_movePrevMonth:function(){var d=this,e=d._focusedDate,f=(d._view,new Date(e.getFullYear(),e.getMonth()-1,e.getDate()));f.getDate()!=e.getDate()&&(f=new Date(e.getFullYear(),e.getMonth(),0)),d._focusedDate=f},_moveNextMonth:function(){var d=this,e=d._focusedDate,f=(d._view,new Date(e.getFullYear(),e.getMonth()+1,e.getDate()));f.getDate()!=e.getDate()&&(f=new Date(e.getFullYear(),e.getMonth()+2,0)),d._focusedDate=f},_movePrevYears:function(g){var e=this,f=e._focusedDate,h=(e._view,new Date(f.getFullYear()-g,f.getMonth(),f.getDate()));h.getMonth()!=f.getMonth()&&(h=new Date(f.getFullYear()-g,f.getMonth()+1,0)),e._focusedDate=h,e._calendarTable.empty()},_moveNextYears:function(g){var e=this,f=e._focusedDate,h=(e._view,new Date(f.getFullYear()+g,f.getMonth(),f.getDate()));h.getMonth()!=f.getMonth()&&(h=new Date(f.getFullYear()+g,f.getMonth()+1,0)),e._focusedDate=h,e._calendarTable.empty()},_animationBegins:function(j){var f=this,h="-";if(!ay("transition")){return void f._calendarTable.empty()}f._calendarTable.removeClass("sui-scaling"),f._tableWrapper=aU("<div>").insertAfter(f.element.find(".sui-header")),f._tableWrapper.width(2*f.element.width()),f.element.find(".sui-calendar-view").appendTo(f._tableWrapper),f.element.parent().hasClass("sui-rtl")&&(j=!j,h="+"),f._renderTable(j),j||(f._tableWrapper.css("position","relative"),f._tableWrapper.css("left",h+f.element.width()+"px")),f._tableWrapper.addClass("sui-calendar-animation"),f._enabled=!1;var g=!1;f._tableWrapper.bind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(b){g=f._removeTempTables(f)}),setTimeout(function(){g||f._removeTempTables(f)},1000)},_removeTempTables:function(b){return b._tempTable.remove(),b._calendarTable.insertAfter(b.element.find(".sui-header")),b._tableWrapper.unbind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"),b._tableWrapper.remove(),b._tableWrapper=null,b._enabled=!0,!0},_animationEnds:function(f){var d=this;if(ay("transition")){var e=d.element.width();f&&(e=-1*e),d._tableWrapper.css("transform","translateX("+e+"px)")}},_moveView:function(c){var d=this;switch(d._animationBegins(c),d._view){case aJ:c?d._moveNextMonth():d._movePrevMonth(),d._createMonthView();break;case aN:c?d._moveNextYears(1):d._movePrevYears(1),d._createYearsView();break;case aL:c?d._moveNextYears(10):d._movePrevYears(10),d._createDecadeView();break;case aH:c?d._moveNextYears(100):d._movePrevYears(100),d._createcenturyView()}d._animationEnds(c),d.trigger(av)},_disablePrev:function(f){var e=this,d=e.element.find(".sui-prev");f?(e.preventPrevNavigation=!0,d.addClass("sui-calendar-disabled")):(e.preventPrevNavigation=!1,d.removeClass("sui-calendar-disabled"))},_disableNext:function(f){var e=this,d=e.element.find(".sui-next");f?(e.preventNextNavigation=!0,d.addClass("sui-calendar-disabled")):(e.preventNextNavigation=!1,d.removeClass("sui-calendar-disabled"))},_movePrevHandler:function(){var b=this;!b.preventPrevNavigation&&b._enabled&&b._moveView(!1)},_moveNextHandler:function(){var b=this;!b.preventNextNavigation&&b._enabled&&b._moveView(!0)},_initializeHeader:function(){var e=this,d=e.options.labels;this._header=aU('<div class="sui-header"><span unselectable="on"  title="'+d.previous+'" class="sui-prev"><span unselectable="on" class="sui-left-arrow"></span></span><span class="sui-text"></span><span unselectable="on" title="'+d.next+'" class="sui-next"><span unselectable="on" class="sui-right-arrow"></span></span></div>').appendTo(this.element)},_renderTable:function(d){var c=this,j=c.options,h="sui-calendar-view";j.hover&&j.enabled&&(h+=" sui-hoverable"),c._calendarTable?(c.element.find(".sui-calendar-view").off(aR,c._calendarSelection),c._calendarSelection=null,d?(c._tempTable=c.element.find(".sui-calendar-view"),c._calendarTable=aU("<table />").width(c.element.width()).addClass(h).insertAfter(c._tempTable)):(c._tempTable=c.element.find(".sui-calendar-view"),c._calendarTable=aU("<table />").width(c.element.width()).addClass(h).insertBefore(c._tempTable))):c._calendarTable=aU("<table />").width(c.element.width()).addClass(h).insertAfter(c.element.find(".sui-header")),!j.readOnly&&j.enabled&&c.element.find(".sui-calendar-view").on(aR,c._calendarSelection=aS(c._calendarSelectionHandler,c))},_render:function(){this._renderTable(),this._renderView()},_renderView:function(){var b=this;switch(b._view){case aJ:b._createMonthView();break;case aN:b._createYearsView();break;case aL:b._createDecadeView();break;case aH:b._createcenturyView();break;default:b._createMonthView()}},_initializeFooter:function(){var j=this,h=j.options,f=h.footer.footerTemlpate,g=aI(f)?f:function(b){return aG(f,b)};aU('<div class="sui-footer"><span class="sui-footer-text">'+g.call(j,new Date)+"</span></div>").appendTo(this.element)},_createMonthView:function(){var bE=this,by=bE.options,bp=bE._focusedDate,ba=bE._calendarTable,bm=aT.getCalendarInfo(),bq=bm.days,bv=bm.firstDay,b=bm.months,br=bq.namesShort,bt=[],m=bq.namesAbbr,o=bq.names,a3=by.min,bc=by.max,bl=by.dayTemplate,bk=by.otherMonthDayTemplate,bj=by.dateTooltipTemplate,bh=by.outOfRangeDayTemplate,aV=aI(bl)?bl:function(c){return aG(bl,c)},a2=aI(bk)?bk:function(c){return aG(bk,c)},aX=aI(bj)?bj:function(c){return aG(bj,c)},aY=aI(bh)?bh:function(c){return aG(bh,c)},aZ=aU("<thead />").appendTo(ba),a0=aU("<tr />").addClass("sui-week-header").appendTo(aZ),a4="",bC=0;for(bC=bv;bC<br.length;bC++){bt.push(br[bC])}for(var bn=0;bv>bn;bn++){bt.push(br[bn])}for(var bx=0;bx<bt.length;bx++){bt[bx];a4+="<th scope='col' abbr='"+m[bx]+"' title='"+o[bx]+"'>"+bt[bx]+"</th>"}a0.html(a4);var aW=aU('<tbody class="sui-days"/>').appendTo(ba),bB=bp.getFullYear(),bA=bp.getMonth(),bs=new Date(bB,bA,1).getDay()-bv,a1=new Date(bB,bA+1,0).getDay()-bv,a6=new Date(bB,bA+1,0).getDate(),a5=7;bE._header.find(".sui-text").text(b.names[bA]+" "+bB),0>=bs&&(bs=7-(0===bs?0:bv),a5=0);var bf=-1*bs+1,bw=6-a1+a6+a5,bg=0,bb=null,bo="";for(bw-bf>42&&(bw-=7),35>bw-bf&&(bw+=7),bC=bf;bw>=bC;bC++){var bD=new Date(bB,bA,bC,0,0,0,0),a9="sui-date",be=bD.getTime()<a3.getTime()||bD.getTime()>bc.getTime()?" sui-out-of-range":"",bz=1>bC||bC>a6?" sui-other-month":"",bd=6==bD.getDay()||0===bD.getDay()?" sui-weekend":"",a7=be||bp.getDate()!=bC||bz?"":" sui-focused",a8=bE._selectedDate&&bD.getTime()==bE._selectedDate.getTime()&&!bz?" sui-selected":"",bu=null;be?(bu=aY.call(bE,{date:bD,day:bD.getDate()}),bz="",bd="",a7="",a8="",a9=""):bz?(bu=a2.call(bE,{date:bD,day:bD.getDate()}),""===bu&&(bz+=" sui-no-hover")):bu=aV.call(bE,{date:bD,day:bD.getDate()}),bo+="<td title='"+aX.call(bE,{date:bD,day:bD.getDate()})+"' data-value='"+bD.getFullYear()+"/"+(bD.getMonth()+1)+"/"+bD.getDate()+"' class='"+a9+bz+bd+a7+a8+be+"'>"+bu+"</td>",bg++,7==bg&&(bb=aU('<tr role="row" />').appendTo(aW),bb.html(bo),bg=0,bo="")}var bi=new Date(bB,bA,1,0,0,0,0),bF=new Date(bB,bA+1,0);bi.getTime()<=a3.getTime()?bE._disablePrev(!0):bE.element.find(".sui-prev").hasClass("sui-calendar-disabled")&&bE._disablePrev(!1),bF.getTime()>=bc.getTime()?bE._disableNext(!0):bE.element.find(".sui-next").hasClass("sui-calendar-disabled")&&bE._disableNext(!1)},_createYearsView:function(){var S=this,J=S.options,A=S._calendarTable,Q=S._focusedDate,b=aT.getCalendarInfo(),D=b.months,h=D.names,F=D.namesAbbr,z=aU('<tbody class="sui-months"/>').appendTo(A),H=null,I="",N=J.min,K=J.max,L="",M=0;S._header.find(".sui-text").text(Q.getFullYear());for(var R=0;R<F.length;R++){var P=new Date(Q.getFullYear(),R,Q.getDate(),0,0,0,0),B=Q.getMonth()==R?" sui-focused":"";J.view.depth==aN&&(L=S._selectedDate&&P.getTime()==S._selectedDate.getTime()?" sui-selected":"");var O="",C=h[R],E=F[R],G="sui-month";(P.getFullYear()<=N.getFullYear()&&P.getMonth()<N.getMonth()||P.getFullYear()>=K.getFullYear()&&P.getMonth()>K.getMonth())&&(O=" sui-out-of-range"),O&&(B="",L="",C=E="&nbsp;",G=""),I+="<td data-value='"+R+"' class='"+G+B+L+O+"' title='"+C+"'>"+E+"</td>",M++,4==M&&(H=aU("<tr />").appendTo(z),H.html(I),M=0,I="")}Q.getFullYear()<=N.getFullYear()?S._disablePrev(!0):S.element.find(".sui-prev").hasClass("sui-calendar-disabled")&&S._disablePrev(!1),Q.getFullYear()>=K.getFullYear()?S._disableNext(!0):S.element.find(".sui-next").hasClass("sui-calendar-disabled")&&S._disableNext(!1)},_createDecadeView:function(){var S=this,L=S.options,j=S._calendarTable,M=S._focusedDate,Q=M.getFullYear(),C=Q%10,y=aU('<tbody class="sui-decade"/>').appendTo(j),D=null,H="",G=0,E=L.min,z=L.max,O=Q-C-1,J="",N=Q+(10-C);S._header.find(".sui-text").text(O+1+"-"+(N-1));for(var R=O;N>=R;R++){var K=new Date(R,M.getMonth(),M.getDate(),0,0,0,0),B=R==O||R==N?" sui-other-year":"",A=Q==R?" sui-focused":"",I="",P=R,F="sui-year";(K.getFullYear()<E.getFullYear()||K.getFullYear()>z.getFullYear())&&(I=" sui-out-of-range"),L.view.depth==aL&&(J=S._selectedDate&&K.getTime()==S._selectedDate.getTime()?" sui-selected":""),I&&(B="",A="",J="",F="",P="&nbsp;"),H+="<td data-value='"+P+"' class='"+F+B+A+J+I+"' title='"+P+"'>"+P+"</td>",G++,4==G&&(D=aU("<tr />").appendTo(y),D.html(H),G=0,H="")}O<E.getFullYear()?S._disablePrev(!0):S.element.find(".sui-prev").hasClass("sui-calendar-disabled")&&S._disablePrev(!1),N>z.getFullYear()?S._disableNext(!0):S.element.find(".sui-next").hasClass("sui-calendar-disabled")&&S._disableNext(!1)},_createcenturyView:function(){var K,aW=this,L=aW.options,n=aW._calendarTable,W=aW._focusedDate,U=W.getFullYear(),B=U%100,C=aU('<tbody class="sui-decade"/>').appendTo(n),H=null,N="",M="",R=L.min,J=L.max,P=0,V=U-B-10,T=V+99+10+2;aW._header.find(".sui-text").text(V+10+"-"+(T-2));for(var aV=V;T>aV;aV+=10){var G=aV==V||aV==T-1?" sui-other-years":"",S=new Date(aV,W.getMonth(),W.getDate(),0,0,0,0),D=new Date(aV+10,W.getMonth(),W.getDate(),0,0,0,0),Q="",I=U>=aV&&aV+10>U?" sui-focused":"",E="sui-years",O=aV+" - "+(aV+9),F=aV;(S.getFullYear()<R.getFullYear()&&D.getFullYear()<=R.getFullYear()||S.getFullYear()>J.getFullYear())&&(Q=" sui-out-of-range"),L.view.depth==aH&&(M=aW._selectedDate&&aW._selectedDate.getFullYear()>=S.getFullYear()&&aW._selectedDate.getFullYear()<S.getFullYear()+10?" sui-selected":""),Q&&(G="",I="",M="",E="",K=F=O="&nbsp;"),N+="<td data-value='"+F+"' class='"+E+G+I+M+Q+"' title='"+O+"'>"+O+"</td>",P++,4==P&&(H=aU("<tr />").appendTo(C),H.html(N),P=0,N="")}V<R.getFullYear()?aW._disablePrev(!0):aW.element.find(".sui-prev").hasClass("sui-calendar-disabled")&&aW._disablePrev(!1),T>J.getFullYear()?aW._disableNext(!0):aW.element.find(".sui-next").hasClass("sui-calendar-disabled")&&aW._disableNext(!1)},value:function(){var h=this,m=h.options,k=m.min,j=m.max,l=[].slice.call(arguments);if(!(l.length>0)){return h._selectedDate}var g=l[0];if(null==g||""===g||ah(g)){h._selectedDate=null,h._focusedDate=m.focused}else{if(g.getTime()<k.getTime()||g.getTime()>j.getTime()){return}h._focusedDate=h._selectedDate=new Date(g.getFullYear(),g.getMonth(),g.getDate())}h._calendarTable.empty(),h._renderView()},enabled:function(){var f=this,g=f.options,e=[].slice.call(arguments);if(!(e.length>0)){return f._enabled}var h=e[0];h?(g.hover&&f._calendarTable.addClass("sui-hoverable"),f.element.removeClass("sui-calendar-disabled")):(f._calendarTable.removeClass("sui-hoverable"),f.element.addClass("sui-calendar-disabled")),f._enabled=h},previous:function(){var b=this;b.preventPrevNavigation||b._moveView(!1)},next:function(){var b=this;b.preventNextNavigation||b._moveView(!0)},view:function(){var e=this,d=[].slice.call(arguments);if(!(d.length>0)){return e._view}var f=d[0];f!=e._view&&(e._view=f,e._calendarTable.empty(),e._renderView())},focused:function(){var d=this,c=[].slice.call(arguments);if(!(c.length>0)){return d._focusedDate}d._focusedDate=c[0];c.length>1&&d._view!=c[1]&&(d._view=c[1]),d._calendarTable.empty(),d._renderView()},visible:function(){var e=this,d=(e.options,[].slice.call(arguments));if(!(d.length>0)){return e.element.hasClass("sui-hidden")||"none"==e.element.css("display")?!1:!0}var f=d[0];f?e.element.removeClass("sui-hidden"):e.element.addClass("sui-hidden")},destroy:function(){var d=this,f=d.options.cls,g=aU(d.element);g.removeClass("sui-calendar sui-read-only sui-calendar-disabled"+(f?" "+f:"")),d._focusedDate=null,d._header=null,d._calendarTable=null,d._view=null,d._enabled=null,d._selectedDate=null,d._tempTable=null,d._tableWrapper=null,g.find(".sui-prev").off(aR,d._movePrev),d._movePrev=null,g.find(".sui-next").off(aR,d._moveNext),d._moveNext=null,g.find(".sui-text").off(aR,d._changeViewDepth),d._changeViewDepth=null,g.find(".sui-footer").off(aR,d._selectToday),d._selectToday=null,g.find(".sui-calendar-view").off(aR,d._calendarSelection),d._calendarSelection=null,g.off(ai,d._selectStart),d._selectStart=null,g.empty(),aF.fn.destroy.call(d)}}),ax.defaults=aj,aT.ui.plugin("Calendar",ax),aC={calendar:null,format:"{0:MM/dd/yyyy}",textTemplate:"{0:MM/dd/yyyy}",value:null,parseFormats:["MM/dd/yyyy"],openOnFocus:!1,showButton:!0,editable:!0,enabled:!0,messages:{calendarIconTooltip:"",buttonText:"select"},min:new Date(1900,0,1),max:new Date(2099,11,31),events:{}},aM=aF.extend({init:function(m,f){aF.fn.init.apply(this,arguments);var c=this,q=c.options,p=q.value,n=q.showButton?"":" sui-no-button";ae&&(n+=" sui-ie8");var o=aU(q.isMonthYearPicker?"<span class='sui-monthyearpicker"+n+"' />":q.isTimePicker?"<span class='sui-timepicker"+n+"' />":q.isDateTimePicker?"<span class='sui-datetimepicker"+n+"' />":"<span class='sui-datepicker"+n+"' />");if(c._selectedDate=null,aU(m).after(o),c._wrapper=o,c._visibleInput=aU("<input class='sui-picker-input' type='text' />").appendTo(o),q.showButton){var g=q.messages.calendarIconTooltip;q.isTimePicker&&(g=q.messages.timeIconTooltip),c._iconWrapper=aU("<span class='sui-icon-wrapper' unselectable='on' title='"+g+"' />").appendTo(o);aU('<span class="sui-sprite sui-calendar-icon" unselectable="on">'+q.messages.buttonText+"</span>").appendTo(c._iconWrapper);q.isDateTimePicker&&(c._timeIconWrapper=aU("<span class='sui-time-icon-wrapper' unselectable='on' title='"+q.messages.timeIconTooltip+"' />").appendTo(o),aU('<span class="sui-sprite sui-time-icon" unselectable="on">'+q.messages.buttonText+"</span>").appendTo(c._timeIconWrapper))}aU(m).css(aP,aO).appendTo(o),c._enabled=q.enabled,q.enabled||(o.addClass("sui-disabled"),c._visibleInput.on(aB,c._visibleInputFocused=aS(c._visibleInputFocusedHandler,c))),c._attachEvents(),p&&(ar(p)&&(p=new Date(p)),q.isMonthYearPicker?c._selectedDate=new Date(p.getFullYear(),p.getMonth(),1):c._selectedDate=p,c._changeInputsValues(p))},_changeInputsValues:function(h){var j=this,o=j.options,n=o.format,m=o.textTemplate,l=aI(n)?n:function(b){return aG(n,b.date)};j.element.get(0).value=l.call(j,{date:h});var k=aI(m)?m:function(b){return aG(m,b.date)};j._visibleInput.get(0).value=k.call(j,{date:h}),o.isMonthYearPicker?j._selectedDate=new Date(h.getFullYear(),h.getMonth(),1):j._selectedDate=h},_attachEvents:function(){var c=this,d=c.options;d.showButton&&(d.isTimePicker?c._iconWrapper.on(aR,c._toggleListBoxVisibility=aS(c._toggleListBoxVisibilityHandler,c)):d.isDateTimePicker?(c._timeIconWrapper.on(aR,c._toggleListBoxVisibility=aS(c._toggleListBoxVisibilityHandler,c)),c._iconWrapper.on(aR,c._toggleCalendarVisibility=aS(c._toggleCalendarVisibilityHandler,c))):c._iconWrapper.on(aR,c._toggleCalendarVisibility=aS(c._toggleCalendarVisibilityHandler,c))),c._visibleInput.on(af,c._visibleInputKeyPress=aS(c._visibleInputKeyPressHandler,c)),aU(aK).on(aE+".shieldDatePicker"+c.getInstanceId(),aS(c._hidePopupHandler,c)),c._visibleInput.on(aB,c._visibleInputFocused=aS(c._visibleInputFocusedHandler,c)),c._visibleInput.on(an,c._visibleInputBlured=aS(c._visibleInputBluredHandler,c)),c._visibleInput.on(aQ,c._visibleInputChanged=aS(c._visibleInputChangedHandler,c))},_visibleInputChangedHandler:function(){var h=this,e=h.options,l=e.format,m=e.min,k=e.max;if(h._enabled){h._selectedDate=aa(h._visibleInput.get(0).value,e.parseFormats),h._selectedDate&&(h._selectedDate.getTime()>k||h._selectedDate.getTime()<m)&&(e.isTimePicker?h._selectedDate=new Date(m.getFullYear(),m.getMonth(),m.getDate(),h._selectedDate.getHours(),h._selectedDate.getMinutes(),h._selectedDate.getSeconds()):h._selectedDate=null),null!=h._selectedDate&&(h._selectedDate&&h.calendar&&h.calendar.value(h._selectedDate),h._selectedDate&&h.listBox&&h._selectValueInListBox(h._selectedDate));var j=aI(l)?l:function(b){return aG(l,b.date)};h.element.get(0).value=j.call(h,{date:h._selectedDate}),h.trigger(aQ)}},_visibleInputFocusedHandler:function(f){var e=this,d=e.options;return e._enabled?(d.isMonthYearPicker?e._wrapper.addClass("sui-monthyearpicker-focus"):d.isTimePicker?e._wrapper.addClass("sui-timepicker-focus"):d.isDateTimePicker?e._wrapper.addClass("sui-datetimepicker-focus"):e._wrapper.addClass("sui-datepicker-focus"),void (d.openOnFocus&&(e._shouldShowPopup||!e.calendar)&&(e._toggleCalendarVisibilityHandler(),e._shouldShowPopup=!1))):void f.target.blur()},_visibleInputBluredHandler:function(){var f=this,d=f.options,e=f._wrapper;d.isMonthYearPicker?e.removeClass("sui-monthyearpicker-focus"):d.isTimePicker?e.removeClass("sui-timepicker-focus"):d.isDateTimePicker?e.removeClass("sui-datetimepicker-focus"):e.removeClass("sui-datepicker-focus")},_visibleInputKeyPressHandler:function(f){var e=this,g=e.options;if(e._enabled){if(g.editable===!1){return f.preventDefault(),void f.stopPropagation()}var h=f.keyCode||f.charCode;(13==h||9==h||27==h)&&(this._shouldShowPopup=!0,this.calendar.element.css(aP)!=aO&&(this.calendar.element.css(aP,aO),e.trigger(am)))}},_hidePopupHandler:function(g){var f,e=this;if(e.listBox){if(e._visibleInput.get(0)==g.target||e._iconWrapper&&e._iconWrapper.get(0)==g.target||e._iconWrapper&&e._iconWrapper.children(0).get(0)==g.target||e._timeIconWrapper&&e._timeIconWrapper.get(0)==g.target||e._timeIconWrapper&&e._timeIconWrapper.children(0).get(0)==g.target){return}e._popupIsOver?(f=e.listBox.element.parent().height(),e.listBox.element.parent().animate({height:0,top:e._visibleInput.offset().top},150,function(){aU(this).css(aP,aO),aU(this).css("height",f)})):e.listBox.element.parent().slideUp(150,function(){}),e._shouldShowPopup=!0}if(e.calendar){if(e._visibleInput.get(0)==g.target||e._iconWrapper&&e._iconWrapper.get(0)==g.target||e._iconWrapper&&e._iconWrapper.children(0).get(0)==g.target){return}e._popupIsOver?(f=e.calendar.element.height(),e.calendar.element.animate({height:0,top:e._visibleInput.offset().top},150,function(){aU(this).css(aP,aO),aU(this).css("height",f)})):e.calendar.element.slideUp(150,function(){}),e._shouldShowPopup=!0}},_toggleListBoxVisibilityHandler:function(){var e=this,c=e.options,f=c.listBox;if(e._enabled){if(!e.listBox){new X({listbox:f,parent:e,min:c.min,max:c.max,interval:c.interval,textTemplate:c.isDateTimePicker?c.timeFormat:c.textTemplate});e.listBox.on(ag,e._listBoxChange=aS(e._listBoxChangeHandler,e)),e.listBox.element.on(aE,e._popupMouseDown=aS(e._popupMouseDownHandler,e)),e._selectedDate&&e._selectValueInListBox(e._selectedDate)}c.isDateTimePicker&&(e.calendar&&e.calendar.element.css(aP)!=aO&&(e.calendar.element.slideUp(150,function(){}),e._shouldShowPopup=!0),e._toggleTimePopup=!0),e._shouldShowPopup?e._showPopup():e._hidePopup(),e._shouldShowPopup?e._shouldShowPopup=!1:e._shouldShowPopup=!0}},_listBoxChangeHandler:function(e){var q=this;if(q.options.isDateTimePicker){var p=q._selectedDate,o=e.item;p?q._selectedDate=new Date(p.getFullYear(),p.getMonth(),p.getDate(),o.getHours(),o.getMinutes(),o.getSeconds()):(p=new Date,q._selectedDate=new Date(p.getFullYear(),p.getMonth(),p.getDate(),o.getHours(),o.getMinutes(),o.getSeconds()))}else{q._selectedDate=e.item}var m=q.options,b=m.isDateTimePicker?aT.format(m.timeFormat,q._selectedDate):aT.format(m.textTemplate,q._selectedDate),l=q.listBox.element.find(".sui-listbox-item"),n=0;for(n;n<l.length;n++){if(l[n].innerHTML==b){q._selectedElement=aU(l[n]);break}}q._changeInputsValues(q._selectedDate),q._hidePopup(),q._shouldShowPopup=!0,q.trigger(aQ)},_toggleCalendarVisibilityHandler:function(){var e=this,c=e.options,b=c.calendar;e._enabled&&(e.calendar||(aT.ui.Calendar&&(az.object(b)&&b instanceof aT.ui.Calendar?e.calendar=b:(e._wrapper.parent().hasClass("sui-rtl")?(e._calendarWrapper=aU("<div style='display: none;' />").appendTo(aK.body),e._calendarWrapper.wrap("<span class='sui-rtl'></span>")):e._calendarWrapper=aU("<div style='display: none;' />").appendTo(aK.body),e.calendar=new aT.ui.Calendar(e._calendarWrapper,aD({},b,{min:c.min,max:c.max}))),e._shouldShowPopup=!0),e.calendar.on(aQ,e._calendarChange=aS(e._calendarChangeHandler,e)),e.calendar.element.on(aE,e._popupMouseDown=aS(e._popupMouseDownHandler,e)),e._selectedDate&&e.calendar.value(e._selectedDate)),c.isDateTimePicker&&(e.listBox&&e.listBox.element.parent().css(aP)!=aO&&(e.listBox.element.parent().slideUp(150,function(){}),e._shouldShowPopup=!0),e._toggleTimePopup=!1),e._shouldShowPopup?e._showPopup():e._hidePopup(),e._shouldShowPopup?e._shouldShowPopup=!1:e._shouldShowPopup=!0)},_calendarChangeHandler:function(){var d,e=this,f=e.options;f.isMonthYearPicker?(d=e.calendar.value(),e._selectedDate=new Date(d.getFullYear(),d.getMonth(),1)):f.isDateTimePicker?(d=e.calendar.value(),e._selectedDate?e._selectedDate=new Date(d.getFullYear(),d.getMonth(),d.getDate(),e._selectedDate.getHours(),e._selectedDate.getMinutes(),e._selectedDate.getSeconds()):e._selectedDate=e.calendar.value()):e._selectedDate=e.calendar.value(),e._changeInputsValues(e._selectedDate),e._hidePopup(),e._shouldShowPopup=!0,e.trigger(aQ)},_calculateLeftOffsetWhenRtl:function(){var e,f=this,g=f.options,h=(f._wrapper.offset(),0);return g.isTimePicker||g.isDateTimePicker&&f._toggleTimePopup?(e=f._visibleInput.offset().left-(f.listBox.element.parent().width()-f._visibleInput.width()),e>0&&(h=e)):(e=f._visibleInput.offset().left-(f.calendar.element.width()-f._visibleInput.width()),e>0&&(h=e)),h},_showPopup:function(){var q,s=this,n=s.options,p=s._wrapper.offset(),l=p.top-aU(aK).scrollTop(),m=s._wrapper.height(),k=aU(ap).height(),r=p.top+m,o=p.left;s._wrapper.parent().hasClass("sui-rtl")&&(o=s._calculateLeftOffsetWhenRtl()),q=n.isTimePicker||n.isDateTimePicker&&s._toggleTimePopup?s.listBox.element.parent().height():s.calendar.element.height(),q+l+m>k?r=p.top-q-1:r++,(0>r||aU(aK).scrollTop()>r)&&(r=p.top+m+1),s._visibleInput.offset().top>r?s._popupIsOver=!0:s._popupIsOver=!1,n.isTimePicker||n.isDateTimePicker&&s._toggleTimePopup?s._popupIsOver?(s.listBox.element.parent().css({position:"absolute",zIndex:10002,top:r+q,left:o,height:0,display:""}),s.listBox.element.parent().animate({height:q,top:r+2},150)):(s.listBox.element.parent().css({position:"absolute",top:r,left:o,zIndex:10002}),s.listBox.element.parent().slideDown(150,function(){if(s._selectedElement){var b=Math.abs(s._selectedElement.get(0).offsetTop),d=s._selectedElement.parent().scrollTop();b>s._selectedElement.parent().get(0).scrollTopMax&&(b=s._selectedElement.parent().get(0).scrollTopMax),d+s.listBox.element.height()>b&&b>d||s.listBox.element.scrollTop(b)}})):s._popupIsOver?(s.calendar.element.css({position:"absolute",zIndex:10002,top:r+q,left:o,height:0,display:""}),s.calendar.element.animate({height:q,top:r},150)):(s.calendar.element.css({position:"absolute",zIndex:10002,top:r,left:o}),s.calendar.element.slideDown(150,function(){})),s.trigger(ad)},_hidePopup:function(){var g,e=this,f=e.options;f.isTimePicker||f.isDateTimePicker&&e._toggleTimePopup?e.listBox&&e.listBox.element.parent().css(aP)!=aO&&(e._popupIsOver?(g=e.listBox.element.parent().height(),e.listBox.element.parent().animate({height:0,top:e._visibleInput.offset().top},150,function(){aU(this).css(aP,aO),aU(this).css("height",g)})):e.listBox.element.parent().slideUp(150,function(){})):e.calendar&&e.calendar.element.css(aP)!=aO&&(e._popupIsOver?(g=e.calendar.element.height(),e.calendar.element.animate({height:0,top:e._visibleInput.offset().top},150,function(){aU(this).css(aP,aO),aU(this).css("height",g)})):e.calendar.element.slideUp(150,function(){})),e.trigger(am)},_popupMouseDownHandler:function(b){b.preventDefault(),b.stopPropagation()},_selectValueInListBox:function(j){var m=this;if(m.listBox){var n,l=m.options,b=l.isDateTimePicker?aT.format(l.timeFormat,j):aT.format(l.textTemplate,j),k=m.listBox.element.find(".sui-listbox-item");for(n=0;n<k.length;n++){if(k[n].innerHTML==b){m._selectedElement=aU(k[n]);break}}m.listBox.selected(n,!0)}},enabled:function(){var e=this,c=(e.options,[].slice.call(arguments));if(!(c.length>0)){return e._enabled}var f=c[0];e._enabled=f,f?(e._visibleInputFocused&&(e._visibleInput.off(aB,e._visibleInputFocused),e._visibleInputFocused=null),e._wrapper.removeClass("sui-disabled")):(e._wrapper.addClass("sui-disabled"),e._visibleInput.on(aB,e._visibleInputFocused=aS(e._visibleInputFocusedHandler,e)))},visible:function(){var e=this,d=(e.options,[].slice.call(arguments));if(!(d.length>0)){return e._wrapper.hasClass("sui-hidden")||"none"==e._wrapper.css("display")?!1:!0}var f=d[0];f?e._wrapper.removeClass("sui-hidden"):e._wrapper.addClass("sui-hidden")},focus:function(){aU(this._visibleInput).focus()},value:function(){var h=this,m=h.options,k=m.min,j=m.max,l=[].slice.call(arguments);if(!(l.length>0)){return h._selectedDate}var g=l[0];return null==g||""===g||ah(g)?(h._visibleInput.get(0).value="",h._selectedDate=null,h.calendar&&h.calendar.value(null),void ((m.isTimePicker||m.isDateTimePicker)&&h.listBox&&h.listBox.clearSelection())):void ((m.isTimePicker||!(g.getTime()<k.getTime()||g.getTime()>j.getTime()))&&(h._changeInputsValues(g),h.calendar&&h.calendar.value(g),h._selectedDate=g,(m.isTimePicker||m.isDateTimePicker)&&h._selectValueInListBox(g)))},close:function(){var d=this,c=[].slice.call(arguments);d.options.isDateTimePicker?c.length>0&&("calendar"==c[0]&&(d._shouldShowPopup=!1,d._toggleCalendarVisibilityHandler()),"timeview"==c[0]&&(d._shouldShowPopup=!1,d._toggleListBoxVisibilityHandler())):(d._shouldShowPopup=!1,d._toggleCalendarVisibilityHandler())},open:function(){var d=this,c=[].slice.call(arguments);d.options.isDateTimePicker?c.length>0&&("calendar"==c[0]&&(d._shouldShowPopup=!0,d._toggleCalendarVisibilityHandler()),"timeview"==c[0]&&(d._shouldShowPopup=!0,d._toggleListBoxVisibilityHandler())):(d._shouldShowPopup=!0,d._toggleCalendarVisibilityHandler())},destroy:function(){var c=this;c.options.isTimePicker?(c._iconWrapper.off(aR,c._toggleListBoxVisibility),c._toggleListBoxVisibility=null):c.options.isDateTimePicker?(c._iconWrapper.off(aR,c._toggleListBoxVisibility),c._toggleListBoxVisibility=null,c._timeIconWrapper=null,c._iconWrapper.off(aR,c._toggleCalendarVisibility),c._toggleCalendarVisibility=null):(c._iconWrapper.off(aR,c._toggleCalendarVisibility),c._toggleCalendarVisibility=null),c._iconWrapper=null,c._popupIsOver=null,aU(aK).off(aE+".shieldDatePicker"+c.getInstanceId()),aU(c.element).css(aP,"").insertAfter(c._wrapper),c._wrapper.remove(),c._wrapper=null,c._destroyCalendar(),c._destroyListBox(),c._shouldShowPopup=null,c._visibleInput.off(aB,c._visibleInputFocused),c._visibleInput.off(aQ,c._visibleInputChanged),c._visibleInput.off(an,c._visibleInputBlured),c._visibleInputFocused=null,c._visibleInputChanged=null,c._visibleInputBlured=null,c._visibleInput=null,c._selectedDate=null,c._enabled=null,aF.fn.destroy.call(c)},_destroyCalendar:function(){var b=this;b.calendar&&(b.calendar.off(aQ,b._calendarChange),b._calendarChange=null,b.calendar.element.off(aE,b._popupMouseDown),b._popupMouseDown=null,b.calendar.destroy(),b.calendar=null,b._calendarWrapper&&b._calendarWrapper.remove())},_destroyListBox:function(){var b=this;b.listBox&&(b._selectedElement=null,b.listBox.off(aQ,b._listBoxChange),b._listBoxChange=null,b.listBox.destroy(),b.listBox=null,b._listBoxWrapper&&(b._listBoxWrapper.remove(),b._listBoxWrapper=null))}}),aM.defaults=aC,aT.ui.plugin("DatePicker",aM),ao=aD({},aC,{isMonthYearPicker:!0,calendar:{view:{depth:aN,start:aN}},format:"{0:MMMM yyyy}",textTemplate:"{0:MMMM yyyy}",parseFormats:["MMMM yyyy"]}),au=aM.extend({init:function(c,d){d&&(d.isMonthYearPicker=!0),aM.prototype.init.call(this,c,d)}}),au.defaults=ao,aT.ui.plugin("MonthYearPicker",au),ak=aD({},aC,{isTimePicker:!0,listBox:null,format:"{0:h:mm tt}",textTemplate:"{0:h:mm tt}",parseFormats:["h:mm tt"],interval:30,min:new Date(1900,0,1,0,0,0),max:new Date(1900,0,1,0,0,0),messages:{timeIconTooltip:"",buttonText:"select"}}),at=aM.extend({init:function(c,d){d&&(d.isTimePicker=!0),aM.prototype.init.call(this,c,d)}}),at.defaults=ak,aT.ui.plugin("TimePicker",at),aq=aD({},aC,{isDateTimePicker:!0,listBox:null,format:"{0:MM/dd/yyyy h:mm tt}",textTemplate:"{0:MM/dd/yyyy h:mm tt}",parseFormats:["MM/dd/yyyy h:mm tt"],interval:30,min:new Date(1900,0,1,0,0,0),max:new Date(2099,11,31,0,0,0),messages:{calendarIconTooltip:"",timeIconTooltip:"",buttonText:"select"},timeFormat:"{0:h:mm tt}"}),aw=aM.extend({init:function(c,d){d&&(d.isDateTimePicker=!0),aM.prototype.init.call(this,c,d)}}),aw.defaults=aq,aT.ui.plugin("DateTimePicker",aw)}(jQuery,shield,this);!function(Z,X,T,A){var M=X.ui.Widget,H=X.Class,Y=document,J=X.is,F=(X.get,X.format,X.to["int"]),W=(Math.abs,Z.each,Z.proxy),S=(Z.extend,Z.map,J.undefined),C=T.opera,D=navigator.userAgent,B=/msie/i.test(D)&&!C,L=(B&&7===Y.documentMode,"keydown"),K="click",P="mousedown",I="change",V="select",G="cancel",Q="display",R="none",E={palette:"basic",basicPalette:{columns:10,tileSize:{width:16,height:16},tileBorderWidth:0,palette:["#FFFFFF","#FFCCCC","#FFCC99","#FFFF99","#FFFFCC","#99FF99","#99FFFF","#CCFFFF","#CCCCFF","#FFCCFF","#CCCCCC","#FF6666","#FF9966","#FFFF66","#FFFF33","#66FF99","#33FFFF","#66FFFF","#9999FF","#FF99FF","#BBBBBB","#FF0000","#FF9900","#FFCC66","#FFFF00","#33FF33","#66CCCC","#33CCFF","#6666CC","#CC66CC","#999999","#CC0000","#FF6600","#FFCC33","#FFCC00","#33CC00","#00CCCC","#3366FF","#6633FF","#CC33CC","#666666","#990000","#CC6600","#CC9933","#999900","#009900","#339999","#3333FF","#6600CC","#993399","#333333","#660000","#993300","#996633","#666600","#006600","#336666","#000099","#333399","#663366","#000000","#330000","#663300","#663333","#333300","#003300","#003333","#000066","#330099","#330033"]},advancedPalette:{type:"hex",buttons:!0,messages:{apply:"Apply",cancel:"Cancel"}},displayInline:!1,showLetter:!1,value:""},N=M.extend({init:function(b,j){M.fn.init.apply(this,arguments);var k,n=this,f=n.options;if(arguments.length>1&&(j=arguments[1],j.basicPalette&&j.basicPalette.palette&&(f.basicPalette.palette=j.basicPalette.palette)),n.element.css(Q,R),n._enabled=!0,n.currentColor=new U({color:f.value}),f.displayInline){n._buildPalette()}else{if(n._picker=k=Z('<span class="sui-color-picker-dropdown" tabindex="0"><span class="sui-color-cell sui-unselectable" unselectable="on">&nbsp;</span><span class="sui-caret-container sui-unselectable" unselectable="on"><span class="sui-caret" unselectable="on"></span></span></span>').insertAfter(n.element),f.showLetter){var d=k.find(".sui-color-cell");Z('<span class="sui-tool-letter">A<span class="sui-selected-color"></span></span>').appendTo(d),k.find(".sui-selected-color").css("background-color",n.currentColor.color.cssa())}else{k.find(".sui-color-cell").css("background-color",n.currentColor.color.cssa())}k.on(K,n._pickerClicked=W(n._pickerClickedHandler,n)),Z(Y).on(P+".shieldColorPicker"+n.getInstanceId(),W(n._hidePopup,n))}n.currentColor.color.cssa?n._oldColor=n.currentColor.color.cssa():n._oldColor=n.currentColor.color.toRGB().cssa()},_buildPalette:function(){var b=this;"basic"==b.options.palette?b._buildBasicPalette():(b._buildAdvancedPalette(),b._changeAdvancedPaletteColor())},_changeAdvancedPaletteColor:function(){var d=this,c=d.currentColor.color.toHSV();d.wrapperDiv&&(d._hue=c.hue,d._isHsl?(c=d.currentColor.color.toHSL(),d._XY(d,{pointer:d.wrapperDiv.find(".sui-color-palette .pointer").get(0),x:c.hue,y:1-c.saturation}),d._Z(d,1-c.lightness,d.wrapperDiv.find(".sui-color-scale .pointer").get(0))):(d._XY(d,{pointer:d.wrapperDiv.find(".sui-color-palette .pointer").get(0),x:c.saturation,y:1-c.value}),d._Z(d,c.hue,d.wrapperDiv.find(".sui-color-scale .pointer").get(0))))},_pickerClickedHandler:function(){var b=this;b.wrapperDiv||b._buildPalette(),b._showPopup()},_showPopup:function(){var r=this,p=r._picker.offset(),g=p.top-Z(Y).scrollTop(),n=r._picker.height(),b=Z(T).height();if("advanced"===r.options.palette&&(r.currentColor.color.cssa?r._oldColor=r.currentColor.color.cssa():r._oldColor=r.currentColor.color.toRGB().cssa()),!r.wrapperDiv||r.wrapperDiv.css(Q)==R){r._popupIsOver=!1;var q=p.top+n+1,j=p.left,o=r.wrapperDiv.height();o+g+n>b?q=p.top-o-1:q++,(0>q||Z(Y).scrollTop()>q)&&(q=p.top+n+1),p.top>q?r._popupIsOver=!0:r._popupIsOver=!1,r.wrapperDiv||this._buildPalette(),r._popupIsOver?(r.wrapperDiv.css({position:"absolute",zIndex:10002,top:q+o,left:j,height:0,display:""}),r.wrapperDiv.animate({height:o,top:q},150)):(r.wrapperDiv.css({position:"absolute",zIndex:10002,top:q-1,left:j}),r.wrapperDiv.slideDown(150,function(){}))}},_hidePopup:function(j){var n,f=this,p=f.options,m=Z(j.target);if(("basic"==p.palette||!(m.hasClass("sui-colorpicker")||m.parents(".sui-colorpicker").length>0))&&f.wrapperDiv&&f.wrapperDiv.css(Q)!=R){if("basic"===p.palette){var o=f._picker.find(".sui-tool-letter > .sui-selected-color");0===o.length&&(o=f._picker.find(".sui-color-cell")),o.css("background-color",f.currentColor.color.css())}f._popupIsOver?(n=f.wrapperDiv.height(),f.wrapperDiv.animate({height:0,top:f._picker.offset().top},150,function(){Z(this).css(Q,R),Z(this).css("height",n)})):f.wrapperDiv.slideUp(150,function(){});var l;l=f.currentColor.color.cssa?f.currentColor.color.cssa():f.currentColor.color.toRGB().cssa(),"basic"!=p.palette&&(p.advancedPalette.buttons?l!==f._oldColor&&(f.currentColor=new U({color:f._oldColor}),setTimeout(function(){f._update(),f.trigger(G)},200)):(f._changeSelectedColorCell(),f.trigger(I)))}},_buildBasicPalette:function(){var r,s=this,j=s.options,t=j.basicPalette,p=t.palette,k=t.tileSize,d=0,b=Z("<div class='sui-colorpicker sui-colorpicker-basic-palette'/>");r=j.displayInline?b.insertAfter(s.element):b.appendTo(Y.body).css(Q,R);for(var q=0;q<p.length;q++){Z("<div class='sui-palette-tile'/>").css({backgroundColor:p[q],width:k.width,height:k.height,borderWidth:t.tileBorderWidth,margin:"0 "+t.tileBorderWidth+"px "+t.tileBorderWidth+"px 0"}).on(P,s._tileClicked=W(s._tileClickedHandler,s)).appendTo(r).addClass(s.currentColor.color.hex().toUpperCase()==p[q].toUpperCase()?"sui-palette-tile-selected":"")}d=t.columns*F(k.width)+t.columns*t.tileBorderWidth,r.css("width",d+"px"),s.wrapperDiv=r},_tileClickedHandler:function(g){var e=this;if(e._enabled){e.wrapperDiv.find(".sui-palette-tile-selected").removeClass("sui-palette-tile-selected"),Z(g.target).addClass("sui-palette-tile-selected");var f=Z(g.target).css("background-color");e.currentColor=new U({color:f}),e.trigger(V)}},_buildAdvancedPalette:function(){var o,l,u,v=this,s=v.options;u=s.displayInline?Z("<div />").insertAfter(v.element).addClass("sui-colorpicker"):Z("<div />").appendTo(Y.body).addClass("sui-colorpicker").css(Q,R),v.wrapperDiv=u,l=Z("<div class='sui-hex-wrapper' />").appendTo(u),v.colorDiv=Z("<div class='sui-color-div' />").appendTo(l),"hsl"==s.advancedPalette.type?v.colorInput=Z("<input class='sui-alpha-input' />").appendTo(l):v.colorInput=Z("<input class='sui-hex-input' />").appendTo(l),v.colorInput.on(L,v._colorInputKeyDown=W(v._colorInputKeyDownHandler,v));var j="<div class='sui-color-palette'><div class='pointer'><div class='shape shape1'></div><div class='shape shape2'></div></div><div class='bg bg1'></div><div class='bg bg2'></div></div><div class='sui-color-scale'><div class='pointer'><div class='shape'></div></div><div class='bg'></div></div>";Z(j).appendTo(u);var d=new O({twod:u.find(".sui-color-palette").get(0),pointer:u.find(".sui-color-palette .pointer").get(0),oned:u.find(".sui-color-scale").get(0),isXYslider:!0,cbs:{begin:v._changeXY,change:v._changeXY,end:v._done}},v);v.xy=d;var c=new O({twod:u.find(".sui-color-palette").get(0),pointer:u.find(".sui-color-scale .pointer").get(0),oned:u.find(".sui-color-scale").get(0),isXYslider:!1,cbs:{begin:v._changeZ,change:v._changeZ,end:v._done}},v);if(v.z=c,"rgb"==s.advancedPalette.type){o="<div class='extras'/>";var t=Z(o).appendTo(u);Z("<span class='sui-r-text'>R:</span>").appendTo(t),v.rInput=Z("<input class='sui-r-input' />").appendTo(t),v._rInputKeyDown=W(v._rInputKeyDownHandler,v),Z("<span class='sui-g-text'>G:</span>").appendTo(t),v.gInput=Z("<input class='sui-g-input' />").appendTo(t),v._gInputKeyDown=W(v._gInputKeyDownHandler,v),Z("<span class='sui-b-text'>B:</span>").appendTo(t),v.bInput=Z("<input class='sui-b-input' />").appendTo(t),v._bInputKeyDown=W(v._bInputKeyDownHandler,v),X.ui.NumericTextBox&&(v.rInput=new X.ui.NumericTextBox(v.rInput,{min:0,max:255,step:0.01,spinners:!1,cls:"rgbInputs",events:{change:v._rInputKeyDown}}),v.gInput=new X.ui.NumericTextBox(v.gInput,{min:0,max:255,step:0.01,spinners:!1,cls:"rgbInputs",events:{change:v._gInputKeyDown}}),v.bInput=new X.ui.NumericTextBox(v.bInput,{min:0,max:255,step:0.01,spinners:!1,cls:"rgbInputs",events:{change:v._bInputKeyDown}}))}if("hsl"==s.advancedPalette.type){v._isHsl=!0,o="<div class='sui-transparent-slider'><div class='sui-color-scale alpha'><div class='pointer' style='top: 0%;'><div class='shape'></div></div><div class='bg'></div></div></div>",u.addClass("sui-hsl"),Z(o).appendTo(u);var b=new O({twod:u.find(".alpha").get(0),pointer:u.find(".alpha .pointer").get(0),oned:u.find(".alpha").get(0),isXYslider:!1,cbs:{begin:v._changeA,change:v._changeA,end:v._done}},v);v.a=b}s.advancedPalette.buttons&&v._buildButtons()},_buildButtons:function(){var c=this,o=this.options.advancedPalette.messages,n=Z("<div class='sui-buttons-wrapper' />").appendTo(this.wrapperDiv);if(X.ui.Button){var m=Z("<button type='button'>"+o.apply+"</button>").appendTo(n),l=new X.ui.Button(m,{cls:"sui-apply",events:{click:W(c._applyHandler,this)}});c._applyButton=l;var k=Z("<button type='button'>"+o.cancel+"</button>").appendTo(n),d=new X.ui.Button(k,{cls:"sui-cancel",events:{click:W(c._cancelHandler,this)}});c._cancelButton=d}},_applyHandler:function(c){var d=this;d.currentColor.color.cssa?d._oldColor=d.currentColor.color.cssa():d._oldColor=d.currentColor.color.toRGB().cssa(),d._changeSelectedColorCell(),d.options.displayInline||d._hidePopup(c),d.trigger(I)},_changeSelectedColorCell:function(){var e,f=this,h=f.options,g=f._picker;e=f.currentColor.color.cssa?f.currentColor.color.cssa():f.currentColor.color.toRGB().cssa(),h.displayInline||(h.showLetter?g.find(".sui-selected-color").css("background-color",e):g.find(".sui-color-cell").css("background-color",e))},_cancelHandler:function(c){var d=this;d.options.displayInline?(d.currentColor=new U({color:d._oldColor}),setTimeout(function(){d._update(),d.trigger(G)},200)):d._hidePopup(c)},_update:function(){var e,f=this,h=f._shouldUpdateMainInput,g=f._shouldUpdateRgbInputs;f._isHsl?(e=f.currentColor.color.toHSL(),f._XY(f,{pointer:f.wrapperDiv.find(".sui-color-palette .pointer").get(0),x:e.hue,y:1-e.saturation}),f._shouldUpdateMainInput=h,f._Z(f,1-e.lightness,f.wrapperDiv.find(".sui-color-scale .pointer").get(0)),f.Y(f.wrapperDiv.find(".alpha .pointer").get(0),(1-e.alpha).toFixed(2))):(e=f.currentColor.color.toHSV(),f._XY(f,{pointer:f.wrapperDiv.find(".sui-color-palette .pointer").get(0),x:e.saturation,y:1-e.value}),f._shouldUpdateMainInput=h,f._shouldUpdateRgbInputs=g,f._Z(f,e.hue,f.wrapperDiv.find(".sui-color-scale .pointer").get(0)))},_rInputKeyDownHandler:function(c){var d=this;setTimeout(function(){var b=c.value;d.currentColor.color.red=parseFloat(b)/255,d._shouldUpdateRgbInputs=!1,d._update(),d.trigger(V)},1)},_gInputKeyDownHandler:function(c){var d=this;setTimeout(function(){var b=c.value;d.currentColor.color.green=parseFloat(b)/255,d._shouldUpdateRgbInputs=!1,d._update(),d.trigger(V)},1)},_bInputKeyDownHandler:function(c){var d=this;setTimeout(function(){var b=c.value;d.currentColor.color.blue=parseFloat(b)/255,d._shouldUpdateRgbInputs=!1,d._update(),d.trigger(V)},1)},_colorInputKeyDownHandler:function(c){var d=this;c.ctrlKey||setTimeout(function(){var f=c.currentTarget,e=f.value,b=d.currentColor;d.currentColor=new U({color:e}),J.object(d.currentColor.color)?(d._shouldUpdateRgbInputs=!0,d._shouldUpdateMainInput=!1,d._update()):d.currentColor=b,d.trigger(V)},1)},_changeA:function(d,c){if(d.colorPicker._enabled){d.colorPicker.colorInput.val("rgba(0,0,0,1)");d.colorPicker._A(d.colorPicker,d.colorPicker.clamp(c.y,0,1),d.colorPicker.a.pointer)}},_changeZ:function(d,c){if(d.colorPicker._enabled){d.colorPicker._isHsl?d.colorPicker.colorInput.val("rgba(0,0,0,1)"):d.colorPicker.colorInput.val("#000000");d.colorPicker._Z(d.colorPicker,d.colorPicker.clamp(c.y,0,1),d.colorPicker.z.pointer);d.colorPicker.trigger(V)}},_changeXY:function(d,c){if(d.colorPicker._enabled){d.colorPicker._isHsl?d.colorPicker.colorInput.val("rgba(0,0,0,1)"):d.colorPicker.colorInput.val("#000000");d.colorPicker._XY(d.colorPicker,{x:d.colorPicker.clamp(c.x,0,1),y:d.colorPicker.clamp(c.y,0,1),pointer:c.pointer},d.colorPicker.xy);d.colorPicker.X(c.pointer,c.x),d.colorPicker.Y(c.pointer,c.y),d.colorPicker.trigger(V)}},_XY:function(j,h){var o,n=this;if(j._enabled){if(j.X(h.pointer,h.x),j.Y(h.pointer,h.y),n._isHsl){o=j.currentColor.color.toHSL?j.currentColor.color.toHSL():j.currentColor.color,o.hue=h.x,o.saturation=1-h.y;var k=o.lightness;o.lightness=0.5,n.wrapperDiv.find(".sui-color-scale").css("background-color",o.toRGB().cssa()),o.lightness=k}else{o=j.currentColor.color.toHSV(),h.x>1&&(h.x=1),h.x<0&&(h.x=0),h.y<0&&(h.y=0),h.y>1&&(h.y=1),o.saturation=h.x,o.value=1-h.y,0===o.hue&&(o.hue=n._hue)}var m=o.toRGB(),l=j.colorInput.val();l!=m.hex()&&(n._shouldUpdateMainInput?(l.length>4||0===l.length)&&(n._isHsl?j.colorInput.val(m.cssa()):j.colorInput.val(m.hex())):n._shouldUpdateMainInput=!0),j.rInput&&(n._shouldUpdateRgbInputs?(j.rInput.value((255*m.red).toFixed(2)),j.gInput.value((255*m.green).toFixed(2)),j.bInput.value((255*m.blue).toFixed(2))):n._shouldUpdateRgbInputs=!0),j.colorDiv.get(0).style.background=m.cssa(),j.currentColor.color=m}},_Z:function(j,l,k){var h,o=this,m=j.colorInput.val();if(o._isHsl){h=j.currentColor.color.toHSL?j.currentColor.color.toHSL():j.currentColor.color,j.Y(k,l),h.lightness=1-l,j.colorDiv.get(0).style.background=h.toRGB().cssa(),j.currentColor.color=h,m!=h.toRGB().hex()&&(o._shouldUpdateMainInput?(m.length>4||0===m.length)&&(o._isHsl?j.colorInput.val(h.toRGB().cssa()):j.colorInput.val(h.toRGB().hex())):o._shouldUpdateMainInput=!0)}else{h=j.currentColor.color.toHSV(),j.Y(k,l),j._rgbBg(j,j.wrapperDiv.find(".sui-color-palette").get(0),l),o._hue=h.hue=l;var n=h.toRGB();m!=n.hex()&&(m.length>4||0===m.length)&&(o._isHsl?j.colorInput.val(n.cssa()):j.colorInput.val(n.hex())),j.rInput&&(o._shouldUpdateRgbInputs?(j.rInput.value((255*n.red).toFixed(2)),j.gInput.value((255*n.green).toFixed(2)),j.bInput.value((255*n.blue).toFixed(2))):o._shouldUpdateRgbInputs=!0),j.colorDiv.get(0).style.background=n.cssa(),j.currentColor.color=n}},_A:function(h,k,j){var e,m=this,l=h.colorInput.val();e=h.currentColor.color.toHSL?h.currentColor.color.toHSL():h.currentColor.color,h.Y(j,k),e.alpha=(1-k).toFixed(2),h.colorDiv.get(0).style.background=e.toRGB().cssa(),h.currentColor.color=e,l!=e.toRGB().hex()&&(m._shouldUpdateMainInput?(l.length>4||0===l.length)&&(h.colorInput.val(e.toRGB().cssa()),m.trigger(V)):m._shouldUpdateMainInput=!0)},_rgbBg:function(f,e,h){var g=new U({}).HSV(h,1,1).toRGB().cssa();f.BG(e,g)},clamp:function(e,d,f){return Math.min(Math.max(e,d),f)},X:function(d,c){d.style.left=this.clamp(100*c,0,100)+"%"},Y:function(d,c){d.style.top=this.clamp(100*c,0,100)+"%"},BG:function(d,c){d.style.background=c},_done:function(){},enabled:function(){var e=this,f=(e.options,[].slice.call(arguments));if(!(f.length>0)){return e._enabled}var d=f[0];d?(e._picker&&e._picker.removeClass("sui-colorpicker-disabled"),e.wrapperDiv&&e.wrapperDiv.removeClass("sui-colorpicker-disabled")):(e._picker&&e._picker.addClass("sui-colorpicker-disabled"),e.wrapperDiv&&e.wrapperDiv.addClass("sui-colorpicker-disabled")),e._applyButton&&e._applyButton.enabled(d),e._cancelButton&&e._cancelButton.enabled(d),d?(e.colorInput&&e.colorInput.removeAttr("readonly"),e.rInput&&(e.rInput.enable(!0),e.gInput.enable(!0),e.bInput.enable(!0))):(e.colorInput&&e.colorInput.attr("readonly","readonly"),e.rInput&&(e.rInput.enable(!1),e.gInput.enable(!1),e.bInput.enable(!1))),e._enabled=d},value:function(){var o,f=this,l=f.options,k=[].slice.call(arguments);if(!(k.length>0)){return o=f.currentColor.color,o.css||(o=o.toRGB()),o}if(o=k[0],f.currentColor=new U({color:o}),"basic"==l.palette){var j=f.currentColor.color.css();if(f.wrapperDiv){for(var n=f.wrapperDiv.find(".sui-palette-tile"),m=0;m<n.length;m++){n[m].style.backgroundColor.replace(/\s+/g,"")===j.replace(/\s+/g,"")&&(n.removeClass("sui-palette-tile-selected"),Z(n[m]).addClass("sui-palette-tile-selected"))}}}else{f._changeAdvancedPaletteColor()}if(!l.displayInline){if(l.showLetter){f._picker.find(".sui-color-cell");f._picker.find(".sui-selected-color").css("background-color",f.currentColor.color.cssa())}else{f._picker.find(".sui-color-cell").css("background-color",f.currentColor.color.cssa())}}},destroy:function(){var b=this;b.element.remove(),b.wrapperDiv.remove(),b.colorInput&&b.colorInput.off(L,b._colorInputKeyDown),b.rInput&&(b.rInput.destroy(),b.gInput.destroy(),b.bInput.destroy()),b.options.displayInline&&"basic"==b.options.palette&&(b.wrapperDiv.find(".sui-palette-tile").off(K,b._tileClicked),b.wrapperDiv.remove()),b._applyButton&&b._applyButton.destroy(),b._cancelButton&&b._cancelButton.destroy(),Z(Y).off(P+".shieldColorPicker"+b.getInstanceId()),b._tileClicked=b._rInputKeyDown=b._gInputKeyDown=b._bInputKeyDown=b._hidePopupDelegate=b._picker=b._applyButton=b._cancelButton=b._isHsl=b.currentColor=b.wrapperDiv=b.colorInput=b.colorDiv=b.rInput=b.gInput=b._enabled=b._popupIsOver=b.bInput=null,M.fn.destroy.call(b)}}),O=H.extend({init:function(j,m){var k=this,l=j.isXYslider,p=j.cbs,o=j.twod,q=j.pointer,n=j.oned;return k.colorPicker=m,l?(k.drag(o,k.attachPointer(k,p,q)),{background:o,pointer:q}):(k.drag(n,k.attachPointer(k,p,q)),{background:n,pointer:q})},drag:function(d,c){return d?void (this.isTouch()?this.dragTemplate(d,c,"touchstart","touchmove","touchend"):this.dragTemplate(d,c,"mousedown","mousemove","mouseup")):void console.warn("drag is missing elem!")},attachPointer:function(j,h,l){function k(b){return function(e,d){d.pointer=l,b(e,d)}}var m={};for(var g in h){h.hasOwnProperty(g)&&(m[g]=k(h[g]))}return m},isTouch:function(){return"undefined"!=typeof T.ontouchstart},dragTemplate:function(r,s,n,q,p){var t=this,o=!1;s=t.getCbs(s);var m=s.begin,l=s.change,b=s.end;t.on(r,n,function(f){function e(){o=!1,t.off(Y,q,d),t.off(Y,p,e),t.callCb(b,r,f)}o=!0;var d=t.partial(t,t.callCb,l,r);t.on(Y,q,d),t.on(Y,p,e),t.callCb(m,r,f)})},on:function(e,d,f){e.addEventListener?e.addEventListener(d,f,!1):e.attachEvent&&e.attachEvent("on"+d,f)},off:function(e,d,f){e.removeEventListener?e.removeEventListener(d,f,!1):e.detachEvent&&e.detachEvent("on"+d,f)},getCbs:function(e){if(e){return{begin:e.begin||function(){},change:e.change||function(){},end:e.end||function(){}}}var d,f;return{begin:function(b){d={x:b.elem.offsetLeft,y:b.elem.offsetTop},f=b.cursor},change:function(b){b.elem.style.left=d.x+b.cursor.x-f.x+"px",b.elem.style.top=d.y+b.cursor.y-f.y+"px"},end:function(){}}},callCb:function(n,u,t){var r=this;t.preventDefault();var q=Z(u).offset(),m=u.clientWidth,l=u.clientHeight,s={x:r.cursorX(u,t),y:r.cursorY(u,t)},p=(s.x-q.left)/m,o=(s.y-q.top)/l;n(this,{x:isNaN(p)?0:p,y:isNaN(o)?0:o,cursor:s,elem:u,e:t})},partial:function(h,f){var g=Array.prototype.slice,k=g.apply(arguments,[2]),j=this;return function(){return f.apply(j,k.concat(g.apply(arguments)))}},cursorX:function(h,b){var g=this;if(g.isFixed(h)){var f=parseInt(g.getStyle(Y.body,"marginLeft"),10)-g.calc(h,"scrollLeft")+T.pageXOffset+h.style.marginLeft;return b.clientX-f}return b.pageX?b.pageX:b.clientX?b.clientX+Y.body.scrollLeft:void 0},cursorY:function(h,b){var g=this;if(g.isFixed(h)){var f=parseInt(g.getStyle(Y.body,"marginTop"),10)-g.calc(h,"scrollTop")+T.pageYOffset+h.style.marginTop;return b.clientY-f}return b.pageY?b.pageY:b.clientY?b.clientY+Y.body.scrollTop:void 0},calc:function(e,f){for(var d=0;"HTML"!=e.nodeName;){d+=e[f],e=e.parentNode}return d},isFixed:function(b){for(;"HTML"!=b.nodeName&&"fixed"!=this.usedStyle(b,"position");){b=b.parentNode}return"HTML"==b.nodeName?!1:!0},getStyle:function(b,d){return b.currentStyle?b.currentStyle[d]:Y.defaultView&&Y.defaultView.getComputedStyle?Y.defaultView.getComputedStyle(b,"")[d]:b.style[d]},usedStyle:function(e,f){var d;return d=T.getComputedStyle?T.getComputedStyle(e,null):e.currentStyle,d[f]}}),U=H.extend({init:function(f){var e=this,d=f.color;S(d)||""===d.trim()?e.color=e.getColor("#000"):e.color=e.getColor(d)},getColor:function(aa){var v=this,y=/\s*(\.\d+|\d+(?:\.\d+)?)(%)?\s*/,s=/\s*(\.\d+|\d+(?:\.\d+)?)\s*/,t=new RegExp("^(rgb|hsl|hsv)a?\\("+y.source+","+y.source+","+y.source+"(?:,"+s.source+")?\\)$","i"),u=aa.toLowerCase();"transparent"===u&&(aa="rgba(0,0,0,0)");var ab=aa.match(t);if(ab){var w=ab[1].toUpperCase(),h=S(ab[8])?ab[8]:parseFloat(ab[8]),x="H"===w[0],r=ab[3]?100:x?360:255,q=ab[5]||x?100:255,p=ab[7]||x?100:255;return v[w](parseFloat(ab[2])/r,parseFloat(ab[4])/q,parseFloat(ab[6])/p,h)}aa.length<6&&(aa=aa.replace(/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i,"$1$1$2$2$3$3"));var z=aa.match(/^#?([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])$/i);return z?v.RGB(parseInt(z[1],16)/255,parseInt(z[2],16)/255,parseInt(z[3],16)/255):aa},RGB:function(k,j,h,g){var f=this;return{red:k,green:j,blue:h,alpha:S(g)?1:g,hex:function(){var b=(65536*Math.round(255*this.red)+256*Math.round(255*this.green)+Math.round(255*this.blue)).toString(16);return"#"+"00000".substr(0,6-b.length)+b},hexa:function(){var b=Math.round(255*this.alpha).toString(16);return"#"+"00".substr(0,2-b.length)+b+this.hex().substr(1,6)},css:function(){return"rgb("+Math.round(255*this.red)+","+Math.round(255*this.green)+","+Math.round(255*this.blue)+")"},cssa:function(){return"rgba("+Math.round(255*this.red)+","+Math.round(255*this.green)+","+Math.round(255*this.blue)+","+this.alpha+")"},toHSV:function(){var q,p=this.red,s=this.green,r=this.blue,o=Math.max(p,s,r),m=Math.min(p,s,r),n=o-m,l=0===o?0:n/o,b=o;if(0===n){q=0}else{switch(o){case p:q=(s-r)/n/6+(r>s?1:0);break;case s:q=(r-p)/n/6+1/3;break;case r:q=(p-s)/n/6+2/3}}return f.HSV(q,l,b,g)},toHSL:function(){var b=this.toHSV();return f.HSV(b.hue,b.saturation,b.value,b.alpha).toHSL()},toCMYK:function(){var m=this.red,l=this.green,b=this.blue,p=1-m,o=1-l,n=1-b,q=1;return m||l||b?(q=Math.min(p,Math.min(o,n)),p=(p-q)/(1-q),o=(o-q)/(1-q),n=(n-q)/(1-q)):q=1,f.CMYK(p,o,n,q,g)}}},HSV:function(k,j,h,g){var f=this;return{hue:k,saturation:j,value:h,alpha:S(g)?1:g,toRGB:function(){var v,t,u,o=this.hue,r=this.saturation,w=this.value,n=Math.min(5,Math.floor(6*o)),b=6*o-n,s=w*(1-r),q=w*(1-b*r),p=w*(1-(1-b)*r);switch(n){case 0:v=w,t=p,u=s;break;case 1:v=q,t=w,u=s;break;case 2:v=s,t=w,u=p;break;case 3:v=s,t=q,u=w;break;case 4:v=p,t=s,u=w;break;case 5:v=w,t=s,u=q}return f.RGB(v,t,u,g)},toHSL:function(){var n,b=(2-this.saturation)*this.value,l=this.saturation*this.value,m=1>=b?b:2-b;return n=1e-9>m?0:l/m,f.HSL(this.hue,n,b/2,this.alpha)}}},HSL:function(f,k,j,g){var h=this;return{hue:f,saturation:k,lightness:j,alpha:S(g)?1:g,toHSV:function(){var l,e=2*this.lightness,d=this.saturation*(1>=e?e:2-e);return l=1e-9>e+d?0:2*d/(e+d),h.HSV(this.hue,l,(e+d)/2,this.alpha)},toRGB:function(){return this.toHSV().toRGB()}}},CMYK:function(g,m,l,k,h){var j=this;return{cyan:g,magenta:m,yellow:l,black:k,alpha:S(h)?1:h,toRGB:function(){return j.RGB(1-this.cyan*(1-this.black)-this.black,1-this.magenta*(1-this.black)-this.black,1-this.yellow*(1-this.black)-this.black,this.alpha)}}},destroy:function(){this.color=null}});N.defaults=E,X.ui.plugin("ColorPicker",N),X.ui.ColorPicker=N}(jQuery,shield,this);!function(aR,aQ,an,aI){function ad(e){var d,f=" ";if(e){if(bl(e)){return e}for(d in e){e.hasOwnProperty(d)&&(f+=d+'="'+e[d]+'"')}}return f}function bm(j,h){var g=aR(j.target).closest(".sui-cell",h);if(!g.length){return null}var l=g[0].parentNode,k=g[0];return null==l||null==k?null:{row:l,cell:k}}var bd,a0=aQ.ui.Widget,aB=aQ.Class,aZ=aQ.DataSource,aD=aQ.format,ax=aQ.support,bi=aQ.exp,bp=aQ.get,ap=aQ.iid,aw=aQ.is,av=aw.func,bl=aw.string,a8=aw.object,ai=aw["boolean"],aF=aw.defined,bD=aw.number,aJ=aw.undefined,a9=aw["null"],aM=document,aq=Math.abs,ay=Math.min,az=Math.max,bo=aR.each,aP=aR.proxy,aK=aR.extend,be=aR.map,bf=aR.grep,bj=aR.inArray,a2=navigator.userAgent,bz=an.opera,bn=/msie/i.test(a2)&&!bz,am=bn&&7===aM.documentMode,ab=bn&&8===aM.documentMode,aT=(bn&&10===aM.documentMode,8===aM.documentMode,/AppleWebKit/.test(a2)),a3=(/Firefox/.test(a2),"height"),bq="sui-selectable",aC="sui-selected",aG="change",by="start",aN="scroll",aL="command",bk="selectionChanged",aX="selectstart",aW="dataBound",au="mousedown",at="mousemove",bh="mouseup",aS="resize",aE="click",bE="dblclick",aA="sort",ah="detailCreated",ac="columnReorder",bA="groupsReorder",bt="group",bg="ungroup",bb="editorCreating",a1="filterWidgetCreating",af="getCustomFilterValue",br="clearFilter",ak="expandButtonCreate",a7="cancel",bc="edit",bC="insert",a6="save",a5="delete",a4="error",bs="collapse",aU="expand",al="editWindowOpen",ag="insertWindowOpen",ao="display",ar="none";bd={columns:[],rowHover:!0,scrolling:!1,paging:!1,columnReorder:!1,showHeader:!0,grouping:{showGroupHeader:!1,allowDragToGroup:!1,message:"Drag a column header here to group by a column"}};var aO=aB.extend({init:function(l,p){var j,k,q,n,o,m=this;for(m._grid=p,o=0;o<l.length;o++){j=l[o],k=j.position?j.position:"top",q=aR("<div class='sui-toolbar'></div>"),"top"===k?(n=p.element.find(".sui-toolbar"),n.length>0?aR(n[0]).after(q):p.element.prepend(q)):(q.addClass("sui-toolbar-bottom"),q.appendTo(p.element)),j.template?m._initializeTemplate(j,q):j.buttons.length>0&&m._buildButtons(q,j)}},_buildButtons:function(k,j){var g,h=this,f=j.buttons;for(g=0;g<f.length;g++){h._buildButton(f[g],k)}},_buildButton:function(l,c){var k,b,o=this,m=l.commandName,n=l.click;aQ.ui.Button&&(k=aR('<button type="button">'+l.caption+"</button>").appendTo(c),"insert"==m?n=o._insertButtonClicked:"save"==m?n=o._saveButtonClicked:"cancel"==m?n=o._cancelButtonClicked:"excel"==m?n=o._excelButtonClicked:"pdf"==m&&(n=o._pdfButtonClicked),b=new aQ.ui.Button(k,{cls:l.cls,events:{click:aP(n,o._grid)}}))},_excelButtonClicked:function(){this._doExcelExport()},_pdfButtonClicked:function(){this._doPdfExport()},_insertButtonClicked:function(c,o){var t,q,s,p,r,v=this,n=v.options,e=n.editing.insertNewRowAt,u=v.dataSource;if(o||(p=v.trigger(aL,{commandName:bC,cancel:!1}),!p.cancel)){if(u.sort&&u.sort.length>0){return u.sort=[],v._sortingInProgress=!0,v.pager&&(u.skip=0,u.take=v.pager.pageSize(),v.pager.refresh(!0)),void u.read().always(aP(v._toolbar._insertButtonClicked,v,c,!0))}v._editingInProcess=!0,s="pagebottom"===e?az(0,v.contentTable.find("tbody > tr").length-1):0,t=u.insertView(s,{});for(r in t.fields){t.fields.hasOwnProperty(r)&&(t.data[r]=null)}v._editing._insertedItems.push(t),q=v.contentTable.find("tbody > tr").eq(s),"popup"!=v.options.editing.mode?v._editing._putRowInEditMode(q,0):v._initializePopupForm(0,!0),v.trigger(bC)}},_saveButtonClicked:function(h){var e,k,g=this,j=g.contentTable.find(".sui-editable-cell");return j.length>0&&(e=j.get(0).parentNode.rowIndex,g._updateItem(e,null),g._errorDuringEdit)?void (g._errorDuringEdit=!1):(k=g.trigger(aL,{commandName:a6,cancel:!1}),void (k.cancel||(g.dataSource.save(),g.trigger(a6))))},_cancelButtonClicked:function(f){var e=this,d=e.trigger(aL,{commandName:a7,cancel:!1});d.cancel||(e.dataSource.cancel(),e.trigger(a7))},_initializeTemplate:function(j,f){var h=this,k=j.template;if(av(k)){var g=k.call(h._grid,f);aF(g)&&!a9(g)&&""!==g&&f.html(g)}else{f.html(k)}},destroy:function(){this._grid=null}}),bB=aB.extend({init:function(c,f){var e=this;e._grid=f,e.options=c,e._eventNS=".shieldGridEditing"+ap(),e._editors={},e._insertedItems=[],c.enabled&&e._initEditing(),e._grid.dataSource.on(a4+e._eventNS,aP(e._dsError,e))},_dsError:function(e){var d=this,f=d._editors[e.path];d._grid.trigger(a4,{type:e.type,path:e.path,value:e.value,editor:f,reason:e.reason}),d._errorDuringEdit=!0},_initEditing:function(){var c=this,d=c.options,j=d.event,g=c._eventNS;aJ(j)||("click"===j?c._grid.element.on(aE+g,".sui-cell",aP(c._editingTriggered,c)):"doubleclick"===j&&c._grid.element.on(bE+g,".sui-cell",aP(c._editingTriggered,c)),aR(aM).on(aE+g,aP(c._documentClicked,c)))},_editingTriggered:function(g){var w,x,C=this,z=g.target,A=aR(g.target).parent(),B=A.get(0).rowIndex,t=C.options,s=t.mode,y=t.type,v=C._grid.dataSource,e=t.batch,b=C._grid.trigger(aL,{commandName:bc,cancel:!1,row:A,cell:z});if(!b.cancel){if(e){if(w=C._grid.contentTable.find(".sui-editable-cell"),w.length>0){if(B=w.get(0).parentNode.rowIndex,"TR"!==A.get(0).nodeName.toUpperCase()||A.get(0).rowIndex==B&&"row"==y){return}var u=C._grid._updateItem(B,z);if(C._errorDuringEdit){return C._errorDuringEdit=!1,void (u=null)}x=A.get(0).rowIndex,C._grid._putRowInViewMode(B,null),!C._grid._populateInsertedItem&&u&&u.length>0&&C._grid._renderUpdateMarkers(u,B),C._grid._populateInsertedItem=!1,x===B&&(z=C._grid.contentTable.find("tbody > tr").eq(B).get(0).cells[z.cellIndex]),B=x}aJ(y)||"cell"===y?C._putCellInEditMode(z,B):"row"===y?C._putRowInEditMode(A,z.cellIndex):aQ.error("Invalid editing.type declaration. The editing.type must be 'row' or 'cell'.",this.options.dieOnError)}else{if(v.tracker&&v.tracker.changes&&v.tracker.changes.added&&v.tracker.changes.added.length>0){"TR"!==A.get(0).nodeName.toUpperCase()||A.get(0).rowIndex==B&&"row"==y||v.cancel()}else{if(aJ(s)||"inline"===s){if(w=C._grid.contentTable.find(".sui-editable-cell"),w.length>0){if(B=w.get(0).parentNode.rowIndex,"TR"!==A.get(0).nodeName.toUpperCase()||A.get(0).rowIndex==B&&"row"==y){return}if(C._grid._updateItem(B,z),C._errorDuringEdit){return void (C._errorDuringEdit=!1)}x=A.get(0).rowIndex,C._grid._closeAllEditedRows(),x===B&&(z=C._grid.contentTable.find("tbody > tr").eq(B).get(0).cells[z.cellIndex]),B=x}aJ(y)||"cell"===y?C._putCellInEditMode(z,B):"row"===y?C._putRowInEditMode(A,z.cellIndex):aQ.error("Invalid editing.type declaration. The editing.type must be 'row' or 'cell'.",this.options.dieOnError)}}}C._grid.trigger(bc,{row:A,cell:z})}},_documentClicked:function(l){var n,p,j=this,k=j.options.batch,o=aR(l.target);if(j._grid._editingInProcess||j._grid._preventClosingEditors){return void (j._grid._editingInProcess=!1)}if(!(o.hasClass("sui-cell")||o.parents().hasClass("sui-cell")||o.parents().hasClass("sui-calendar")||o.parents().hasClass("sui-listbox"))&&(n=this._grid.contentTable.find(".sui-editable-cell"),n.length>0)){p=n.get(0).parentNode.rowIndex;var m=j._grid._updateItem(p,null);if(j._errorDuringEdit){return void (j._errorDuringEdit=!1)}j._grid._putRowInViewMode(p,null),k&&!j._grid._populateInsertedItem&&m&&m.length>0&&j._grid._renderUpdateMarkers(m,p),j._grid._populateInsertedItem=!1}},_getColumnIndex:function(c){return c.cellIndex-aR(c.parentNode).find(".sui-indent-cell, .sui-expand-cell, .sui-expand-cell-disabled, .sui-collapse-cell").length},_putCellInEditMode:function(y,q){var r,s,v,z=this,o=z._getColumnIndex(y),p=z._grid,u=p.dataSource,w=p.columns[o];if(w&&w.field){if(u.group&&u.group.length>0){for(s=z._grid.contentTable.find(".sui-row, .sui-alt-row"),v=0;v<s.length;v++){if(s[v]==y.parentNode){q=v;break}}}r=u.editView(q).data;var n=u.schema.options.fields[w.field].type,t=bp(r,w.field),x=!1;if(arguments.length>2?arguments[2]==o&&(x=!0):x=!0,w.editor){z._instantiateCustomEditor(w,y,r,q,x)}else{switch(n){case Number:z._instantiateNumeric(y,t,x);break;case Date:z._instantiateDatePicker(y,t,x);break;case String:z._instantiateTextBox(y,t,x);break;case Boolean:z._instantiateCheckBox(y,t,x)}}}},_prepareCell:function(c){aR(c).empty().addClass("sui-editable-cell")},_instantiateCustomEditor:function(o,t,n,m,l,r){var q,s,p,u=this;r?s=r:(q=u._getColumnIndex(t),s=u._grid.columns[q].field,u._prepareCell(t)),p=o.editor.call(u._grid,t,n,m,l),aR(t).html(p),u._editors[s]="custom"},_instantiateNumeric:function(t,p,o,q){var s,u,r,v,w=this;q?v=q:(r=w._getColumnIndex(t),v=w._grid.columns[r].field,w._prepareCell(t)),u=aR("<input name='"+v+"' />"),u.appendTo(t);var f=w._grid.trigger(bb,{field:v,options:{}}),b=aK({},f.options,{value:p});aQ.ui.NumericTextBox&&(s=new aQ.ui.NumericTextBox(u,b),o&&s.focus(),w._editors[v]=s)},_instantiateDatePicker:function(t,p,o,q){var s,u,r,v,w=this;q?v=q:(r=w._getColumnIndex(t),v=w._grid.columns[r].field,w._prepareCell(t)),u=aR("<input name='"+v+"' />"),u.appendTo(t);var f=w._grid.trigger(bb,{field:v,options:{}}),b=aK({},f.options,{value:p});aQ.ui.DatePicker&&(s=new aQ.ui.DatePicker(u,b),o&&s.focus(),w._editors[v]=s)},_instantiateTextBox:function(t,p,o,q){var s,u,r,v,w=this;q?v=q:(r=w._getColumnIndex(t),v=w._grid.columns[r].field,w._prepareCell(t)),u=aR("<input type='text' name='"+v+"' />"),u.appendTo(t);var f=w._grid.trigger(bb,{field:v,options:{}}),b=aK({},f.options,{value:p,cls:"sui-input-textbox"});aQ.ui.TextBox&&(s=new aQ.ui.TextBox(u,b),o&&s.focus(),w._editors[v]=s)},_instantiateCheckBox:function(s,r,o,p){var u,t,q,v,w=this;p?v=p:(q=w._getColumnIndex(s),v=w._grid.columns[q].field,w._prepareCell(s)),t=aR("<input type='checkbox' name='"+v+"' />"),t.appendTo(s);var f=w._grid.trigger(bb,{field:v,options:{}}),b=aK({},f.options,{value:r});aQ.ui.CheckBox&&(u=new aQ.ui.CheckBox(t,b),o&&u.focus(),u.checked(r),w._editors[v]=u)},_putRowInEditMode:function(h,j){var m,n,l=this,k=h.find(".sui-cell");for(n=0;n<k.length;n++){l._putCellInEditMode(k[n],h.get(0).rowIndex,j-h.find(".sui-indent-cell, .sui-expand-cell, .sui-expand-cell-disabled, .sui-collapse-cell").length)}m=h.find(".sui-edit"),m.length>0&&l._grid._changeEditColumnButtons(h.get(0).rowIndex,aR(h.find(".sui-button-cell")[0]))},_destroyRow:function(l){var j,n,h=this,m=h._grid,k=m.contentTable.find("tbody > tr").eq(l),o=m.columns;for(j=0;j<o.length;j++){n=h._editors[o[j].field],n&&(av(n.destroy)&&h._editors[o[j].field].destroy(),delete h._editors[o[j].field])}k.remove()},destroy:function(){var j,g,d=this,h=d._eventNS;if(d._grid.dataSource.off(a4+h),d._grid.element.off(h,".sui-cell"),aR(aM).off(aE+h),d._editors){for(j=0;j<d._editors.length;j++){g=d._editors[j].editor.element(),d._editors[j].editor.destroy(),g.remove()}}d._grid=d._errorDuringEdit=d.options=null}}),bu=aB.extend({init:function(d){var c=this;bl(d)?(c.field=d,c.resizable=!0,c.sortable=!0,c.filterable=!0):a8(d)&&(c.field=d.field,c.title=d.title,c.format=d.format,c.width=d.width,c.minWidth=d.minWidth,c.maxWidth=d.maxWidth,c.resizable=aF(d.resizable)?!!d.resizable:!0,c.attributes=d.attributes,c.headerAttributes=d.headerAttributes,c.headerTemplate=d.headerTemplate,c.columnTemplate=d.columnTemplate,c.footerTemplate=d.footerTemplate,c.groupFooterTemplate=d.groupFooterTemplate,c.buttons=d.buttons,c.editor=d.editor,c.customFilter=d.customFilter,c.sortable=aF(d.sortable)?!!d.sortable:!0,c.filterable=aF(d.filterable)?!!d.filterable:!0),c.visible=!0},destroy:function(){var b=this;b.buttons&&(b.buttons.length=0),b.field=b.title=b.editor=b.format=b.width=b.minWidth=b.maxWidth=b.resizable=b.attributes=b.headerAttributes=b.headerTemplate=b.buttons=b.customFilter=b.footerTemplate=b.groupFooterTemplate=b.sortable=b.filterable=b.columnTemplate=null}}),aV=aB.extend({options:{ns:".shieldGridColumnResizing",width:12,offset:6,min:12},init:function(c){var d=this;d.grid=c,d.options=aK(!0,{},aV.fn.options),d._eventNS=d.options.ns+ap(),c.headerTable.on(at+d._eventNS,".sui-headercell",aP(d._showHandle,d))},_showHandle:function(k){if(!this.resizing){var o=this,l=o.options,n=(o.grid,o.handle),m=k.pageX,c=o.params=o._params(aR(k.currentTarget)),j=m>=c.offset.left&&m<=c.offset.left+l.offset&&c.headerIndex>0;c.isRtl&&(j=m>=c.offset.left+c.width-l.offset&&m<=c.offset.left+c.width&&c.headerIndex>0),j&&(c=o.params=o._params(c.header.prev())),c.column&&c.column.resizable&&(m>=c.threshold&&m<=c.edge+l.offset?(n||(n=o.handle=aR('<div class="sui-resizable-handle"/>').on(au+o._eventNS,aP(o._down,o)).appendTo(c.header.parents(".sui-headercontent"))),n.css({top:c.position.top,left:n.parent()[0].scrollLeft+c.handleLeft,width:l.width,height:c.height}).show()):n&&n.hide())}},_params:function(z){var u=this,y=u.options,q=z.offset(),s=z.position(),w=ax.isRtl(u.grid.element),v=z.outerWidth(),r=q.left+(w?y.width:v),o=z.index(),t=z.parent().children("th.sui-headercell").index(z),x=t>-1?u.grid.columns[t]:null,p=x?x.minWidth>=0?+x.minWidth:y.min:null,n=x&&x.maxWidth>=p?+x.maxWidth:null;return{header:z,headerIndex:o,colIndex:t,column:x,min:p,max:n,offset:q,isRtl:w,width:v,current:v,height:z.outerHeight(),edge:r,threshold:r-y.width+(w?-1:1)*y.offset,position:s,handleLeft:s.left+(w?y.width:v)-y.width+(w?-1:1)*y.offset}},_down:function(c){var d,k=this,b=k.grid,j=k.params;if(!(c.button>1)&&j){return d="> colgroup col:nth-child("+(j.headerIndex+1)+")",j.origin=c.pageX,j.cols=aR().add(b.headerTable.find(d)).add(b.contentTable.find(d)),k.resizing=!0,k.handle.hide(),aR(aM).on(at+k._eventNS,aP(k._move,k)).on(bh+k._eventNS,aP(k._up,k)),aQ.selection(!1),!1}},_move:function(j){var k=this,g=k.params,h=(g.isRtl?-1:1)*(j.pageX-g.origin),f=az(g.width+h,g.min);return g.max&&(f=ay(f,g.max)),k.resizing?void (f!==g.current&&g.cols.width(g.current=f)):void k._up()},_up:function(){var m=this,l=m.grid,k=m.params.colIndex,j=m.params.current,d=l.columns[k]||{},b=(l.options.columns||[])[k]||{};m.resizing=!1,m.params=null,d.width=b.width=j+"px",aR(aM).off(m._eventNS),aQ.selection(!0)},destroy:function(){var b=this;b._up(),b.grid.headerTable.off(b._eventNS),b.grid=null,b.handle&&(b.handle.off(b._eventNS).remove(),b.handle=null)}}),aH=aB.extend({init:function(c){var d=this;d.grid=c,d._filters={},d._eventNS=".shieldGridFiltering"+ap(),d._createFilterRow()},_createFilterRow:function(){var j,u,w,x,A,y=this,v=y.grid,c=v.headerTable,r=c.find(">thead"),s=aR("<tr class='sui-filter-row' />"),d=r.find(".sui-indent-cell").length,t=v.dataSource.schema,z=v.columns;for(A=0;d>A;A++){aR('<th class="sui-indent-cell">').appendTo(s)}for(t&&t.options.fields&&(x=t.options.fields),A=0;A<z.length;A++){j=x&&x[z[A].field]?x[z[A].field].type:null,u=z[A].field?z[A].field.replace(/[\"\']/g,"@"):"",w=aR('<th class="sui-filter-cell"  data-field="'+u+'"/>').appendTo(s),z[A].filterable!==!1&&u.length>0&&(y._initializeEditor(w,j,z[A].field,z[A]),y._appendFilterButton(w))}s.appendTo(r),aR(aM).on(aE+y._eventNS,aP(y._documentClicked,y))},_documentClicked:function(j){var l,h,k=this;if(k.listBox&&!aR(j.target).hasClass("sui-filter-button")&&!aR(j.target).hasClass("sui-filter-button-content")){var g=k.listBox.element.parent();if("none"==g.css("display")){return}k._filterByField=null,l=g.height(),h=g.offset().top,k._slideUp?g.animate({height:0,top:h+l},150,function(){g.css({display:ar,height:l})}):g.animate({height:0},150,function(){g.css({display:ar,height:l})})}},_appendFilterButton:function(c){if(aQ.ui.Button){var b=aR('<button type="button"><span class="sui-sprite sui-filter-button-content"></span></button>').appendTo(c);new aQ.ui.Button(b,{cls:"sui-filter-button",events:{click:aP(this._filterButtonClicked,this)}})}},_filterButtonClicked:function(x){var s,w,c,y=this,f=y.grid,r=f.dataSource.schema,v=f.options.filtering,d=v.stringFunc?v.stringFunc:[{func:"eq",name:"Equal to"},{func:"neq",name:"Not equal to"},{func:"con",name:"Contains"},{func:"notcon",name:"Not contains"},{func:"starts",name:"Starts with"},{func:"ends",name:"Ends with"},{func:"gt",name:"Greater than"},{func:"lt",name:"Less than"},{func:"gte",name:"Greater than or equal"},{func:"lte",name:"Less than or equal"},{func:"isnull",name:"Is null"},{func:"notnull",name:"Is not null"}],b=v.nonStingFunc?v.nonStingFunc:[{func:"eq",name:"Equal to"},{func:"neq",name:"Not equal to"},{func:"gt",name:"Greater than"},{func:"lt",name:"Less than"},{func:"gte",name:"Greater than or equal"},{func:"lte",name:"Less than or equal"},{func:"isnull",name:"Is null"},{func:"notnull",name:"Is not null"}],t=x.target.element.parent().attr("data-field").replace(/[@]/g,"'");if(y._filterByField=t,r&&r.options.fields){var u=r.options.fields;s=u&&u[t]&&u[t].type===String?d:b}else{s=d}aQ.ui.ListBox&&(y.listBox||(y._menuWrapper=aR('<div style="display: none;" />').appendTo(aM.body),y.listBox=new aQ.ui.ListBox(y._menuWrapper,aK({},{},{dataSource:{data:s},textTemplate:"{name}",valueTemplate:"{func}",multiple:!1,width:150,maxHeight:300,events:{select:aP(y._selectFilterFunction,y)}})),y.grid.element.parent().hasClass("sui-rtl")?y.listBox.element.parent().addClass("sui-rtl"):y.listBox.element.parent().css(ao,ar)),w=y.listBox.element.parent().height(),y._positionListBox(x),y._slideUp?(c=x.target.element.offset().top-w,y.listBox.element.parent().css({top:x.target.element.offset().top}),y.listBox.element.parent().animate({height:w,top:c-y.listBox.element.parent().innerHeight()},150)):y.listBox.element.parent().animate({height:w},150)),y._selectFilterMenuValue()},_selectFilterMenuValue:function(){var h,k,g=this,j=g._filterByField,m=g.grid.dataSource.filter;if(m&&m.and&&m.and.length>0){h=m.and;for(var l=0;l<h.length;l++){h[l].path===j&&(k=h[l].filter)}}k?g.listBox.values(k):g.listBox.clearSelection()},_selectFilterFunction:function(j){var p,l,r=this,k=!0,q="@@custom"==r._filters[r._filterByField]?"@@custom":r._filters[r._filterByField].value(),o=j.item.func,n={path:r._filterByField,filter:o,value:q};if("@@custom"==q&&(l=r.grid.trigger(af,{field:r._filterByField,value:null}),q=l.value,n={path:r._filterByField,filter:o,value:q}),""!==q&&null!==q||"notnull"==o||"isnull"==o){if(r.grid.dataSource.filter&&r.grid.dataSource.filter.and){p=r.grid.dataSource.filter.and;for(var m=0;m<p.length;m++){p[m].path===r._filterByField&&(p[m]=n,k=!1)}k&&p.push(n)}else{r.grid.dataSource.filter={and:[n]}}r.grid.dataSource.read(),r._addRemoveFilterButton()}},_addRemoveFilterButton:function(){var m,l,j,c=this;if(aQ.ui.Button){m=c.grid.headerTable.find(".sui-filter-row > th");for(var k=0;k<m.length;k++){if(l=aR(m[k]),l.attr("data-field")&&l.attr("data-field").replace(/[@]/g,"'")==c._filterByField){j=m[k];break}}if(0===l.find(".sui-clear-filter-button").length){var b=aR('<button type="button"><span class="sui-sprite sui-clear-filter-button-content"></span></button>').appendTo(j);new aQ.ui.Button(b,{cls:"sui-clear-filter-button",events:{click:aP(this._clearFilterButtonClicked,this)}})}}},_clearFilterButtonClicked:function(l){for(var j,h=this,g=l.target.element.parent().attr("data-field").replace(/[@]/g,"'"),k=h.grid.dataSource.filter.and,m=0;m<k.length;m++){k[m].path==g&&k.splice(m,1)}j=l.target.element,l.target.destroy(),j.remove(),"@@custom"!=h._filters[g]?h._filters[g].value(null):h.grid.trigger(br,{field:g,value:null}),h.grid.dataSource.read()},_positionListBox:function(j){var r=this,o=j.target.element,n=o.offset(),q=n.top,p=n.left,l=r.listBox.element.parent().innerWidth(),k=r.listBox.element.parent().innerHeight(),m=(o.innerWidth(),o.innerHeight());0>p&&(p=1),p+l>an.innerWidth&&(p=an.innerWidth-l-20),r._slideUp=!1,q+k>an.innerHeight&&(q-=k,m=0,r._slideUp=!0),0>q&&(q=n.top,m=o.innerHeight(),r._slideUp=!1),r.listBox.element.parent().css({position:"absolute",zIndex:10002,top:q+m,left:p,height:0,display:""})},_initializeEditor:function(f,h,k,j){var g=this;if(j.customFilter){g._filters[k]="@@custom",j.customFilter.call(g,f)}else{switch(h){case Number:g._instantiateNumeric(f,k);break;case Date:g._instantiateDatePicker(f,k);break;case String:g._instantiateTextBox(f,k);break;default:g._instantiateTextBox(f,k)}}},_instantiateNumeric:function(k,o){var n,m=this,l=aR("<input />");l.appendTo(k);var f=m.grid.trigger(a1,{field:o,options:{}}),b=aK({},f.options);aQ.ui.NumericTextBox&&(n=new aQ.ui.NumericTextBox(l,b),m._filters[o]=n)},_instantiateDatePicker:function(k,o){var n,m=this,l=aR("<input />");l.appendTo(k);var f=m.grid.trigger(a1,{field:o,options:{}}),b=aK({},f.options);aQ.ui.DatePicker&&(n=new aQ.ui.DatePicker(l,b),m._filters[o]=n)},_instantiateTextBox:function(k,o){var n,m=this,l=aR("<input type='text' />");l.appendTo(k);var f=m.grid.trigger(a1,{field:o,options:{}}),b=aK({},f.options);aQ.ui.TextBox&&(n=new aQ.ui.TextBox(l,b),m._filters[o]=n)},destroy:function(){var e,d=this;d.grid=null;for(e in d._filters){d._filters.hasOwnProperty(e)&&(d._filters[e].destroy(),d._filters[e]=null)}d.listBox&&(d.listBox.destroy(),d.listBox=null),aR(aM).off(aE+d._eventNS),d._filterByField=d._filters=d._slideUp=d._menuWrapper=null}}),aj=aB.extend({init:function(d,f){var e=this;e.grid=f,e.sortExpressions=[],e._eventNS=".shieldGridSorting"+ap(),ai(d)?(e.allowUnsort=!0,e.multiple=!1,e.firstAscending=!0,e.ascText="&#9650;",e.descText="&#9660;"):a8(d)&&(e.allowUnsort=aJ(d.allowUnsort)?!0:d.allowUnsort,e.multiple=d.multiple,e.firstAscending=aJ(d.firstAscending)?!0:d.firstAscending,e.ascText=aJ(d.ascText)?"&#9650;":d.ascText,e.descText=aJ(d.descText)?"&#9660;":d.descText),e._initialize()},destroy:function(){var c=this;c.allowUnsort=c.multiple=c.sortExpressions=null,c.length=0,c._click&&(c.grid.headerTable.find(".sui-link").each(function(){aR(this).off(aE+c._eventNS)}),c._click=null),c.grid=null},_initialize:function(){var y=this,t=y.grid,v=t.dataSource.sort,w=t.columns,s=t.headerTable.find(".sui-headercell");if(y._click=aP(y._clickHandler,y),s.each(function(e){var g=aR(this),b=g.html();w[e].sortable!==!1&&(g.empty(),aR('<a href="#" class="sui-link"></a>').appendTo(g).html(b).on(aE+y._eventNS,y._click))}),v){for(var u=0;u<v.length;u++){for(var c=v[u],x=0;x<w.length;x++){if(w[x].sortable!==!1&&c.path==w[x].field){var q=aR(s[x]).find(".sui-link"),p="ascending",j="sui-asc",r=y.ascText;c.desc&&(p="descending",r=y.descText,j="sui-desc"),q.addClass(j),aR('<span class="sui-'+p+'">'+r+"</span>").appendTo(q)}}}}},_clickHandler:function(k){var h=this,m=aR(k.target).closest(".sui-link"),l=h.grid,j=bj(m.parent().get(0),l.headerTable.find(".sui-headercell")),n=l.columns[j];return m.hasClass("sui-desc")?h.allowUnsort&&h.firstAscending?h._sortInternal(n,!0,!0):h._sortInternal(n,!1,!1):m.hasClass("sui-asc")?h.allowUnsort&&!h.firstAscending?h._sortInternal(n,!1,!0):h._sortInternal(n,!0,!1):h.firstAscending?h._sortInternal(n,!1,!1):h._sortInternal(n,!0,!1),!1},_sortInternal:function(s,t,r){var p=this,q=p.grid,o=q.dataSource,u=o.sort,m=q.trigger(aL,{commandName:aA,cancel:!1,column:s,desc:t,unsort:r});if(!m.cancel){if(u){if(!p.multiple&&u){u.length=0}else{var n=aR.grep(u,function(b){return b.path===s.field&&b.desc===(r?t:!t)});if(n.length>0){var e=bj(n[0],u);u.splice(e,1)}}r||u.push({path:s.field,desc:t})}else{r||(u=o.sort=[{path:s.field,desc:t}])}q._refreshOnSort(),q.trigger(aA,{column:s,desc:t,unsort:r})}},_sort:function(v,s,q){var u,t,m=this,r=m.grid,n=r.dataSource,w=n.sort;if(w&&(u=aR.grep(w,function(b){return b.path===v&&b.desc===s})),!u||u.length<=0){if(!m.multiple&&w&&(w.length=0),w){var p=!1,o=aR.grep(w,function(b){return b.path===v&&b.desc!=s});o&&o.length>0&&(t=bj(o[0],w),w.splice(t,1),p=!0),q||(w.push({path:v,desc:s}),p=!0),p&&r._refreshOnSort()}else{q||(n.sort=[{path:v,desc:s}],r._refreshOnSort())}}else{q&&(t=bj(u[0],w),w.splice(t,1),r._refreshOnSort())}}}),ae=aB.extend({init:function(g,l,m,d){var k,c=this;k=c._eventNS=".shieldGridSelection"+ap(),ai(m)?(c.type="row",c.multiple=!1,c.toggle=!1,c.spreadsheet=!0):a8(m)&&(c.type=m.type?m.type:"row",c.multiple=m.multiple,c.toggle=m.toggle?m.toggle:!1,c.spreadsheet=aJ(m.spreadsheet)?!0:m.spreadsheet),c.parentGrid=d,l.addClass(bq),g.addClass("sui-non-selectable"),c.table=l,c.lastSelected=null,l.on(au+k,aP(c._mouseDownHandler,c)),l.on(at+k,aP(c._mouseMoveHandler,c)),aR(aM).on(bh+k,aP(c._mouseUpHandler,c)),bn&&l.on(aX+k,function(){return !1}),c.multiple&&(c.area=aR(aM.createElement("span")),c.area.addClass("sui-area sui-area-color"))},destroy:function(){var d=this,c=d._eventNS;d.parentGrid=null,d.type=null,d.multiple=null,d.lastSelected=null,d.toggle=null,d.spreadsheet=null,d.table.off(c),d.x=null,d.y=null,d.table.off(aX+c),d.elements=null,d.table=null,d.area&&(d.area.remove(),d.area=null)},select:function(d){var e=this;return d?void d.each(function(){e._selectElement(aR(this))}):e.table.find("."+aC)},clear:function(){var b=this;"row"==b.type?b._clearSelectedRows():b._clearSelectedCells()},_getParentTable:function(b){return b?"TABLE"==b[0].nodeName.toUpperCase()?b[0]:b.parent()?this._getParentTable(b.parent()):void 0:void 0},_mouseDownHandler:function(d){var k=this,c=d.pageX,b=d.pageY,j=aR(d.target);k.x=c,k.y=b,("TD"!=j[0].nodeName.toUpperCase()||k._getParentTable(j)==k.table[0])&&(!(j.hasClass("sui-cell")||j.hasClass("sui-row")||j.hasClass("sui-alt-row"))||j.hasClass("sui-detail-cell")||j.hasClass("sui-detail-row")||j.hasClass("sui-collapse-cell")||j.hasClass("sui-expand-cell")||j.hasClass("sui-expand-cell-disabled")||j.hasClass("sui-indent-cell")||(k.multiple&&k.area.appendTo(aM.body).css({left:c+1,top:b+1,width:0,height:0}),aR(aM).on(at+k._eventNS,aP(k._mouseMoveHandler,k)),aQ.selection(!1),k.elements=bm(d,k.table)))},_mouseMoveHandler:function(h){var j=this,o=h.pageX,n=h.pageY,m=j.x,l=j.y,k={left:m>o?o:m,top:l>n?n:l,width:aq(o-j.x),height:aq(n-j.y)};j.multiple&&j.area.css(k),h.preventDefault()},_mouseUpHandler:function(s){var z,x,b,y,A=this,v=A.parentGrid,d=s.ctrlKey,u=A.area,r=A.elements,w=[],t=[],e=[];if(aR(aM).off(at+A._eventNS),aQ.selection(!0),r){for(A.elementsToBeSelected=[],"row"==A.type?A._performRowSelection(u,d,r,s):A._performCellSelection(u,d,r,s),y=0;y<A.elementsToBeSelected.length;y++){z=A.elementsToBeSelected[y],!(z.hasClass("sui-cell")||z.hasClass("sui-row")||z.hasClass("sui-alt-row"))||z.hasClass("sui-detail-cell")||z.hasClass("sui-detail-row")||z.hasClass("sui-collapse-cell")||z.hasClass("sui-expand-cell")||z.hasClass("sui-expand-cell-disabled")||z.hasClass("sui-indent-cell")||(w.push(z),x=v._getRowIndex("row"==A.type?z:aR(z).parent()),t.push(x),e.push(x>=0?v.dataSource.getDataIndex(x):x))}if(b=v.trigger(aL,{commandName:bk,cancel:!1,toBeSelected:w,viewIndices:t,indices:e}),!b.cancel){for(y=0;y<w.length;y++){A._selectElement(w[y])}v.trigger(bk,{selected:w,viewIndices:t,indices:e}),A.elements=null}}u&&u.remove()},_performRowSelection:function(n,m,o,j){var p=this;if(!(aR(j.target).hasClass("sui-expand-cell")||aR(j.target).hasClass("sui-expand-cell-disabled")||aR(j.target).hasClass("sui-collapse-cell")||aR(j.target)&&aR(j.target).parent()&&(aR(j.target).parent().hasClass("sui-expand-cell")||aR(j.target).parent().hasClass("sui-expand-cell-disabled")||aR(j.target).parent().hasClass("sui-collapse-cell")))){if(n&&0===n.height()&&0===n.width()){p.multiple?p._processMultiRowSelection(j,o):p._processSingleRowSelection(j,o)}else{if(p.multiple){var k=p.table.find(">tbody > tr"),l=null;bo(k,function(b,q){var h=aR(q),g=h.offset().top;g<j.pageY&&(l=q.rowIndex)}),m||p._clearSelectedRows(),p._selectRowRange(o.row.rowIndex,l,m)}else{p._processSingleRowSelection(j,o)}}}},_performCellSelection:function(o,m,n,s){var r=this;if(!(aR(s.target).hasClass("sui-expand-cell")||aR(s.target).hasClass("sui-expand-cell-disabled")||aR(s.target).hasClass("sui-collapse-cell")||aR(s.target)&&aR(s.target).parent()&&(aR(s.target).parent().hasClass("sui-expand-cell")||aR(s.target).parent().hasClass("sui-expand-cell-disabled")||aR(s.target).parent().hasClass("sui-collapse-cell")))){if(o&&0===o.height()&&0===o.width()){r.multiple?r._processMultiCellSelection(s,n):r._processSingleCellSelection(s,n)}else{if(r.multiple){var q,l=r.table.find(">tbody > tr > td"),p=[];for(bo(l,function(E,y){var D=aR(y),b=D.get(0).clientWidth,F=D.get(0).clientHeight,B=D.offset().top,A=D.offset().left,e=B+F,v=A+b,x=ay(s.pageX,r.x),c=az(s.pageX,r.x),w=ay(s.pageY,r.y),G=az(s.pageY,r.y),z=!1,C=!1;w>B?e>w&&(z=!0):G>B&&(z=!0),x>A?v>x&&(C=!0):c>A&&(C=!0),z&&C&&p.push(y)}),m||r._clearSelectedCells(),q=0;q<p.length;q++){var k=aR(p[q]);k.hasClass(aC)?r._deselectElement(aR(p[q])):r.elementsToBeSelected.push(aR(p[q]))}}else{r._processSingleCellSelection(s,n)}}}},_selectRowRange:function(p,o,n){var s,r,q=this,m=ay(p,o),l=az(p,o),k=q.table.find(">tbody > tr");for(s=m;l>=s;s++){r=aR(k[s]),n&&r.hasClass(aC)?q._deselectElement(r):q.elementsToBeSelected.push(r)}},_clearSelectedRows:function(){var d=this,e=d.table.find(">tbody>tr."+aC);bo(e,function(b,f){d._deselectElement(aR(f))})},_clearSelectedCells:function(){var d=this,e=d.table.find(">tbody > tr > td."+aC);bo(e,function(b,f){d._deselectElement(aR(f))})},_processSingleRowSelection:function(k,o){var j=this,n=(j.table,j.toggle),m=j.multiple,p=aR(o.row),l=p.hasClass(aC);m||j._clearSelectedRows(),n?l?j._deselectElement(p):j.elementsToBeSelected.push(p):(j._clearSelectedRows(),j.elementsToBeSelected.push(p)),j.lastSelected=p},_processMultiRowSelection:function(z,y){var D=this,l=D.table,v=z.ctrlKey,u=z.shiftKey,C=aR(y.row);if(v){C.hasClass(aC)?(D._deselectElement(C),D.lastSelected=C):(D.elementsToBeSelected.push(C),D.lastSelected=C)}else{if(u){D.table.find(">tbody tr."+aC);if(D.lastSelected){var E=D.lastSelected,B=E.get(0).rowIndex,x=l.find(">tbody > tr"),w=C.get(0).rowIndex,o=ay(w,B),n=az(w,B);D._clearSelectedRows();for(var A=o;n>=A;A++){if(A!==B){var t=aR(x[A]);D.elementsToBeSelected.push(t)}}D.elementsToBeSelected.push(aR(x[B]))}else{D.elementsToBeSelected.push(C),D.lastSelected=C}}else{D._processSingleRowSelection(z,y)}}},_processSingleCellSelection:function(k,o){var j=this,n=(j.table,j.toggle),m=j.multiple,p=aR(o.cell),l=p.hasClass(aC);j.lastSelected;m||j._clearSelectedCells(),n?l?j._deselectElement(p):j.elementsToBeSelected.push(p):(j._clearSelectedCells(),j.elementsToBeSelected.push(p)),j.lastSelected=p},_processMultiCellSelection:function(S,E){var Y=this,N=Y.table,D=S.ctrlKey,o=S.shiftKey,X=aR(E.cell);if(D){X.hasClass(aC)?(Y._deselectElement(X),Y.lastSelected=X):(Y.elementsToBeSelected.push(X),Y.lastSelected=X)}else{if(o){if(Y.lastSelected){var W,Q=Y.lastSelected,H=Y.table.get(0),L=H.rows[0].cells.length,O=Q.parent().get(0).rowIndex,V=O*L+Q.get(0).cellIndex,J=N.find(">tbody > tr > td"),P=X.parent().get(0).rowIndex,G=P*L+X.get(0).cellIndex,T=ay(G,V),R=az(G,V);if(Y._clearSelectedCells(),Y.spreadsheet){var M=Q[0].cellIndex,F=X[0].cellIndex;T=ay(M,F),R=az(M,F);var n=ay(O,P),l=az(O,P);for(W=n;l>=W;W++){var U,K=H.rows[W];for(U=T;R>=U;U++){Y.elementsToBeSelected.push(aR(K.cells[U]))}}}else{for(W=T;R>=W;W++){if(W!==V){var I=aR(J[W]);Y.elementsToBeSelected.push(I)}}}Y.elementsToBeSelected.push(aR(J[V]))}else{Y.elementsToBeSelected.push(X),Y.lastSelected=X}}else{Y._processSingleCellSelection(S,E)}}},_selectElement:function(b){b.addClass(aC)},_deselectElement:function(b){b.removeClass(aC)}}),bv=aB.extend({options:{ns:".shieldGridGroupReorder",returnDuration:50,returnEasing:"ease-out",dragTreshold:20,draggedTemplate:"<div style='border-color:transparent;' class='sui-grid sui-grid-core'><div class='sui-group-panel-indicator'><span class='sui-group-title'>{0}</span><span class='sui-group-close-button'></span></div></div>"},init:function(c){var d=this;d.grid=c,d.options=aK(!0,{},bv.fn.options),d._eventNS=d.options.ns+ap(),d._events(!0)},_events:function(f){var e=this,c=e.grid.element;f?(e._downProxy=aP(e._down,e),c.on(au+e._eventNS,".sui-group-panel-indicator",e._downProxy)):(c.off(au+e._eventNS,".sui-group-panel-indicator",e._downProxy),e._downProxy=null)},_down:function(o){var q=this,p=aR(o.target).closest(".sui-group-panel-indicator"),m=p.offset(),n=q.grid.element,d=n.offset(),c=o.pageX,b=o.pageY;return q.dataField=p.attr("data-field"),o.button>1?void 0:(q._moveProxy=aP(q._move,q),q._upProxy=aP(q._up,q),aR(aM).on(at+q._eventNS,q._moveProxy).on(bh+q._eventNS,q._upProxy),q.start={left:c-m.left,top:b-m.top,x:c,y:b,target:p,index:p.parent().find(".sui-group-panel-indicator").index(p),positions:q._positions(p),gridPosition:{left:d.left,top:d.top,width:n.outerWidth(),height:n.outerHeight()},isRtl:ax.isRtl(n)},aQ.selection(!1),!1)},_move:function(n){var q=this,m=q.options,l=q.dragged,d=q.start,p=n.pageX,o=n.pageY,k=m.dragTreshold;l?(l.css({left:p-d.left,top:o-d.top}),q.hovered=q._index(p,o),q._indicator()):(aq(d.x-p)>k||aq(d.y-o)>k)&&(q.dragged=aR(aD(m.draggedTemplate,d.target.html())).css({position:"absolute",left:p-d.left,top:o-d.top,zIndex:999}).find("table").css("width","auto").end().find("th").attr("style",d.target[0].style.cssText).css({width:d.target.width(),height:d.target.height()}).end().appendTo(aM.body))},_positions:function(j){var h,m,l=j.parent().children(".sui-group-panel-indicator"),g=0,k=[];for(g;g<l.length;g++){h=l.eq(g),m=h.offset(),k.push({left:m.left,top:m.top,width:h.outerWidth(),height:h.outerHeight()})}return k},_index:function(p,o){var k,q,m,l,n=this.start,j=n.gridPosition;for(q=0;q<n.positions.length;q++){if(k=n.positions[q],m=k.left<=p&&p<=k.left+k.width&&k.top<=o&&o<=k.top+k.height,l=j.left<=p&&p<=j.left+j.width&&j.top<=o&&o<=j.top+j.height,m&&l){return q}}return -1},_indicator:function(){var p,r=this,u=r.start,t=r.hovered,q=u.positions[t],s=r.reorderIndicator,n=u.gridPosition.left,m=u.gridPosition.left+u.gridPosition.width,o=u.target.parent().children(".sui-group-panel-indicator"),d=u.isRtl?u.index<t:u.index>t;o.removeClass("sui-reorder-target"),s&&s.hide(),null!=t&&t>-1&&(o.eq(t).addClass("sui-reorder-target"),s||(s=r.reorderIndicator=aR("<div class='sui-grid-reorder-indicator'><span class='sui-grid-indicator-top' /><span class='sui-grid-indicator-bottom' /></div>").appendTo(aM.body)),t!==u.index&&(p=q.left+(d?0:q.width),s.css({left:ay(az(n,p),m),top:q.top,height:q.height}).show()))},_up:function(b){var x,y=this,e=y.options,w=y.grid,s=y.dragged,p=y.start,v=y.hovered,r=y.dataField;if(y._detachDocumentEvents(),s){if(null!=v&&v>-1){if(s.remove(),x=w.trigger(aL,{commandName:bA,cancel:!1,index:p.index,newIndex:v}),!x.cancel){for(var u=w.dataSource.group,t=0;t<u.length;t++){if(u[t].field==r){var d=u[t];u[t]=u[v],u[v]=d;break}}}}else{setTimeout(function(){s.remove()},ax.transitions?e.returnDuration:0),y.grid.dataSource.group&&(x=w.trigger(aL,{commandName:bg,cancel:!1,field:r}),x.cancel||(y.grid.ungroup(r),w.trigger(bg,x)))}}y.dragged=y.dataField=y.hovered=v=null,y._indicator(),y.reorderIndicator&&(y.reorderIndicator.remove(),y.reorderIndicator=null),y.start=null,aR(aM).off(y._eventNS),aQ.selection(!0),x&&!x.cancel&&(delete x.cancel,delete x.commandName,w.dataSource.read(),w.trigger(bA,x))},_detachDocumentEvents:function(){var c=this;c._moveProxy=c._upProxy=null,aR(aM).off(c._eventNS)},destroy:function(){var b=this;b.dataField=null,b._detachDocumentEvents(),b._events(!1)}}),bw=aB.extend({options:{ns:".shieldGridColumnGroupReorder",returnDuration:150,returnEasing:"ease-out",dragTreshold:20,draggedTemplate:"<div class='sui-grid sui-grid-core'><div class='sui-gridheader'><table class='sui-table'><thead><tr class='sui-columnheader'><th class='sui-headercell'>{0}</th></tr></thead></table></div></div>"},init:function(c){var d=this;d.grid=c,d.options=aK(!0,{},aY.fn.options),d._eventNS=d.options.ns+ap(),d._events(!0),c.headerTable.addClass("sui-reorderable")},_events:function(f){var e=this,c=e.grid.element;f?(e._downProxy=aP(e._down,e),c.on(au+e._eventNS,".sui-headercell",e._downProxy)):(c.off(au+e._eventNS,".sui-headercell",e._downProxy),e._downProxy=null)},_down:function(v){var w=this,u=aR(v.target).closest(".sui-headercell"),d=u.offset(),t=w.grid.element,c=t.offset(),q=v.pageX,p=v.pageY;if(!(v.button>1)){var b=u.attr("data-field"),r=w.grid.dataSource.group;if(r){for(var s=0;s<r.length;s++){if(b===r[s].field){return}}}return aR(aM).on(at+w._eventNS,aP(w._move,w)).on(bh+w._eventNS,aP(w._up,w)),w.start={left:q-d.left,top:p-d.top,x:q,y:p,target:u,index:1000,positions:w._positions(u),gridPosition:{left:c.left,top:c.top,width:t.outerWidth(),height:t.outerHeight()},isRtl:ax.isRtl(t)},aQ.selection(!1),!1}},_move:function(n){var q=this,m=q.options,l=q.dragged,d=q.start,p=n.pageX,o=n.pageY,k=m.dragTreshold;l?(l.css({left:p-d.left,top:o-d.top}),q.hovered=q._index(p,o),q._indicator()):(aq(d.x-p)>k||aq(d.y-o)>k)&&(q.dragged=aR(aD(m.draggedTemplate,d.target.html())).css({position:"absolute",left:p-d.left,top:o-d.top,zIndex:999}).find("table").css("width","auto").end().find("th").attr("style",d.target[0].style.cssText).css({width:d.target.width(),height:d.target.height()}).end().appendTo(aM.body))},_positions:function(j){var h,g,l=this.grid.element.find(".sui-group-panel-indicator"),m=0,k=[];for(m;m<l.length;m++){h=l.eq(m),g=h.offset(),k.push({left:g.left,top:g.top,width:h.outerWidth(),height:h.outerHeight()}),m==l.length-1&&k.push({left:g.left,top:g.top,width:h.outerWidth(),height:h.outerHeight()})}return k},_index:function(s,r){var q,o,l,m,k,n=this.start,p=n.gridPosition,t=this.grid.element.find(".sui-group-panel");if(n.positions.length>0){for(o=0;o<n.positions.length;o++){if(q=n.positions[o],l=q.left<=s&&s<=q.left+q.width&&q.top<=r&&r<=q.top+q.height,k=p.left<=s&&s<=p.left+p.width&&p.top<=r&&r<=p.top+p.height,m=t.offset().left<=s&&s<=t.offset().left+t.width()&&t.offset().top<=r&&r<=t.offset().top+t.height(),l&&k){return o}}}else{m=t.offset().left<=s&&s<=t.offset().left+t.width()&&t.offset().top<=r&&r<=t.offset().top+t.height()}return m?(this.isOnGroupPanel=!0,this.grid.element.find(".sui-group-panel-indicator").length):-1},_indicator:function(){var p,r=this,u=r.start,t=r.hovered,q=u.positions[t],s=r.reorderIndicator,n=u.gridPosition.left,d=u.gridPosition.left+u.gridPosition.width,m=u.target.parent().children(".sui-group-panel-indicator"),o=u.isRtl?u.index<t:u.index>t;m.removeClass("sui-reorder-target"),s&&s.hide(),null!=t&&t>-1&&(m.eq(t).addClass("sui-reorder-target"),s||(s=r.reorderIndicator=aR("<div class='sui-grid-reorder-indicator'><span class='sui-grid-indicator-top' /><span class='sui-grid-indicator-bottom' /></div>").appendTo(aM.body)),this.isOnGroupPanel&&(o=!1),q?(p=q.left+(o?0:q.width),this.isOnGroupPanel=null,s.css({left:ay(az(n,p),d),top:q.top,height:q.height}).show()):(p=n+(o?u.gridPosition.width:0),this.isOnGroupPanel=null,s.css({left:p,top:u.gridPosition.top,height:r.grid.element.find(".sui-group-panel-empty").outerHeight()}).show()))},_up:function(b){var r,s=this,e=s.options,o=s.grid,k=s.dragged,q=s.start,p=s.hovered;if(k){if(k.css({left:q.x-q.left,top:q.y-q.top,transition:aD("left {0} {1}ms, top {0} {1}ms",e.returnEasing,e.returnDuration)}),null!=p&&p>-1){k.remove();var d=q.target.attr("data-field");r=o.trigger(aL,{commandName:bt,cancel:!1,field:d,index:p}),r.cancel||o.group(d,p,"asc")}else{setTimeout(function(){k.remove()},ax.transitions?e.returnDuration:0)}}s.dragged=s.hovered=p=null,s._indicator(),s.reorderIndicator&&(s.reorderIndicator.remove(),s.reorderIndicator=null),s.start=null,aR(aM).off(s._eventNS),aQ.selection(!0),r&&!r.cancel&&(delete r.cancel,delete r.commandName,o.dataSource.read(),o.trigger(bt,r))},destroy:function(){this._events(!1),this.grid.headerTable.removeClass("sui-reorderable")}}),aY=aB.extend({options:{ns:".shieldGridColumnReorder",returnDuration:150,returnEasing:"ease-out",dragTreshold:20,draggedTemplate:"<div class='sui-grid sui-grid-core'><div class='sui-gridheader'><table class='sui-table'><thead><tr class='sui-columnheader'><th class='sui-headercell'>{0}</th></tr></thead></table></div></div>"},init:function(c){var d=this;d.grid=c,d.options=aK(!0,{},aY.fn.options),d._eventNS=d.options.ns+ap(),d._events(!0),c.headerTable.addClass("sui-reorderable")},_events:function(f){var e=this,c=e.grid.element;f?(e._downProxy=aP(e._down,e),c.on(au+e._eventNS,".sui-headercell",e._downProxy)):(c.off(au+e._eventNS,".sui-headercell",e._downProxy),e._downProxy=null)},_down:function(o){var q=this,p=aR(o.target).closest(".sui-headercell"),m=p.offset(),n=q.grid.element,d=n.offset(),c=o.pageX,b=o.pageY;if(!(o.button>1)){return aR(aM).on(at+q._eventNS,aP(q._move,q)).on(bh+q._eventNS,aP(q._up,q)),q.start={left:c-m.left,top:b-m.top,x:c,y:b,target:p,index:p.parent().find(".sui-headercell").index(p),positions:q._positions(p),gridPosition:{left:d.left,top:d.top,width:n.outerWidth(),height:n.outerHeight()},isRtl:ax.isRtl(n)},aQ.selection(!1),!1}},_move:function(n){var q=this,m=q.options,l=q.dragged,d=q.start,p=n.pageX,o=n.pageY,k=m.dragTreshold;l?(l.css({left:p-d.left,top:o-d.top}),q.hovered=q._index(p,o),q._indicator()):(aq(d.x-p)>k||aq(d.y-o)>k)&&(q.dragged=aR(aD(m.draggedTemplate,d.target.html())).css({position:"absolute",left:p-d.left,top:o-d.top,zIndex:999}).find("table").css("width","auto").end().find("th").attr("style",d.target[0].style.cssText).css({width:d.target.width(),height:d.target.height()}).end().appendTo(aM.body))},_positions:function(j){var h,m,l=j.parent().children(".sui-headercell"),g=0,k=[];for(g;g<l.length;g++){h=l.eq(g),m=h.offset(),k.push({left:m.left,top:m.top,width:h.outerWidth(),height:h.outerHeight()})}return k},_index:function(p,o){var k,q,m,l,n=this.start,j=n.gridPosition;for(q=0;q<n.positions.length;q++){if(k=n.positions[q],m=k.left<=p&&p<=k.left+k.width&&k.top<=o&&o<=k.top+k.height,l=j.left<=p&&p<=j.left+j.width&&j.top<=o&&o<=j.top+j.height,m&&l){return q}}return -1},_indicator:function(){var p,r=this,u=r.start,t=r.hovered,q=u.positions[t],s=r.reorderIndicator,n=u.gridPosition.left,m=u.gridPosition.left+u.gridPosition.width,o=u.target.parent().children(".sui-headercell"),d=u.isRtl?u.index<t:u.index>t;o.removeClass("sui-reorder-target"),s&&s.hide(),null!=t&&t>-1&&(o.eq(t).addClass("sui-reorder-target"),s||(s=r.reorderIndicator=aR("<div class='sui-grid-reorder-indicator'><span class='sui-grid-indicator-top' /><span class='sui-grid-indicator-bottom' /></div>").appendTo(aM.body)),t!==u.index&&(p=q.left+(d?0:q.width),s.css({left:ay(az(n,p),m),top:q.top,height:q.height}).show()))},_up:function(b){var p,q=this,e=q.options,d=q.grid,k=q.dragged,o=q.start,n=q.hovered;k&&(k.css({left:o.x-o.left,top:o.y-o.top,transition:aD("left {0} {1}ms, top {0} {1}ms",e.returnEasing,e.returnDuration)}),null!=n&&n>-1?(k.remove(),p=d.trigger(aL,{commandName:ac,cancel:!1,index:o.index,newIndex:n}),p.cancel||d.reorderColumn(o.index,n)):setTimeout(function(){k.remove()},ax.transitions?e.returnDuration:0)),q.dragged=q.hovered=n=null,q._indicator(),q.reorderIndicator&&(q.reorderIndicator.remove(),q.reorderIndicator=null),q.start=null,aR(aM).off(q._eventNS),aQ.selection(!0),p&&!p.cancel&&(delete p.cancel,delete p.commandName,d.trigger(ac,p))},destroy:function(){this._events(!1),this.grid.headerTable.removeClass("sui-reorderable")}}),bx=a0.extend({init:function(){a0.fn.init.apply(this,arguments);var b=this;b._eventNS=".shieldGrid"+b.getInstanceId(),b.refresh(),b._dM()},destroy:function(){this._destroyInternal(),a0.fn.destroy.call(this)},_destroyInternal:function(){var l,k,j,g=this,h=(g.options,g._eventNS);if(g.contentWrapper){if(g._markedCells){for(k in g._markedCells){g._markedCells.hasOwnProperty(k)&&(g._markedCells[k].length=0)}g._markedCells=null}for(aR(an).off(aS+g._rsNS),g._resize=g._rsNS=null,g.sorting&&(g.sorting.destroy(),g.sorting=null),g.virtualizedContainer&&(g.virtualizedContainer.destroy(),g.virtualizedContainer=null),l=0;l<g.columns;l++){g.columns[l].destroy()}if(g.contentWrapper&&g.contentWrapper.off(aN,g._hScrollHandler),g._hScrollHandler=g.scrollableWrapper=null,g._selectable&&(g._selectable.destroy(),g._selectable=null),g.options.scrolling?(g.contentWrapper.parent().remove(),g.headerWrapper.parent().remove()):(g.contentWrapper.remove(),g.headerWrapper.remove()),g._hasDetailTemplate()&&(g.contentTable.off(aE,".sui-expand-cell",g._toggleDetailTemplateHandler).off(aE,".sui-collapse-cell",g._toggleDetailTemplateHandler),g._toggleDetailTemplateHandler=null),g.popupWindow&&g.popupWindow.destroy(),g._gridColumns&&(g._gridColumns.length=0),g.columns=g._gridColumns=g._windowEditingIndex=g.contentWrapper=g.headerWrapper=g.contentTable=g.hederTable=null,g._buttons){for(l=0;l<g._buttons.length;l++){j=g._buttons[l].button.element,g._buttons[l].button.destroy(),j.remove()}g._buttons.length=0}g.pager&&(g.pager.destroy(),g.pager=null,g.pagerWrapper&&(g.pagerWrapper.parent().remove(),g.pagerWrapper=null)),g.loadingPanel&&(g.loadingPanel=null,clearTimeout(g.loadingPanelTimeout),g.loadingPanelTimeout=null),g._columnResizing&&(g._columnResizing.destroy(),g._columnResizing=null),g._toolbar&&(g._toolbar.destroy(),g._toolbar=null),g._editing&&(g._editing.destroy(),g._editing=null),g._columnReorder&&(g._columnReorder.destroy(),g._columnReorder=null),g._sortingInProgress=g._scrollLeft=g._scrollTop=g._populateInsertedItem=g._preventClosingEditors=g._editingInProcess=null,g._filter&&(g._filter.destroy(),g._filter=null),g._groupReorder&&(g._groupReorder.destroy(),g._groupReorder=null),g._columnGroupReorder&&(g._columnGroupReorder.destroy(),g._columnGroupReorder=null),g.dataSource.off(h),g.element.removeClass("sui-grid sui-grid-core").css(a3,"").empty()}},_dM:function(){var d=function(c){return aR("<div/>").html(c).text()},g="&#68;&#101;&#109;&#111;&#32;&#86;&#101;&#114;&#115;&#105;&#111;&#110;",f=aM.createTextNode(d(g));aR(f).insertAfter(aR(this.element))},_resizeHandler:function(){this.options.scrolling&&this._scrolling()},_hasDetailTemplate:function(){var b=this.options;return b.detailTemplate||b.events&&b.events.detailCreated},_hasVirtualScrolling:function(){var b=this.options;return b.scrolling&&b.scrolling.virtual&&!b.paging&&!this._hasDetailTemplate()},_canExpandCollapse:function(){return this.options.detailExpandCollapse!==!1},_resolveColumns:function(b){var d=this.columns=[];aw.array(b)?bo(b,function(c,e){d.push(new bu(e))}):aQ.error("Invalid columns declaration. The columns have to be array.",this.options.dieOnError)},_createWrappers:function(){var f=this,g=f.element;f._wrapper();var j=aR("<div />").prependTo(g);j.addClass("sui-gridcontent");var h=aR("<div />").prependTo(g);h.addClass("sui-gridheader"),f.options.showHeader||(h.css(ao,ar),j.addClass("sui-no-header")),f.headerWrapper=h,f.contentWrapper=j},_wrapper:function(){var c=this.options.height,d=this.element;d.is("div")||(d=d.wrap("<div/>").parent()),d.addClass("sui-grid sui-grid-core"),d&&d.css(a3,c)},_createGroupPanel:function(){var o,l,n,j=this,k=!1,p=j.dataSource;if(n=j.element.find(".sui-group-panel"),n.length>0&&n.remove(),j.options.grouping.showGroupHeader){if(p.group&&0!==p.group.length){o=aR("<div class='sui-group-panel' />"),j.element.prepend(o);for(var m=0;m<p.group.length;m++){l=p.group[m],j._createGroupHeaderIndicator(l,o),k=!0}k&&j.options.grouping.allowDragToGroup&&(j._groupReorder&&j._groupReorder.destroy(),j._groupReorder=new bv(j),j._columnGroupReorder&&j._columnGroupReorder.destroy(),j._columnGroupReorder=new bw(j))}else{j.element.prepend(aR("<div class='sui-group-panel sui-group-panel-empty' >"+j.options.grouping.message+"</div>"))}}},_createGroupHeaderIndicator:function(m,j){var l,k,n,c=this;n=aR('<div class="sui-group-panel-indicator" data-field="'+m.field+'"/>').appendTo(j),k="desc"==m.order?aR('<span class="sui-descending">&#9660;</span>').appendTo(n):aR('<span class="sui-ascending">&#9650;</span>').appendTo(n),aR('<span class="sui-group-title">'+m.field+"</span>").appendTo(n),c.options.grouping.allowDragToGroup&&(l=aR('<span class="sui-group-close-button">&#10006;</span>').appendTo(n),l.on(aE,c._closeButtonClicked=aP(c._closeButtonClickedHandler,c))),k.on(aE,c._sortButtonClicked=aP(c._sortButtonClickedHandler,c))},_sortButtonClickedHandler:function(k){for(var m=this,l=aR(k.currentTarget),j=l.parent().attr("data-field"),n=m.dataSource.group,h=0;h<n.length;h++){n[h].field==j&&(l.hasClass("sui-descending")?n[h].order="asc":n[h].order="desc",m.dataSource.read())}},_closeButtonClickedHandler:function(j){var l,e=this,h=aR(j.currentTarget),k=h.parent().attr("data-field");e.dataSource.group&&(l=e.trigger(aL,{commandName:bg,cancel:!1,field:k}),l.cancel||(e.ungroup(k),e.trigger(bg,l)))},_createHeaderTable:function(){var g=this,f=g.headerWrapper,e=g.element;e.is("table")||(e=f.children("table"),e.length||(e=aR("<table/>").appendTo(f))),am&&e.attr("cellspacing",0),e.addClass("sui-table"),g.headerTable=e,g._createTbody(e,!0),g._createThead(e,!0),g._createFakeRow(e,g.columns.length)},_createContentTable:function(){var c=this,g=c.options,h=c.contentWrapper,j=c.element;j.is("table")||(j=h.children("table"),j.length||(j=aR("<table />").appendTo(h))),am&&j.attr("cellspacing",0),j.addClass("sui-table"),g.rowHover&&j.addClass("sui-hover"),c._hasDetailTemplate()&&(c._canExpandCollapse()&&j.addClass("sui-expandable"),j.on(aE,"> tbody > tr > .sui-expand-cell",c._toggleDetailTemplateHandler=aP(c._expandCollapseDetailTemplate,c)),j.on(aE,"> tbody > tr > .sui-collapse-cell",c._toggleDetailTemplateHandler)),c.contentTable=j,c._createTbody(c.contentTable,!1)},_createTbody:function(g,f){var e=g.find("> tbody");e.length||(e=aR("<tbody/>").appendTo(g)),f&&e.addClass("sui-hide"),g.tbody=e},_createThead:function(r){var t,n,w,p,v,q=this,s=(q.options,q.columns),o="",u=r.find(">thead");if(u.length||(u=aR("<thead/>").insertBefore(r.tbody)),w=r.find("tr:has(th):first"),w.length||(w=u.children().first(),w.length||(w=aR("<tr/>"))),!w.children().length){for(t=0,n=s.length;n>t;t++){v=s[t],p=v.headerTemplate||v.title||v.field||v,o+="<th "+ad(v.headerAttributes)+' data-field="'+s[t].field+'">'+p+"</th>"}w.html(o)}if(w.addClass("sui-columnheader"),w.find("th").addClass("sui-headercell"),s.length&&q._hasDetailTemplate()&&q._canExpandCollapse()){var m=aR('<th class="sui-indent-cell" />');am&&m.html("&nbsp;"),m.prependTo(w)}w.appendTo(u),r.thead=u},_createFakeRow:function(j,h){var g=j.find(">tbody");if(g.length){for(var l=aR("<tr/>"),k=0;h>k;k++){aR("<td/>").appendTo(l)}l.appendTo(g)}},_createColgroup:function(n){var p,m,j,o=this,k=o.options,l=o.columns,q=n.find(">colgroup");for(q.length||(q=aR("<colgroup/>").prependTo(n)),q.html(""),k.columns.length&&o._hasDetailTemplate()&&o._canExpandCollapse()&&aR("<col class='sui-indent-col'/>").appendTo(q),p=0,m=l.length;m>p;p++){j=l[p].width,aR(j&&0!==parseInt(j,10)?aD('<col style="width:{0}"/>',bl(j)?j:j+"px"):"<col />").appendTo(q)}},_scrolling:function(){var B,y,x,c,D=this,h=D.element,z=D.dataSource,p=D._hasVirtualScrolling(),A=D.headerWrapper,C=D.contentWrapper,v=A.outerHeight();if(A.parent().hasClass("sui-gridheader sui-scrolldiv")?v=A.parent().outerHeight():(A.addClass("sui-headercontent").removeClass("sui-gridheader"),A.wrap("<div class='sui-gridheader sui-scrolldiv'></div>"),C.addClass("sui-content").removeClass("sui-gridcontent"),C.wrap("<div class='sui-gridcontent sui-scroller'></div>"),am&&(D.headerTable.addClass("sui-table-ie7").removeClass("sui-table"),D.contentTable.addClass("sui-table-ie7").removeClass("sui-table")),aR(D.element).find(".sui-scrolldiv").css(ax.isRtl(h)?"padding-left":"padding-right",ax.scrollbar()-1),y=D.scrollableWrapper=p?C.parent():C,y.on(aN,D._hScrollHandler=aP(D._hscroll,D)),D.element.find(".sui-header-locked").prependTo(D.element.find(".sui-gridheader")),D.element.find(".sui-content-locked").prependTo(D.element.find(".sui-gridcontent"))),B=h.innerHeight()-v,D.pagerWrapper&&(B-=D.pagerWrapper.outerHeight()),D._toolbar){var w,b=D.element.find(".sui-toolbar"),G=0;for(w=0;w<b.length;w++){G+=aR(b[0]).outerHeight()}B-=G+1}var F=D.element.find(".sui-group-panel");if(F.length>0&&(B-=F.outerHeight()),aR(C).add(C.parent()).css({height:B,width:"100%"}),p&&z.view&&z.view.length){D.virtualizedContainer?(D.virtualizedContainer.options.total=z.total,D.virtualizedContainer.render()):(x=D._renderRow(0,D.contentTable.tbody,aI),c=x.outerHeight(),x.remove(),D.virtualizedContainer=new aQ.ui.VirtualizedContainer(y,{itemHeight:c,total:z.total,createContainer:function(d){return d.addClass("sui-content").append(D.contentTable).find("tbody").empty()},getItems:aP(D._loadVirtualRows,D),skipRender:!0}),D.virtualizedContainer.render()),D.contentWrapper=D.virtualizedContainer.element.children().eq(0)}else{if(bn&&!am&&!ab){var E=C.get(0);E.scrollWidth<=E.clientWidth&&C.css(a3,B+1)}}},_loadVirtualRows:function(p,o,n){var t=this,s=t.dataSource,m=null!=s.skip?s.skip:0,l=null!=s.take?s.take:s.view.length,k=100,q=t.virtualizedContainer.container;if(!t._sortingInProgress&&s.remote&&(m>p||o>=m+l)){clearTimeout(t._loadWaitTimeout),t._loadWaitTimeout=setTimeout(function(g,d,b){return function(){t._loadWaitTimeout=null,s.skip=g,s.take=d-g,t._loadingVirtualRows=!0,s.read().then(function(){if(!t._loadWaitTimeout){q.empty();for(var c=g;d>c&&c<s.total;c++){t._renderRow(c-g,q,s.view[c-g])}s.one(aG,function(){t._loadWaitTimeout||(t._loadingVirtualRows=!1)}),t.loading(!1),b([],!1)}})}}(p,o,n),k)}else{q.empty();for(var r=p;o>r&&r<s.total;r++){t._renderRow(r,q,s.view[r])}n([],!1)}t._checkIfVerticalScroll()},_checkIfVerticalScroll:function(){var f=this,e=f.element.find(".sui-virtualized").get(0),h=f.element.get(0),g=e.scrollHeight>h.scrollHeight;g?(f.headerWrapper.parent().css("padding-right","16px"),f.headerWrapper.removeClass("sui-grid-no-gap")):(f.headerWrapper.parent().css("padding-right","0px"),f.headerWrapper.addClass("sui-grid-no-gap"))},_hscroll:function(l){var k=this,p=k.scrollableWrapper,j=p.get(0),o=k.headerWrapper,q=p.scrollLeft(),m=o.scrollLeft();if(ax.isRtl(k.element)&&aT&&j.clientHeight<j.scrollHeight&&(q+=j.offsetWidth-j.clientWidth),q!=m){o.scrollLeft(q);var n=k.element.find(".sui-footer-content");n.length>0&&n.scrollLeft(q)}},_sorting:function(){var d=this,c=d.options.sorting;d.element;c&&d.columns.length&&(d.sorting=new aj(c,d))},_renderData:function(){var q,p,s=this,o=s.dataSource.view,r=s.options;r.scrolling,aJ(r.altRows)?!0:r.altRows,r.rowTemplate,r.altRowTemplate,s.contentTable;if(!s._loadingVirtualRows&&(p=s.trigger(aL,{commandName:aW,cancel:!1}),!p.cancel)){s._sortingInProgress?s._updateGrid():(s.columns.length||(q=[],o.length&&bo(o[0],function(d,c){q.push(d)}),r.columns=q,s._resolveColumns(q),s._createThead(s.headerTable,!0)),s._createColgroup(s.headerTable)),s._createColgroup(s.contentTable),s._sortingInProgress=!1,s._renderRows(),s._renderFooter();var n=function(c){return aR("<div/>").html(c).text()},m=n("&#83;&#104;&#105;&#101;&#108;&#100;&#85;&#73;");s.loading(!1);var g=n("&#104;&#116;&#116;&#112;&#58;&#47;&#47;&#119;&#119;&#119;&#46;&#115;&#104;&#105;&#101;&#108;&#100;&#117;&#105;&#46;&#99;&#111;&#109;");s.trigger(aW);var e=g;s.dmL||(s.dmL=aR('<a href="'+e+'" target="_blank"> by '+m+"</a>"),aR(s.dmL).css({color:"grey","text-decoration":"none"}).insertAfter(aR(this.element)))}},_renderRows:function(){var o,q,s=this,r=s.options,m=s.dataSource,p=m.view,n=s.contentTable;if(s._markedCells){for(var l in s._markedCells){s._markedCells.hasOwnProperty(l)&&(s._markedCells[l].length=0)}s._markedCells=null}if(n.tbody.empty(),!p||!p.length){return aJ(r.noRecordsTemplate)?aR("<tr><td colspan='"+s.columns.length+"'>"+(r.noRecordsText||"No records to display")+"</td></tr>").appendTo(n.tbody):aR("<td></td>").append(r.noRecordsTemplate).wrap("<tr></tr>").parent().appendTo(n.tbody),void s._initScrolling(r)}if(!s._hasVirtualScrolling()||s._sortingInProgress){if(q=m.group,q&&q.length>0){var g=0;for(s._renderGroupedData(p,g,0),s.headerTable.find(">colgroup").find(".sui-indent-col").remove(),s.headerTable.thead.find(".sui-columnheader > .sui-indent-cell").remove(),o=0;o<q.length;o++){aR("<col class='sui-indent-col'/>").prependTo(s.headerTable.find(">colgroup")),aR("<col class='sui-indent-col'/>").prependTo(s.contentTable.find(">colgroup")),aR("<th class='sui-indent-cell'/>").prependTo(s.headerTable.thead.find(".sui-columnheader"))}s._addAllIntendCells(),s.contentTable.addClass("sui-grouped-table")}else{s._renderRowsAndDetails(p)}}s._createGroupPanel(),s._initScrolling(r)},_initScrolling:function(b){b.scrolling&&!this._sortingInProgress&&this._scrolling()},_addAllIntendCells:function(){for(var h,j=this,k=j.contentTable.get(0).rows,m=0;m<k.length;m++){var n=aR(k[m]),l=parseInt(n.attr("data-group-level"),10);if(n.hasClass("sui-group-header")){if(l>1){for(h=0;l-1>h;h++){aR("<td class='sui-indent-cell'/>").prependTo(n)}}}else{for(h=0;l>h;h++){aR("<td class='sui-indent-cell sui-group-intend-cell'/>").prependTo(n)}}}},_renderGroupedData:function(j,l,g){var m=this;m.options.detailExpandCollapse=!1;for(var k=0;k<j.length;k++){var h=j[k];h.hasOwnProperty("field")&&h.hasOwnProperty("items")&&h.hasOwnProperty("value")&&h.hasOwnProperty("order")?(g++,m._renderGroupHeader(h,g),m._renderGroupedData(h.items,l,g),m._renderGroupAggregates(h),g--):(m._renderDataItem(h,l,g),l++)}},_renderGroupAggregates:function(r){if(r.aggregate){var u,x,q,B,v,y=this,w=y.columns,t={},z=r.aggregate;for(B=0;B<w.length;B++){if(x=w[B].groupFooterTemplate){u=aR("<tr class='sui-group-footer' />").appendTo(y.contentTable.tbody);break}}if(u){for(B=0;B<w.length;B++){if(v=aR("<td class='sui-group-footer-cell' />").appendTo(u),x=w[B].groupFooterTemplate){q=w[B].field;for(var A=0;A<z.length;A++){z[A].field==q&&(av(z[A].aggregate)?t.custom=z[A].value:t[z[A].aggregate]=z[A].value)}if(av(x)){var s=x.call(y,v,t);aF(s)&&!a9(s)&&""!==s&&v.html(s)}else{v.html(aD.call(y,x,t))}}}var k=y.dataSource.group.length;for(B=0;k>B;B++){u.prepend(aR("<td class='sui-indent-cell' />"))}}}},_renderGroupHeader:function(q,p){var c=this,n=c.contentTable,m=c.columns.length+c.dataSource.group.length-p+1,l=aR("<tr class='sui-group-header' data-group-level='"+p+"' />").appendTo(n),o=aR("<td class='sui-group-header-cell' colspan='"+m+"' />").appendTo(l),j=aR("<span class='sui-collapse'>&#9662;</span>").appendTo(o);aR("<span class='sui-group-header-text'>"+q.field+": "+q.value+"</span>").appendTo(o),j.on(aE,c._expandCollapse=aP(c._expandCollapseHandler,c))},_expandCollapseHandler:function(h){var j,e=this,l=aR(h.currentTarget),k=l.parent().parent();l.hasClass("sui-collapse")?(j=e.trigger(aL,{commandName:bs,cancel:!1,row:k}),j.cancel||(e.collapseGroup(k),l.html("&#9656;"),l.removeClass("sui-collapse").addClass("sui-expand"),e.trigger(bs,{row:k}))):(j=e.trigger(aL,{commandName:aU,cancel:!1,row:k}),j.cancel||(e.expandGroup(k),l.html("&#9662;"),l.removeClass("sui-expand").addClass("sui-collapse"),e.trigger(aU,{row:k})))},_renderDataItem:function(f,k,j){var g=this,h=g.contentTable;g._renderRow(k,h,f).attr("data-group-level",j)},_renderRowsAndDetails:function(k){var j,g,f=this,h=f.contentTable;for(g=0,j=k.length;j>g;g++){f._renderRow(g,h.tbody,f.dataSource.view[g]),f._hasDetailTemplate()&&!f._canExpandCollapse()&&f._addDetailTemplate(k[g])}},_renderRow:function(r,Q,T){var N,X,A,O,W=this,I=aF(Q),V=W.options,M=aJ(V.altRows)?!0:V.altRows,R=M&&r%2&&V.altRowTemplate?V.altRowTemplate:V.rowTemplate,x=W.columns;if(R){bl(R)&&(R=R.replace(/^\s+/,"").replace(/\s+$/,"")),X=aR(aD(R,T)),I&&Q.append(X)}else{if(X=aR("<tr class='"+(M&&r%2?"sui-alt-row":"sui-row")+"'/>"),arguments.length>3){var e=arguments[3],g=Q.find("tr"),k=g.eq(e);g.length==e?Q.append(X):X.insertBefore(k)}else{I&&Q.append(X)}for(O=0;O<x.length;O++){var P,J,S=x[O],L=S.columnTemplate,K=S.format,u=S.field,D=S.buttons,U=aR("<td "+ad(S.attributes)+" class='sui-cell' />").appendTo(X);if(D){for(J=0;J<D.length;J++){W._buildButton(D[J],U,X.get(0).rowIndex)}}else{L?av(L)?(P=L.call(W,U,T,r),aF(P)&&!a9(P)&&""!==P&&U.html(P)):U.html(aD.call(W,L,T)):K?U.html(aD.call(W,K,u?bp(T,u):T)):U.html(""+bp(T,u))}S.visible||U.css(ao,ar)}}return W._hasDetailTemplate()&&W._canExpandCollapse()&&(A=W.trigger(aL,{commandName:ak,cancel:!1,item:T}),A.cancel?N=aR("<td class='sui-cell sui-expand-cell-disabled' />"):(N=aR("<td class='sui-cell sui-expand-cell' />"),W._setExpandCollapseCellText(N,V.detailExpandText,V.detailCollapseText)),N.prependTo(X)),X},_renderFooter:function(){var H,A,G,x,K,L,C,J=this,F=J.columns,B={},I=J.dataSource.aggregates;for(K=0;K<F.length;K++){if(G=F[K].footerTemplate){if(J.options.scrolling&&J.options.scrolling.virtual){var w=aR("<div class='sui-footer' style='padding-right: 16px;' />").appendTo(J.element),r=aR("<div class='sui-footer-content' />").appendTo(w),z=aR("<table class='sui-table' />").appendTo(r),y=J.element.find(".sui-headercontent > table > colgroup > col"),k=aR("<colgroup />").appendTo(z);for(L=0;L<y.length;L++){aR(y[L].outerHTML).appendTo(k)}A=aR("<tbody />").appendTo(z)}else{A=aR("<tfoot />").appendTo(J.contentTable)}H=aR("<tr class='sui-grid-footer' />").appendTo(A);break}}if(H){for(K=0;K<F.length;K++){if(C=aR("<td class='sui-footer-cell' />").appendTo(H),G=F[K].footerTemplate){for(x=F[K].field,L=0;L<I.length;L++){I[L].field==x&&(av(I[L].aggregate)?B.custom=I[L].value:B[I[L].aggregate]=I[L].value)}if(av(G)){var D=G.call(J,C,B);aF(D)&&!a9(D)&&""!==D&&C.html(D)}else{C.html(aD.call(J,G,B))}}}var E=H.prev();(E.find(".sui-expand-cell").length>0||E.find(".sui-expand-cell-disabled").length>0||E.find(".sui-indent-cell").length>0||E.find(".sui-collapse-cell").length>0)&&H.prepend(aR("<td />"))}},_buildButton:function(q,n,g){var c,p=this,o=q.commandName,m=q.click;if(aQ.ui.Button){var b=aR("<button type='button'>"+q.caption+"</button>").appendTo(n);n.addClass("sui-button-cell"),"delete"===o?(m=p._deleteButtonClicked,aJ(q.cls)?q.cls="sui-delete":q.cls+=" sui-delete"):"edit"===o&&(p._editing&&(p._editing.type="row"),p._preventClosingEditors=!0,m=p._editButtonClicked,aJ(q.cls)?q.cls="sui-edit":q.cls+=" sui-edit"),c=new aQ.ui.Button(b,{cls:q.cls,events:{click:aP(m,p,g,n)}}),("delete"==o||"edit"==o)&&(p._buttons||(p._buttons=[]),p._buttons.push({index:g,button:c}))}},_deleteButtonClicked:function(e,j){var h=this,l=h.dataSource,m=h.options.editing?h.options.editing.confirmation:null,k=h.trigger(aL,{commandName:a5,cancel:!1,rowIndex:e});if(!k.cancel){if(m&&m["delete"]&&m["delete"].enabled&&!an.confirm(aD(m["delete"].template,l.view[e]))){return}l.removeAtView(e),h.options.editing&&!h.options.editing.batch&&l.save(!1),h.trigger(a5,{rowIndex:e})}},_editButtonClicked:function(j,l){var m=this,e=m._editing,k=m.dataSource,b=m.trigger(aL,{commandName:bc,cancel:!1,row:aR(l).parent(),cell:l});b.cancel||(m._editingInProcess=!0,k.tracker&&k.tracker.changes&&k.tracker.changes.added&&k.tracker.changes.added.length>0?k.cancel():"popup"!=m.options.editing.mode?(m._closeAllEditedRows(),e&&e.options.enabled&&e._putRowInEditMode(aR(m.contentTable.find("tbody > tr")[j])),m._changeEditColumnButtons(j,l)):aQ.ui.Window&&m._initializePopupForm(j),m.trigger(bc,{row:aR(l).parent(),cell:l}))},_initializePopupForm:function(E,D){var A,K,G,M=this,J=M._editing,z=M.dataSource;A=aR('<div class="sui-modal-popup-edit-window"></div>').appendTo(aM.body),K=aR('<div class="sui-edit-form-container"></div>'),G=M.options.columns;for(var F=0;F<G.length;F++){var L=G[F];if(L.editable!==!1&&L.field){var y=z.schema.options.fields[L.field].type,B=z.editView(E).data,H=bp(B,L.field);M._windowEditingIndex=E,aR('<div class="sui-edit-form-label"><label for="'+L.field+'">'+(L.caption?L.caption:L.field)+"</label></div>").appendTo(K);var I=aR('<div class="sui-edit-field"></div>').appendTo(K);if(L.editor){J._instantiateCustomEditor(L,I,B,0,!1,L.field)}else{switch(y){case Number:J._instantiateNumeric(I,H,!1,L.field);break;case Date:J._instantiateDatePicker(I,H,!1,L.field);break;case String:J._instantiateTextBox(I,H,!1,L.field);break;case Boolean:J._instantiateCheckBox(I,H,!1,L.field)}}}}var C=aR('<div class="sui-update-buttons sui-popup-buttons"></div>').appendTo(K),x=aR("<button type='button'>Save</button>").appendTo(C),d=aR("<button type='button'>Cancel</button>").appendTo(C);if(aQ.ui.Button){var c=new aQ.ui.Button(x,{events:{click:aP(M._updateButtonClicked,M)}}),b=new aQ.ui.Button(d,{events:{click:aP(M._cancelButtonClicked,M)}});M._buttons=[],M._buttons.push({index:10000,button:c}),M._buttons.push({index:10000,button:b})}K.appendTo(aM.body),M.popupWindow=new aQ.ui.Window(A,{title:D?"Insert":"Edit",draggable:{enabled:!1},events:{close:aP(M._cancelButtonClicked,M)},height:aR(".sui-edit-form-container").height()+57,modal:!0}),M.popupWindow.content(K),M.popupWindow.resize({width:aR(".sui-modal-popup-edit-window").width(),height:aR(".sui-edit-form-container").height()+66}),M.trigger(D?ag:al)},_changeEditColumnButtons:function(f,d){var e=this;e._removeButtons(d,f),e._buildButton({caption:"Update",click:e._updateButtonClicked},d,f),e._buildButton({caption:"Cancel",click:e._cancelButtonClicked},d,f),d.addClass("sui-update-buttons")},_removeButtons:function(h,g){for(var f=this,e=f._buttons.length;e--;){f._buttons[e].index==g&&(f._buttons[e].button.destroy(),f._buttons.splice(e,1))}h.removeClass("sui-update-buttons").empty()},_updateButtonClicked:function(d,f){var e=this;return aJ(e._windowEditingIndex)||(d=e._windowEditingIndex),e._updateItem(d,f),e._editing._errorDuringEdit?void (e._editing._errorDuringEdit=!1):(e._putRowInViewMode(d,f),void ("popup"===e.options.editing.mode&&e._removePopupWindow()))},_updateItem:function(q,e){var w,x,u,y,s,h,v,z=this,t=z.dataSource,r=(z.pager,[]),g=!0;if(t.group&&t.group.length>0&&"popup"!=z.options.editing.mode){for(s=z.contentTable.find(".sui-row, .sui-alt-row"),h=z.contentTable.find("tr").get(q),v=0;v<s.length;v++){if(s[v]==h){q=v;break}}}w=t.editView(q);for(y in w.data){w.data.hasOwnProperty(y)&&(null!=w.data[y]&&(g=!1),z._editing._editors[y]&&("custom"==z._editing._editors[y]?(u=z.trigger("getCustomEditorValue",{field:y,value:null}),x=u.value,z._editing._editors[y]=null):x=z._editing._editors[y].value?z._editing._editors[y].value():z._editing._editors[y].checked?z._editing._editors[y].checked():aI,w.data[y]!=x&&r.push(y),(aJ(x)||null==x)&&(x=z._getDefaultValue(y)),w.set(y,x)))}return z._editing._errorDuringEdit?void (r.length=0):(z._editing.options.batch||(u=z.trigger(aL,{commandName:a6,cancel:!1}),u.cancel||(t.save(!1),z.trigger(a6))),z._populateInsertedItem=g,r)},_getDefaultValue:function(h){var f,g=this,e=g.dataSource.schema;if(e&&e.options.fields){switch(e.options.fields[h].type){case Number:f=0;break;case Date:f=new Date;break;case String:f="";break;case Boolean:f=!1}}else{f=""}return f},_closeAllEditedRows:function(l){var k,j,g=this,h=g.contentTable.find(".sui-editable-cell");h.length>0&&(k=h.get(0).parentNode.rowIndex,j=g.contentTable.find(".sui-update-buttons").get(0),g._cancelButtonClicked(k,aR(j)),l&&l.length>0&&g._renderUpdateMarkers(l,k))},_cancelButtonClicked:function(n,m){var j=this,e=j.dataSource,k=j.trigger(aL,{commandName:a7,cancel:!1,rowIndex:n,cell:m});if(!k.cancel){if(e.tracker&&e.tracker.changes&&e.tracker.changes.added&&e.tracker.changes.added.length>0){e.cancel(),"popup"===j.options.editing.mode&&j._removePopupWindow()}else{if("popup"!=j.options.editing.mode){j._putRowInViewMode(n,m)}else{for(var o=j.options.columns,p=0;p<o.length;p++){var l=j._editing._editors[o[p].field];l&&(av(l.destroy)&&j._editing._editors[o[p].field].destroy(),delete j._editing._editors[o[p].field])}j._removePopupWindow()}}j.trigger(a7)}},_removePopupWindow:function(){var c=this;c._removeButtons(aR(".sui-window .sui-update-buttons"),10000),c.popupWindow.destroy(),aR(".sui-modal-popup-edit-window").remove()},_getRowIndex:function(b){return this.contentTable.find(".sui-row, .sui-alt-row").index(b)},_putRowInViewMode:function(C,u){var s,B,A,E,D=this,y=D.dataSource,w=D.contentTable,v=C;if(y.group&&y.group.length>0&&"popup"!=D.options.editing.mode){for(A=w.find(".sui-row, .sui-alt-row"),B=w.find("tr").get(C),E=0;E<A.length;E++){if(A[E]==B){v=E;break}}}s=y.editView(v).data,u&&"popup"!=D.options.editing.mode&&D._removeButtons(u,C),B=w.find("tr").get(C);var x=parseInt(aR(B).attr("data-group-level"),10);for(D._editing._destroyRow(C),B=D._renderRow(v,D.contentTable.tbody,s,C),E=0;x>E;E++){aR("<td class='sui-indent-cell sui-group-intend-cell'/>").prependTo(B)}if(x&&B.attr("data-group-level",x),D._editing.options.batch){var t=B.find(".sui-cell");if(D._markedCells&&D._markedCells[C]){var z,r,q=D._markedCells[C];for(E=0;E<q.length;E++){z=q[E],r=aR(t[z]).html(),aR(t[z]).html("<span class='sui-updated-marker' />"+r)}}}},_renderUpdateMarkers:function(n,p){var o,q,m,j=this,l=j.columns,k=j.contentTable.find("tbody > tr").eq(p).find(".sui-cell");for(o=0;o<n.length;o++){for(q=0;q<l.length;q++){l[q].field===n[o]&&(m=aR(k[q]).html(),aR(k[q]).html("<span class='sui-updated-marker' />"+m),j._markedCells?(j._markedCells[p]||(j._markedCells[p]=[]),j._markedCells[p].push(q)):(j._markedCells={},j._markedCells[p]=[],j._markedCells[p].push(q)))}}},_selection:function(){var d=this,c=d.options;c.selection&&(d._selectable=new ae(d.headerTable,d.contentTable,c.selection,d))},_filtering:function(){var d=this,c=d.options;c.filtering&&c.filtering.enabled&&(d._filter=new aH(d))},_paging:function(h){var f,j=this,b=j.element;aQ.ui.Pager&&h&&(a8(h)&&h instanceof aQ.ui.Pager?(j.pager=h,j.pager.dataSource=j.dataSource,j.pager.element.appendTo(b)):(f=aR("<div />").appendTo(b),f.addClass("sui-pager"),j.pagerWrapper=f,j.pager=new aQ.ui.Pager(f.get(0),aK({},h,{dataSource:j.dataSource}))))},_reorder:function(){var d=this,c=d.options;c.columnReorder&&(d._columnReorder=new aY(d))},_expandCollapseDetailTemplate:function(f){var e=this,g=aR(f.target).closest(".sui-row",e.contentTable);g.length||(g=aR(f.target).closest(".sui-alt-row",e.contentTable)),e._toggleDetailTemplate(g)},_toggleDetailTemplate:function(q){var p,j=this,m=j.contentTable.find("tr:first").parent().children().not(".sui-detail-row"),l=bj(q[0],m),k=j.dataSource.view,o=q.next(),n=j.options;o&&o.hasClass("sui-detail-row")?(o.toggle(),p=aR(q.get(0).cells[0]),j._toggleClasses(p,"sui-expand-cell","sui-collapse-cell"),j._setExpandCollapseCellText(p,n.detailExpandText,n.detailCollapseText)):j._addDetailTemplate(k[l],q)},_setExpandCollapseCellText:function(g,j,h){aJ(h)&&(h="-"),aJ(j)&&(j="+");var f=this.options.detailCollapseCssClass,k=this.options.detailExpandCssClass;f=aJ(f)?"":" class = '"+f+"'",k=aJ(k)?"":" class = '"+k+"'",g.hasClass("sui-collapse-cell")?g.html("<span"+f+">"+h+"</span>"):g.hasClass("sui-expand-cell")&&g.html("<span"+k+">"+j+"</span>")},_addDetailTemplate:function(n,r){var m,s=this,q=s.options,p=aR("<tr class='sui-detail-row'/>");s._canExpandCollapse()&&(m=aR("<td class='sui-cell sui-indent-cell'/>"),am&&m.html("&nbsp;"),m.appendTo(p));var o=aR('<td class="sui-detail-cell" colspan="'+s.columns.length+'"></td>'),e=s.trigger(aL,{commandName:ah,cancel:!1,detailCell:o,item:n});if(!e.cancel&&(o.appendTo(p),q.detailTemplate&&o.html(aD(q.detailTemplate,n)),r?p.insertAfter(r):p.appendTo(s.contentTable.tbody),s.trigger(ah,{detailCell:o,item:n}),r)){var k=aR(r.get(0).cells[0]);s._toggleClasses(k,"sui-expand-cell","sui-collapse-cell"),s._setExpandCollapseCellText(k,q.detailExpandText,q.detailCollapseText)}},_toggleClasses:function(e,d,f){e.hasClass(d)?(e.removeClass(d),e.addClass(f)):(e.removeClass(f),e.addClass(d))},_resizing:function(){var b=this;b.options.resizing&&b.options.scrolling&&(b._columnResizing=new aV(b))},_initToolbar:function(){var d=this,c=d.options;c.toolbar&&(d._toolbar=new aO(c.toolbar,d))},_initEditing:function(){var d=this,c=d.options;c.editing&&(d._buttons=[],d._editing=new bB(c.editing,d))},_refreshOnSort:function(){this._sortingInProgress=!0,this.dataSource.read()},_updateGrid:function(){var e=this,b=aQ.extend([aB],e.options,b);e.sorting&&(e.sorting.destroy(),e.sorting=null),e.headerWrapper.find(".sui-headercell .sui-link").each(function(g,h){var f=aR(h);f.parent().html(f.html())}),e.headerWrapper.find('.sui-headercell span[class^="sui-"]').remove(),e._sorting()},_dsStartHandler:function(){this.loading(!0)},refresh:function(t){var q,u=this,p=t?t.dataSource:null,o=u._eventNS;t=aQ.extend([aB],u.options,t),p&&(t.dataSource=p);var m,c=t.scrolling,b=u.pager?u.pager.options:t.paging,s=0;c&&u.contentWrapper&&(s=u.contentWrapper.get(0).scrollLeft),u._destroyInternal(),m=u.dataSource=aZ.create(t.dataSource),m.on(aG+o,aP(u._renderData,u)).on(by+o,aP(u._dsStartHandler,u)),u._resolveColumns(t.columns),u._createWrappers();for(var r=0;r<u.options.columns.length;r++){if(u.options.columns[r].locked){q=!0;break}}q&&(aR("<div class='sui-header-locked'>").appendTo(u.headerWrapper),aR("<div class='sui-content-locked'>").appendTo(u.contentWrapper)),u._createHeaderTable(),u._createContentTable(),u._initToolbar(),u._initEditing(),u._selection(),u._paging(b),u._resizing(),u._reorder(),u._filtering(),u.pager||u.dataSource.read(),u._sorting(),u._rsNS=".rs"+u.getInstanceId(),aR(an).on(aS+u._rsNS,u._resize=aP(u._resizeHandler,u)),s&&(u.contentWrapper.get(0).scrollLeft=s)},_createHeaderFrozenContainer:function(){},loading:function(g,f){var b=this,h=function(){b.loadingPanel&&b.loadingPanel.show()};aQ.ui.LoadingPanel&&(g?(b.loadingPanel||(b.loadingPanel=new aQ.ui.LoadingPanel(b.element.get(0))),f?h():b.loadingPanelTimeout=setTimeout(h,50)):b.loadingPanel&&(clearTimeout(b.loadingPanelTimeout),b.loadingPanelTimeout=null,b.loadingPanel.hide()))},select:function(e){var f=this,g=f._selectable;return e=bl(e)?f.contentTable.find(e):aR(e),e.length?(g.multiple||(g.clear(),e=e.first()),void g.select(e)):g.select()},selectedRowIndices:function(){var e=this,g=[],f=[];return e.contentTable.children("tbody").children(".sui-row, .sui-alt-row").each(function(b){aR(this).hasClass(aC)&&(g.push(b),f.push(e.dataSource.getDataIndex(b)))}),{view:g,data:f}},clearSelection:function(){this._selectable.clear()},sort:function(e,d,f){this.sorting&&this.sorting._sort(e,d,f)},_getItemRow:function(c){return aR(bD(c)?this.contentTable.children("tbody").children(".sui-row, .sui-alt-row").get(c):c)},expandRow:function(g){var f=this,e=f._getItemRow(g),h=e.next();h.hasClass("sui-detail-row")?h.css(ao)==ar&&f._toggleDetailTemplate(e):f._toggleDetailTemplate(e)},collapseRow:function(g){var e=this,f=e._getItemRow(g),h=f.next();h.hasClass("sui-detail-row")?h.css(ao)!=ar&&e._toggleDetailTemplate(f):(e._toggleDetailTemplate(f),f.next().toggle())},reorderColumn:function(u,t){var s,r=this,q=r.element,p=r.columns,o=r.options.columns||[],l=r.headerWrapper,n="before",m=l.find(".sui-indent-cell").length;if(u=+u,t=+t,isNaN(u)||isNaN(t)||0>u||0>t||u>p.length-1||t>p.length-1){throw new Error("Invalid index in column reorder.")}u!==t&&(t>u&&(n="after"),s=p.splice(u,1)[0],p.splice(t,0,s),s=o.splice(u,1)[0],o.splice(t,0,s),u+=m,t+=m,q.find(".sui-gridheader col:nth-child("+(u+1)+")").add(q.find(".sui-gridheader .sui-columnheader th:nth-child("+(u+1)+")")).add(q.find(".sui-gridcontent col:nth-child("+(u+1)+")")).add(q.find(".sui-gridcontent tr:not(.sui-detail-row) td:nth-child("+(u+1)+")")).each(function(){aR(this).parent().children().eq(t)[n](this)}))},addRow:function(b){return this.dataSource.add(aF(b)?b:{})},insertRow:function(c,d){return this.dataSource.insertView(c,aF(d)?d:{})},saveChanges:function(){this.dataSource.save()},revertChanges:function(){this.dataSource.cancel()},dataItem:function(b){return this.dataSource.view[b]},editCell:function(e,h){var f=this,g=f.contentTable.find("tbody > tr").eq(e).find("td").eq(h).get(0);f._editingInProcess=!0,f._editing._putCellInEditMode(g,e)},editRow:function(g){var e=this,f=e.contentTable.find("tbody > tr").eq(g).get(0);e._editingInProcess=!0,e._editing._putRowInEditMode(aR(f),0)},cancelEditing:function(){var j,h,f=this,g=f.contentTable.find(".sui-editable-cell");g.length>0&&(j=g.get(0).parentNode.rowIndex,h=f.contentTable.find(".sui-update-buttons").get(0),f._putRowInViewMode(j,aR(h)))},deleteRow:function(b){this.dataSource.removeAtView(b)},filter:function(){var f=this,e=f.dataSource,d=[].slice.call(arguments);return d.length>0?(e.filter=d[0],void e.read()):e.filter},group:function(g,j,m,l){var h=this,k=h.dataSource.group;k?k.splice(j,0,{field:g,order:m,aggregates:l}):(h.dataSource.group=[],h.dataSource.group.push({field:g,order:m,aggregates:l}))},ungroup:function(g){var f=this,e=f.dataSource.group;f.headerTable.thead.find(".sui-columnheader > .sui-indent-cell").remove();for(var h=0;h<e.length;h++){e[h].field==g&&(e.splice(h,1),0===e.length&&(f.dataSource.group=null),f.dataSource.read())}},collapseGroup:function(f){for(var e=!0,h=parseInt(f.attr("data-group-level"),10);e;){if(f=f.next().css(ao,ar),f.next().length>0){var g=parseInt(f.next().attr("data-group-level"),10);h>=g&&f.next().hasClass("sui-group-header")&&(e=!1)}else{e=!1}}},expandGroup:function(f){for(var e=!0,h=parseInt(f.attr("data-group-level"),10);e;){if(f=f.next().css(ao,""),f.hasClass("sui-group-header")&&f.find(".sui-expand").length>0){return}if(f.next().length>0){var g=parseInt(f.next().attr("data-group-level"),10);h>=g&&f.next().hasClass("sui-group-header")&&(e=!1)}else{e=!1}}},_getColumnByField:function(h){var f,g=this,e=g.columns||[];for(f=0;f<e.length;f++){if(e[f].field===h){return e[f]}}return aI},_getColumnIndexByField:function(h){var f,g=this,e=g.columns||[];for(f=0;f<e.length;f++){if(e[f].field===h){return f}}return -1},hideColumn:function(w){var x,y=this,u=y._getColumnByField(w),t=aR(y.element),o=aR(t.find(".sui-gridheader colgroup").first().find("col"));if(!y._gridColumns){var p=y.columns;for(y._gridColumns=[],x=0;x<p.length;x++){y._gridColumns.push({name:p[x].field,index:x,hidden:!1,col:null})}}if(u){if(!u.visible){return}u.visible=!1}var n=aR.grep(y._gridColumns,function(d,c){return d.name===w})[0],s=y._getRealIndex(n),r=o[s],q=aR(t.find("> .sui-gridcontent colgroup").first().find("col")[s]);for(x=0;x<y._gridColumns.length;x++){var v=y._gridColumns[x];if(v.name===w){v.hidden=!0,v.col=r,v.contentCol=q;break}}aR(r).remove(),aR(q).remove(),y._changeColumnVisibility(w,"hide")},_getRealIndex:function(e){var g=aR.grep(this._gridColumns,function(d,c){return !d.hidden}),f=aR.inArray(e,g);return f},_getNextVisibleColumnRealIndex:function(f){var j=aR.grep(this._gridColumns,function(b,d){return b.index>f.index&&!b.hidden})[0],h=aR.grep(this._gridColumns,function(d,c){return !d.hidden}),g=aR.inArray(j,h);return g},showColumn:function(s){var y=this,u=y._getColumnByField(s),w=aR(y.element),n=aR(w.find(".sui-gridheader colgroup").first().find("col")),o=aR(w.find("> .sui-gridcontent colgroup").first().find("col"));if(y._gridColumns){var x=aR.grep(y._gridColumns,function(d,c){return d.name===s})[0],t=x.col,q=x.contentCol,v=y._getNextVisibleColumnRealIndex(x),p=aR(w.find(".sui-gridheader colgroup").first()),r=aR(w.find("> .sui-gridcontent colgroup").first());if(-1===v?(p.append(t),r.append(r)):0===v?(aR(t).prependTo(p),aR(q).prependTo(r)):(aR(t).insertBefore(n[v]),aR(q).insertBefore(o[v])),x.hidden=!1,u){if(u.visible){return}u.visible=!0}y._changeColumnVisibility(s,"show")}},_changeColumnVisibility:function(k,o){var j,q,n=this,p=aR(n.element),m=p.find(".sui-columnheader").first(),l=n._getColumnIndexByField(k);for(m.length&&aR(m.find("th")[l])[o](),j=p.find("> .sui-gridcontent > table > tbody > tr"),0===j.length&&(j=p.find("> .sui-gridcontent > .sui-virtualized > table > tbody > tr")),q=0;q<j.length;q++){aR(j[q].cells[l])[o]()}},_getVisibleColumnFields:function(){return be(bf(this.columns,function(b){return b.visible}),function(b){return b.field})},exportExcel:function(){this._doExcelExport()},exportPdf:function(){this._doPdflExport()},_doExcelExport:function(){var v,y,u,q,w,s,f,r,x=this,e=x.options,h=[],t=[];bi&&(f=x.trigger(aL,{commandName:"exportExcel",cancel:!1,exportOptions:aK(!0,{},e.exportOptions)}),f.cancel||(x.loading(!0,!0),setTimeout(function(){v=aK(!0,{proxy:aI,excel:{fileName:"Untitled",fileFormat:"xlsx",noLegacyFallback:!1,author:aI,created:new Date,producer:aI,dataSource:aI,readDataSource:!1,columnFields:aI,header:{enabled:!0,style:{bold:!0},cells:aI},worksheet:{name:"Sheet1",columns:aI},worksheets:[],worksheetIndex:0}},f.exportOptions),y=v.excel,w=y.columnFields,w||(w=x._getVisibleColumnFields()),s=w.length,y.worksheet.columns||(y.worksheet.columns=be(w,function(b){return{autoWidth:!0}})),q=aK(!0,{},y.worksheet),y.header&&y.header.enabled&&(y.header.cells?t.push({cells:y.header.cells}):t.push({cells:be(w,function(b){var g=x._getColumnByField(b);return{type:String,value:aF(g)&&g.title?g.title:b,style:y.header.style}})})),u=aZ.create(y.dataSource?y.dataSource:x.dataSource),r=function(){var C,d,k,g,B=u.view||[],m=B.length,b=[];for(k=0;s>k;k++){b[k]=bp(u,"schema.options.fields."+w[k]+".type")}for(k=0;m>k;k++){var j,c,z=B[k],A=x.trigger(aL,{commandName:"exportExcelRow",cancel:!1,item:z,index:k,row:{}}),n=[];if(!A.cancel){for(j=aK(!0,{},A.row),g=0;s>g;g++){c={type:aF(j.type)?j.type:b[g],value:aF(j.value)?j.value:bp(z,w[g])},j.cells&&j.cells[g]&&aK(!0,c,j.cells[g]),n.push(c)}t.push({index:j.index,height:j.height,cells:n})}}q.rows=t,h=[].slice.call(y.worksheets),h.splice(y.worksheetIndex,0,q),d={created:y.created,author:y.author,worksheets:h},C="xml"==y.fileFormat?new bi.ExcelXMLSpreadsheet(d):new bi.OOXMLWorkbook(d),C.saveAs({fileName:y.fileName,forceExt:v.forceExt,proxy:v.proxy}),x.loading(!1)},y.readDataSource?u.read().always(r):r()},100)))},_doPdfExport:function(){var t,w,p,u,f,h,q,s,r,v=this,e=v.options;bi&&(h=v.trigger(aL,{commandName:"exportPdf",cancel:!1,exportOptions:aK(!0,{},e.exportOptions)}),h.cancel||(v.loading(!0,!0),setTimeout(function(){t=aK(!0,{proxy:aI,pdf:{fileName:"Untitled",author:aI,created:new Date,size:"a4",orientation:"portrait",fontSize:10,dataSource:aI,readDataSource:!1,columnFields:aI,header:{enabled:!0,cells:aI},margins:{left:72,top:72,bottom:72,right:72}}},h.exportOptions),w=t.pdf,u=w.columnFields,u||(u=v._getVisibleColumnFields()),f=u.length,w.header&&(r=!!w.header.enabled,w.header.cells&&(s=[].concat(w.header.cells))),aF(r)||(r=!0),aF(s)||(s=be(u,function(b){var d=v._getColumnByField(b);return{field:b,title:d.title||b,width:d.width||aI}})),p=aZ.create(w.dataSource?w.dataSource:v.dataSource),q=function(){var z,g,d,j,y=p.view||[],l=y.length,x=[],b=w.margins;for(z=0;l>z;z++){g=y[z],d=v.trigger(aL,{commandName:"exportPdfRow",cancel:!1,item:g,index:z,row:{}}),d.cancel||x.push(aK(!0,g,d.row))}j=new bi.PDFDocument({author:w.author,created:w.created}),j.addPage(w.size,w.orientation),j.table(b.left,b.top,x,s,{margins:b,printHeader:r,fontSize:w.fontSize}),j.saveAs({fileName:w.fileName,forceExt:t.forceExt,proxy:t.proxy}),v.loading(!1)},w.readDataSource?p.read().always(q):q()},100)))}});bx.defaults=bd,aQ.ui.plugin("Grid",bx)}(jQuery,shield,this);!function(ap,am,Q,ak){var K,W,ab=am.ui.Widget,aa=(am.Class,document,Math.abs),ah=(Math.min,Math.max,Math.floor),ai=ap.proxy,al=(ap.each,ap.map,am.Constants.KeyCode),U=am.format,O=am.error,ag=am.is,af=ag.defined,P=(ag.string,ag.object,ag.func,am.to.number),M="value",N="tabindex",aj="disabled",an="horizontal",S="both",ac="top",R="bottom",ae="left",V="up",I="right",Y="down",X="click",J="keydown",T="slide",L="change",Z="focus",ad="blur",ao="px";K={cls:ak,orientation:an,min:0,max:100,value:ak,step:1,largeStep:2,enabled:!0,buttons:!1,values:{enabled:!0,template:"{0}"},ticks:{enabled:!1,type:S,step:1},tooltip:{enabled:!1,template:"{0}"},width:ak,height:ak,events:{}},W=ab.extend({init:function(){ab.fn.init.apply(this,arguments);var q,o,n,c=this,p=c.options,k=p.cls,m=p.value,h=p.dieOnError;p.orientation==an;return c._original=o=ap(c.element),"input"!==o.prop("tagName").toLowerCase()?void O("shieldSlider: Underlying element is not INPUT",h):(c.element=q=o.wrap('<div class="sui-slider sui-slider-'+p.orientation+(k?" "+k:"")+'" />').parent(),o.hide(),n=o.attr(N),q.attr(N,af(n)?n:"0"),c._focusHandler=ai(c._focus,c),q.on(Z,c._focusHandler),c._blurHandler=ai(c._blur,c),q.on(ad,c._blurHandler),c._keyDownProxy=ai(c._keyDown,c),q.on(J,c._keyDownProxy),ap(Q).on("resize.shieldSlider"+c.getInstanceId(),ai(c._onWinResize,c)),af(p.width)&&q.css("width",p.width),af(p.height)&&q.css("height",p.height),c._buttonOffset=5,c._buttonScaleOffset=20,c._width=q.innerWidth(),c._height=q.innerHeight(),c._buttons=c._createButtons(),c._scale=c._createScale(),c._ticks=c._createTicks(),c._createBar(),c._showValues(),c._elWidth=q.width(),c._elHeight=q.height(),af(m)||(m=P(c._value())),c.value(m),void c.enabled(p.enabled))},refresh:function(b){this.refreshWithElement(this._original,b)},_createButtons:function(){var q,m,p,c=this,l=c.options,k=l.orientation,o=k==an,n=[];if(l.buttons){return q=ap('<div class="sui-slider-button sui-unselectable" unselectable="on" />').appendTo(c.element),m=ap('<div class="sui-slider-button-arrow-'+(o?ae:V)+' sui-unselectable" unselectable="on" />').appendTo(q),p=q.outerWidth(),q.css({left:o?c._buttonOffset:(c._width-p)/2,top:o?(c._height-p)/2:c._buttonOffset}),q.click(function(){c._hasFocus||c.element.focus(),c._stepPrev()}),n.push(q),q=ap('<div class="sui-slider-button sui-unselectable" unselectable="on" />').appendTo(c.element),m=ap('<div class="sui-slider-button-arrow-'+(o?I:Y)+' sui-unselectable" unselectable="on" />').appendTo(q),q.css({left:o?c._width-(c._buttonOffset+p):(c._width-p)/2,top:o?(c._height-p)/2:c._height-(c._buttonOffset+p)}),q.click(function(){c._hasFocus||c.element.focus(),c._stepNext()}),n.push(q),n}},_createScale:function(){var c=this,h=c.options,j=h.orientation,k=j==an,l=c._buttons?c._buttons[0].outerWidth():0,m=ap('<div class="sui-slider-scale sui-slider-scale-'+j+' sui-unselectable" unselectable="on" />').appendTo(c.element);return m.css({left:k?c._buttonOffset+l+c._buttonScaleOffset:(c._width-m.outerWidth())/2,top:k?(c._height-m.outerHeight())/2:c._buttonOffset+l+c._buttonScaleOffset}),k?m.width(c._width-2*(c._buttonOffset+c._buttonScaleOffset+l)):m.height(c._height-2*(c._buttonOffset+c._buttonScaleOffset+l)),m.on(X,ai(c._scaleClick,c)),m},_scaleClick:function(f){var w,y,x,v,z,A=this,r=A.options.orientation,u=r==an,t=f.originalEvent,q=u?t.clientX:t.clientY,s=A.element.offset(),c=ah(u?s.left:s.top);if(A._hasFocus||A.element.focus(),A._enabled){for(z=0;z<A._ticks.length;z++){w=A._ticks[z],y=aa(q-(w.tick+c)),(x===ak||x>y)&&(x=y,v=w)}A._moveBar(v)}},_keyDown:function(x){var z=this,p=z.options.orientation,w=p==an,v=x.originalEvent,y=v.keyCode,c=z._ticks.length-1,s=y===(w?al.LEFT:al.UP),r=y===(w?al.RIGHT:al.DOWN),u=y===(w?al.PAGEDOWN:al.PAGEUP),t=y===(w?al.PAGEUP:al.PAGEDOWN),e=y==al.HOME,q=y==al.END;!v.ctrlKey&&z._enabled&&(s||u?(z._stepPrev(u),x.preventDefault()):r||t?(z._stepNext(t),x.preventDefault()):e?(z._moveBar(z._ticks[0]),x.preventDefault()):q&&(z._moveBar(z._ticks[c]),x.preventDefault()))},_createTicks:function(){var av,F,ay,ax,H,c,ar,az,aB=this,at=aB.options,z=at.orientation,aw=z==an,aq=at.max,f=at.min,t=at.step,l=at.ticks,au=l.type,G=l.step,E=0,aA=ah((aq-f)/t),b=ak,n=0;for(F=[],ax=aw?aB._scale.outerWidth():aB._scale.outerHeight(),ax>=aA?(H=ah(ax/aA),E=ax%aA,c=ax/aA-H):(b=aA/ax*t,aA=ax,H=1,t=1),ar=aw?aB._scale.position().left:aB._scale.position().top,az=0;aA>=az;az++){ay={value:f+az*(b||t),tick:ar},F.push(ay),n+=c,n>=1&&(ar++,n--),ar+=H}if(l.enabled){for(az=0;aA>=az;az+=G){ay=F[az],(au===ac||au===ae||au===S)&&(av=aB._createTick(),av.css({left:aw?ay.tick+ao:aB._scale.position().left-av.outerWidth()+ao,top:aw?aB._scale.position().top-av.outerHeight()+ao:ay.tick+ao})),(au===R||au===I||au===S)&&(av=aB._createTick(),av.css({left:aw?ay.tick+ao:aB._scale.position().left+aB._scale.outerWidth()+ao,top:aw?aB._scale.position().top+aB._scale.outerHeight()+ao:ay.tick+ao}))}}return F},_createTick:function(){return ap('<div class="sui-slider-tick sui-slider-tick-'+this.options.orientation+' sui-unselectable" unselectable="on" />').insertAfter(this._scale)},_showValues:function(){var t,r,q,u=this,s=u.options,n=s.orientation,p=n==an,m=s.max,c=s.min,o=(s.step,s.values||{});if(o.enabled){for(q=0;q<u._ticks.length;q++){t=u._ticks[q],(t.value===c||t.value===m)&&(r=ap('<div class="sui-slider-mark sui-unselectable" unselectable="on">'+U(o.template,t.value)+"</div>").insertAfter(u._scale),r.css({left:p?t.tick-2-r.width()/2:u._scale.position().left+u._scale.outerWidth()+u._bar.width()/2,top:p?u._scale.position().top-u._scale.height()-u._bar.width()/2:t.tick-r.height()/2}))}}},_createBar:function(){var p,c,b,f,d,o,q=this,n=q.options.orientation==an;for(q._bar=p=ap('<div class="sui-slider-bar sui-unselectable" id="'+am.strid()+'" unselectable="on" />').appendTo(q.element).mousedown(function(){q._hasFocus||q.element.focus()}),c=(p.innerWidth()-q._scale.outerHeight())/2+1,b=(p.innerWidth()-q._scale.outerWidth())/2+1,p.css({left:n?q._scale.position().left-p.outerWidth()/2+ao:q._scale.position().left-b+ao,top:n?q._scale.position().top-c+ao:q._scale.position().top-p.outerWidth()/2+ao}),d=[],o=0;o<q._ticks.length;o++){f=q._ticks[o],d.push({x:n?f.tick-p.outerWidth()/2:ak,y:n?ak:f.tick-p.outerWidth()/2})}q._dragBar=new am.ui.Draggable(p,{allowedPositions:d,events:{drag:function(e){q._changeTooltipValue(!0),q.trigger(T)},stop:function(e){q._value(q.value()),q._tooltip&&ap("#"+q._bar.attr("id")+":hover").length<=0&&q._tooltip.visible(!1),q.trigger(L,{value:q.value()})}}}),q._createTooltip()},_stepNext:function(c){var q,p,n,k=this,o=k.options,m=(o.orientation==an,o.step),l=o.largeStep;k._enabled&&(c=!!c,q=k._getCurrentTickInfoIndex(),p=c?q+ah(l/m):q+1,p>=k._ticks.length||(n=k._ticks[p],k._moveBar(n)))},_stepPrev:function(c){var q,p,n,k=this,o=k.options,m=(o.orientation==an,o.step),l=o.largeStep;k._enabled&&(c=!!c,q=k._getCurrentTickInfoIndex(),p=c?q-ah(l/m):q-1,0>p||(n=k._ticks[p],k._moveBar(n)))},_moveBar:function(j,c){var b=this,h=b.options.orientation==an,k=b._bar;j&&(k.css({left:h?j.tick-k.outerWidth()/2+ao:k.css(ae),top:h?k.css(ac):j.tick-k.outerWidth()/2+ao}),b._changeTooltipValue(),b._value(b.value()),c||b.trigger(L,{value:b.value()}))},_createTooltip:function(){var d=this,h=d.options,c=h.tooltip,g=h.orientation==an;c&&c.enabled&&(d._tooltip=new am.ui.Tooltip(d._bar,{content:U(c.template,d.value()),position:g?ac:ae,delay:0}))},_changeTooltipValue:function(j){var k,g=this,h=g.options.tooltip,f=g._tooltip;f&&(k=U(h.template,g.value()),f.options.content!==k&&f.refresh({content:k,enabled:g._enabled}),j&&f.visible(!0,g._bar))},_getCurrentTickInfoIndex:function(){var u,v,t,s=this,c=s.options.orientation==an,n=s._ticks,r=s._bar,o=c?r.position().left:r.position().top,m=r.outerWidth()/2,p=Number.POSITIVE_INFINITY,q=-1;for(v=0;v<n.length;v++){if(u=n[v].tick-m,o==u){return v}t=aa(o-u),p>t&&(p=t,q=v)}return q},_getTickInfoIndexByValue:function(h){var f,g=this,e=g._ticks;for(f=0;f<e.length;f++){if(h==e[f].value){return f}}return -1},_focus:function(e){var d=this;d._hasFocus||(d._hasFocus=!0,ap(d.element).addClass("sui-slider-focus"),d.trigger(Z))},_blur:function(e){var d=this;d._hasFocus&&(d._hasFocus=!1,ap(d.element).removeClass("sui-slider-focus"),d.trigger(ad))},_onWinResize:function(c){var d=this;d._onWinResTimeout&&clearTimeout(d._onWinResTimeout),d._onWinResTimeout=setTimeout(ai(d._winResized,d),100)},_winResized:function(){var d=this,c=d.element;(d._elWidth!==c.width()||d._elHeight!==c.height())&&d.refresh()},_value:function(){return this._original.attr.apply(this._original,[M].concat([].slice.call(arguments)))},value:function(){var f,k,g=this,h=g.options.min,j=[].slice.call(arguments);return j.length>0?(k=g._getTickInfoIndexByValue(j[0]),void (-1!==k&&(f=g._ticks[k],g._moveBar(f,!0)))):(k=g._getCurrentTickInfoIndex(),f=g._ticks[k],f?f.value:h)},enabled:function(){var l,g=this,k=ap(g.element),j=g._original,h=[].slice.call(arguments);return h.length>0?(l=!!h[0],l?(k.removeAttr(aj).removeClass("sui-slider-disabled"),j.removeAttr(aj)):(k.attr(aj,aj).addClass("sui-slider-disabled"),j.attr(aj,aj)),g._enabled=l,g._dragBar.enabled(l),g._tooltip&&g._tooltip.enabled(l),void 0):g._enabled},destroy:function(){var e,d=this;if(ap(Q).off("resize.shieldSlider"+d.getInstanceId()),clearTimeout(d._onWinResTimeout),d._onWinResTimeout=null,ap(d.element).off(J,d._keyDownProxy).off(Z,d._focusHandler).off(ad,d._blurHandler),d._dragBar&&(d._dragBar.destroy(),d._dragBar=null),d._buttons){for(e=0;e<d._buttons.length;e++){d._buttons[e].off(X)}}d._tooltip&&(d._tooltip.destroy(),d._tooltip=null),ap(d.element).find(".sui-slider-scale, .sui-slider-mark, .sui-slider-tick, .sui-slider-bar, .sui-slider-button").remove(),d._original.unwrap().show(),d._scale.off(X),d._original=d._buttons=d._bar=d._scale=d._ticks=d._focusHandler=d._blurHandler=d._keyDownProxy=d._winResHandler=null,ab.fn.destroy.call(d)}}),W.defaults=K,am.ui.plugin("Slider",W)}(jQuery,shield,this);!function(ac,aa,F,Y){var G,R,ad,Z,H,M,I,O=aa.ui.Widget,K=aa.Class,N=aa.DataSource,L=(document,Math.abs,Math.min),D=Math.max,T=Math.pow,U=(Math.floor,ac.proxy),V=(ac.each,ac.map,aa.format),C=aa.to["int"],J=aa.error,W=aa.is,S=W.defined,E=(W.string,W.object,W.func,aa.to.number,"squarified"),ab="horizontal",X="vertical",P="click",Q="disabled";ad=K.extend({init:function(f,k,j,h){var g=this;g.left=f,g.top=k,g.width=j,g.height=h},getSize:function(){return L(this.width,this.height)},getRowContainers:function(q){var r,p=this,o=p.left,n=p.top,j=p.sum(q),m=j/p.height,l=j/p.width,k=[];if(p.width>=p.height){for(r=0;r<q.length;r++){k.push({left:o,top:n,right:o+m,bottom:n+q[r].targetValue/m,dataItem:q[r]}),n+=q[r].targetValue/m}}else{for(r=0;r<q.length;r++){k.push({left:o,top:n,right:o+q[r].targetValue/l,bottom:n+l,dataItem:q[r]}),o+=q[r].targetValue/l}}return k},remainingArea:function(m){var p,o,l,k,n,j=this;return j.width>=j.height?(p=m/j.height,l=j.width-p,n=new ad(j.left+p,j.top,l,j.height)):(o=m/j.width,k=j.height-o,n=new ad(j.left,j.top+o,j.width,k)),n},sum:function(d){var e,f=0;for(e=0;e<d.length;e++){f+=d[e].targetValue}return f}}),Z=K.extend({init:function(){},sort:function(b){b.sort(function(d,c){return c.targetValue-d.targetValue})},sum:function(d){var e,f=0;for(e=0;e<d.length;e++){f+=d[e].targetValue}return f},min:function(f){var e,d=Y;for(e=0;e<f.length;e++){(!S(d)||d>f[e].targetValue)&&(d=f[e].targetValue)}return d},max:function(f){var e,d=Y;for(e=0;e<f.length;e++){(!S(d)||d<f[e].targetValue)&&(d=f[e].targetValue)}return d}}),Z.create=function(b){return b===E?new I:b===ab?new H:new M},H=Z.extend({init:function(){Z.fn.init.apply(this,arguments)},execute:function(x,B,g,A,ae){var v,y,ag,z,af,w,u=this,c=u.sum(x),t=B.left,s=B.top;for(ae||(ae=ab),u.sort(x),w=0;w<x.length;w++){ag=x[w],v=ae===ab?B.width*ag.targetValue/c:B.width,y=ae===ab?B.height:B.height*ag.targetValue/c,ag.items&&0!==ag.items.length?(z=A.createGroup(g,new ad(t,s,v,y)),af=A.createTitle(z,A.getItemText(ag)),af=new ad(af.left-z.position().left,af.top-z.position().top,af.width,af.height),u.execute(ag.items,af,z,A,ae===ab?X:ab)):A.createItem(g,{left:t,top:s,width:v,height:y,dataItem:ag}),ae===ab?t+=v:s+=y}}}),M=Z.extend({init:function(){Z.fn.init.apply(this,arguments)},execute:function(x,B,g,A,ae){var v,y,ag,z,af,w,u=this,c=u.sum(x),t=B.left,s=B.top;for(ae||(ae=X),u.sort(x),w=0;w<x.length;w++){ag=x[w],y=ae===X?B.height*ag.targetValue/c:B.height,v=ae===X?B.width:B.width*ag.targetValue/c,ag.items&&0!==ag.items.length?(z=A.createGroup(g,new ad(t,s,v,y)),af=A.createTitle(z,A.getItemText(ag)),af=new ad(af.left-z.position().left,af.top-z.position().top,af.width,af.height),u.execute(ag.items,af,z,A,ae===X?ab:X)):A.createItem(g,{left:t,top:s,width:v,height:y,dataItem:ag}),ae===X?s+=y:t+=v}}}),I=Z.extend({init:function(){Z.fn.init.apply(this,arguments)},execute:function(m,p,n,u){var o,q,w,s,v,r,t=this;for(t.sort(m),o=t._squarifyCore(t._normalize(m,p.width*p.height,u),[],p,[]),q=t._getTreemap(o),r=0;r<q.length;r++){w=q[r],w.dataItem.items&&0!==w.dataItem.items.length?(s=u.createGroup(n,new ad(w.left,w.top,w.right-w.left,w.bottom-w.top)),v=u.createTitle(s,u.getItemText(w.dataItem)),v=new ad(v.left-s.position().left,v.top-s.position().top,v.width,v.height),t.execute(w.dataItem.items,v,s,u)):u.createItem(n,{left:w.left,top:w.top,width:w.right-w.left,height:w.bottom-w.top,dataItem:w.dataItem})}},_squarifyCore:function(p,k,j,q){var m,n,l,o=this;return 0===p.length?void q.push(j.getRowContainers(k)):(m=j.getSize(),n=p[0],o._verifyRatio(k,n,m)?(k.push(n),o._squarifyCore(p.slice(1),k,j,q)):(l=j.remainingArea(o.sum(k)),q.push(j.getRowContainers(k)),o._squarifyCore(p,[],l,q)),q)},_getTreemap:function(h){var f,e,g=[];for(f=0;f<h.length;f++){for(e=0;e<h[f].length;e++){g.push(h[f][e])}}return g},_verifyRatio:function(j,k,o){var h,n,m,l=this;return 0===j.length?!0:(h=j.slice(),h.push(k),n=l._calculateRatio(j,o),m=l._calculateRatio(h,o),n>=m)},_calculateRatio:function(h,m){var g=this,k=g.min(h),j=g.max(h),l=g.sum(h);return D(T(m,2)*j/T(l,2),T(l,2)/(T(m,2)*k))},_normalize:function(q,p,l){var k,o=this,n=o.sum(q),m=p/n,j=[];for(k=0;k<q.length;k++){j[k]=q[k],j[k].targetValue=j[k].targetValue*m}return j}}),G={cls:Y,enabled:!0,width:Y,height:Y,title:Y,dataSource:Y,readDataSource:!0,type:"squarified",valueTemplate:"{value}",textTemplate:"{title}",colorTemplate:"{color}",colors:["#1E98E4","#FFC500","#5CB85C","#FF2A00","#6D31FF","#00B2A1","#FF8000","#84B3DC"],tooltip:{enabled:!1,template:"{title}: {value}",filter:".sui-treemap-item",delay:80,position:"top"},events:{}},R=O.extend({init:function(){O.fn.init.apply(this,arguments);var m,b=this,n=ac(b.element),o=b.options,l=o.cls,k=o.dataSource,j=o.dieOnError;return"div"!==n.prop("tagName").toLowerCase()?void J("shieldTreeMap: Underlying element is not DIV.",j):(n.addClass("sui-treemap "+(l?" "+l:"")),S(o.width)&&n.css("width",o.width),S(o.height)&&n.css("height",o.height),k?(b.dataSource=N.create(k),b._eventNS=m=".shieldTreeMap"+b.getInstanceId(),b.containers=[],b.colorIndex=0,ac(F).on("resize"+m,U(b._onWinResize,b)),b.dataSource.on("change"+m,U(b._dsChange,b)),o.readDataSource&&b.dataSource.read(),void b.enabled(o.enabled)):(b.destroy(),void J("shieldTreemap: dataSource is not defined.",j)))},_dsChange:function(){var d=this,c=d.element;d._create(),d._createTooltip(),d._elWidth=c.width(),d._elHeight=c.height()},_onWinResize:function(c){var d=this;d._onWinResTimeout&&clearTimeout(d._onWinResTimeout),d._onWinResTimeout=setTimeout(U(d._winResized,d),100)},_winResized:function(){var d=this,c=d.element;(d._elWidth!==c.width()||d._elHeight!==c.height())&&d.refresh()},_createTooltip:function(){var b=this,d=b.options.tooltip;d.enabled&&(b.tooltip?b.tooltip.refresh(d):b.tooltip=ac(b.element).children(".sui-treemap-group").first().shieldTooltip(d).swidget())},_create:function(){var n,e=this,o=e.element,l=e.dataSource.data,k=e.options,j=Z.create(k.type),m=new ad(0,0,o.innerWidth(),o.innerHeight());o.empty(),e._prepareData(l),n=e.createGroup(o,m),m=e.createTitle(n,k.title),j.execute(l,m,n,e)},_prepareData:function(d){var e,f=this;for(e=0;e<d.length;e++){d[e].targetValue=f.getItemValue(d[e]),d[e].items&&f._prepareData(d[e].items)}},createTitle:function(s,p){var r,o,f,d,c,b=this,q=b.options.type===ab;return"undefined"===p||p===Y?new ad(s.position().left,s.position().top,s.innerWidth(),s.innerHeight()):(r=ac('<div class="sui-treemap-title"></div>').appendTo(s),q&&r.innerHeight(s.outerHeight()),r.append('<div class="sui-treemap-title-inner">'+p.replace(/\s+/,"&nbsp;")+"</div>"),aa.ui.Position.Set(r.find(".sui-treemap-title-inner"),r,{source:"center",target:"center"}),o=q?s.position().left+r.outerWidth():s.position().left,f=q?s.position().top:s.position().top+r.outerHeight(),d=q?s.innerWidth()-r.outerWidth():s.innerWidth(),c=q?s.innerHeight():s.innerHeight()-r.outerHeight(),new ad(o,f,d,c))},createGroup:function(d,f){var e=this;return e._createContainer(d,f).addClass("sui-treemap-group sui-treemap-group-"+e.options.type)},createItem:function(l,c){var o,j=this,n=j.options,m=n.tooltip,k=(n.type===ab,j.getItemText(c.dataItem));o=j._createContainer(l,c),o.addClass("sui-treemap-item").css("backgroundColor",j._getContentColor(c.dataItem)).on(P,U(j._contentClick,j,c.dataItem)),m.enabled&&o.attr("title",V(m.template,c.dataItem)),j.containers.push(o),o.html(k)},_contentClick:function(c){var d=this;d._enabled&&d.trigger(P,{title:d.getItemText(c),value:d.getItemValue(c),item:c})},_createContainer:function(d,b){return ac("<div/>").appendTo(d).css({left:b.left,top:b.top,width:b.width,height:b.height})},_getContentColor:function(f){var e=this,d=e.options.colors;return e._getItemColor(f)||d[e.colorIndex++%d.length]},getItemValue:function(b){return C(V(this.options.valueTemplate,b))},getItemText:function(b){return V(this.options.textTemplate,b)},_getItemColor:function(c){var d=V(this.options.colorTemplate,c);return"undefined"!==d&&null!==d?d:Y},enabled:function(){var h,b=this,g=ac(b.element),f=[].slice.call(arguments);return f.length>0?(h=!!f[0],h?g.removeAttr(Q).removeClass("sui-treemap-disabled"):g.attr(Q,Q).addClass("sui-treemap-disabled"),b.tooltip&&b.tooltip.enabled(h),b._enabled=h,void 0):b._enabled},destroy:function(){var f,b=this,e=b._eventNS;for(ac(F).off(e),clearTimeout(b._onWinResTimeout),b._onWinResTimeout=null,b.dataSource&&b.dataSource.off(e),b.tooltip&&(b.tooltip.destroy(),b.tooltip=null),f=0;f<b.containers.length;f++){b.containers[f].off(P)}b.containers=null,ac(b.element).empty(),O.fn.destroy.call(b)}}),R.defaults=G,aa.ui.plugin("TreeMap",R)}(jQuery,shield,this);!function(K,L,t,J){function G(b){return I(b)&&!v(b)&&"undefined"!==b}var C,F,E=L.ui.Widget,u=(L.Class,L.DataSource),y=(Math.min,Math.max,K.proxy),w=K.each,x=K.map,z=L.error,H=L.format,I=L.is.defined,v=L.is["null"],D=L.to["int"],A="change",B="click";C={cls:J,width:J,height:J,dataSource:J,readDataSource:!0,title:J,textTemplate:"{text}",hrefTemplate:"{href}",targetTemplate:"{target}",frequencyTemplate:"{frequency}",minSize:90,maxSize:250,events:{}},F=E.extend({init:function(){E.fn.init.apply(this,arguments);var n,b=this,o=K(b.element),p=b.options,m=p.title,l=p.dieOnError,h=p.dataSource,d=p.cls;return"div"!==o.prop("tagName").toLowerCase()?void z("shieldTagCloud: Underlying element is not DIV.",l):(n=b._eventNS=".shieldTagCloud"+b.getInstanceId(),o.empty(),m&&o.append('<div class="sui-tagcloud-title">'+m+"</div>"),b._contentEl=K('<div class="sui-tagcloud-content">').appendTo(o),o.addClass("sui-tagcloud"+(d?" "+d:"")),I(p.width)&&o.css("width",p.width),I(p.height)&&o.css("height",p.height),h?(b.dataSource=u.create(h),b.dataSource.on(A+n,y(b._dsChange,b)),void (p.readDataSource&&b.dataSource.read())):(b.destroy(),void z("shieldTagCloud: No dataSource or underlying UL element found.",l)))},_dsChange:function(){this._render()},_render:function(){var f=this,g=f._contentEl,e=f.dataSource.view||[],h=f._getMinMax(e);g.empty().append(x(e,function(c){return f._createItem(c,h[0],h[1])}))},_createItem:function(R,M,U){var P,e,f,k,n,N=this,S=N.options,b=S.minSize,T=S.maxSize,Q=K('<div class="sui-tagcloud-item" />'),O=H(S.textTemplate,R);return G(O)&&(P=H(S.hrefTemplate,R),G(P)?(k=K('<a href="'+P+'" class="sui-tagcloud-link">'+O+"</a>").appendTo(Q),n=H(S.targetTemplate,R),G(n)&&k.attr("target",n)):Q.html(O)),f=D(H(S.frequencyTemplate,R)),e=U>M?(f-M)*(T-b)/(U-M)+b:100,Q.css("font-size",e+"%").on(B,y(N._itemClick,N,R)),Q},_itemClick:function(e,f){var h=this,g=h.trigger(B,{item:e});g.isDefaultPrevented()&&f&&f.preventDefault()},_getMinMax:function(j){var e,h=this,d=Number.POSITIVE_INFINITY,k=Number.NEGATIVE_INFINITY;return w(j||[],function(b,c){e=D(H(h.options.frequencyTemplate,c)),(!I(k)||e>k)&&(k=e),(!I(d)||d>e)&&(d=e)}),[d,k]},destroy:function(){var f=this,h=f.element,g=f.options,e=g.cls;f.dataSource&&f.dataSource.off(A+f._eventNS),h.removeClass("sui-tagcloud"+(e?" "+e:"")).empty(),E.fn.destroy.call(f)}}),F.defaults=C,L.ui.plugin("TagCloud",F)}(jQuery,shield,this);!function(V,U,T,S){var M,O,R=U.ui.Widget,J=(U.Class,U.Constants,U.format),z=document,P=(V.extend,V.map,V.each,V.proxy),L=U.error,K=U.is["boolean"],y=U.is.object,B=U.is.defined,D=(U.to.number,"close"),E="minimize",F="maximize",G="resize",H="scroll",C="pin",N="overflow",A="hidden",Q="px",I="center";M={title:"",titleBarButtons:["pin","minimize","maximize","close"],content:S,cls:S,visible:!0,pinned:!1,modal:!1,width:400,height:300,resizable:{maxWidth:S,maxHeight:S,minWidth:200,minHeight:150},draggable:!0,position:S,appendToBody:!1,events:{}},O=R.extend({init:function(){R.fn.init.apply(this,arguments),B(this.initialOptions.titleBarButtons)&&(this.options.titleBarButtons=this.initialOptions.titleBarButtons);var W,X,e,x=this,w=x.options,b=w.cls,Z=w.dieOnError,g=w.titleBarButtons,k=w.resizable,l=w.draggable,m=w.content,Y=w.position,u=V(x.element),f=!1;return"div"!==V(u).prop("tagName").toLowerCase()?void L("shieldWindow: Underlying element is not DIV",Z):g&&g.length>0&&!U.ui.Button?void L("shieldWindow: The titleBarButtons setting requires ShieldUI Button to be loaded",Z):(x._eventNS="shieldWindow"+x.getInstanceId(),w.appendToBody?(u.appendTo(z.body),x._parentIsBody=!0):x._parentIsBody="body"==u.parent().prop("tagName").toLowerCase(),x._origHtml=u.html(),u.empty(),u.addClass("sui-window"+(b?" "+b:"")),e={width:w.width+Q,height:w.height+Q,position:"absolute"},u.css(e),x.titleBarEl=W=V('<div class="sui-window-titlebar"><div class="sui-window-title">'+w.title+'</div><div class="sui-window-icons"></div></div>').appendTo(u),x._initTitleBarButtons(),x.contentEl=X=V('<div class="sui-window-content"></div>').appendTo(u),x._fixContent(),y(Y)?u.css(Y):f=!0,k&&(K(k)&&(k={}),x.resizable=new U.ui.Resizable(u,k),x.resizable.on("resized",P(x._fixContent,x))),l&&(K(l)&&(l={}),l.handle=x.titleBarEl,x.draggable=new U.ui.Draggable(u,l)),x._hasIframe=!1,m?m.template?m.template.dataUrl?V.ajax({url:m.template.dataUrl,dataType:"json",success:function(h,c,j){x.content(J(m.template.body,h))},error:function(j,h,c){x.content("Error occured while reading URL: "+h+" - "+c)}}):x.content(J(m.template.body,m.template.data)):m.remote?m.remote.iframe?(x._hasIframe=!0,x.content('<iframe class="sui-window-iframe" src="'+m.remote.url+'" style="border:none; border-width:0px; width:100%; height:100%;"></iframe>')):x.contentEl.load(m.remote.url):x.content(x._origHtml):x.content(x._origHtml),x._minimized=!1,x._maximized=!1,x._destroyed=!1,x.pinned(!!w.pinned),x.visible(!!w.visible),void (f&&x.center()))},_initTitleBarButtons:function(){var n,m,g,p,q=this,l=q.options,o=l.titleBarButtons,k=l.modal;if(q.titleBarButtons={},o&&o.length>0){for(n=q.titleBarEl.find(".sui-window-icons"),p=0;p<o.length;p++){g=o[p],("pin"===g||"minimize"===g||"maximize"===g||"close"===g)&&(k&&"close"!==g||(m="pin"==g?"_onPin":"minimize"==g?"_onMinimize":"maximize"==g?"_onMaximize":g,q.titleBarButtons[g]=V('<button><div class="sui-sprite sui-window-button-icon sui-window-button-icon-'+g+'"></div></button>').appendTo(n).shieldButton({cls:"sui-window-button",events:{click:P(q[m],q,!0)}}).swidget()))}n.on("mousedown",function(b){return b.preventDefault(),b.stopPropagation(),!1})}},_destroyTitleBarButtons:function(){var e,f=this,d=f.titleBarButtons;for(e in d){d.hasOwnProperty(e)&&d[e].destroy()}f.titleBarButtons={}},_createModal:function(){var c=this,j=V(c._parentIsBody?T:c.element.parent()),h=V(j).scrollTop(),g=V(j).scrollLeft();c._lockScroll(),c._modal=V('<div class="sui-window-modal"></div>').insertBefore(c.element).css({top:h,left:g})},_closeModal:function(){var c=this;V(c._modal).remove(),c._unlockScroll()},_lockScroll:function(){var d=this,e=d.element.parent();d._scrollTop=V(e).scrollTop(),d._scrollLeft=V(e).scrollLeft(),d._parentOverflow=V(e).css(N),e.css(N,A).scrollTop(d._scrollTop).scrollLeft(d._scrollLeft)},_unlockScroll:function(){var d=this,c=d.element.parent();c.css(N,d._parentOverflow).scrollTop(d._scrollTop).scrollLeft(d._scrollLeft)},_fixContent:function(){var c=this;V(c.contentEl).outerWidth(V(c.element).innerWidth()).innerHeight(V(c.element).innerHeight()-V(c.titleBarEl).outerHeight()),c._hasIframe&&V(c.contentEl).find(".sui-window-iframe").width(V(c.contentEl).width()).height(V(c.contentEl).height())},center:function(){var c=this,b=V(c.element);U.ui.Position.Set(b,c._parentIsBody?T:b.parent(),{source:I,target:I})},position:function(c){V(this.element).css(c)},getHeight:function(){V(this.element).css("height")},getWidth:function(){V(this.element).css("width")},getPosition:function(){var c=V(this.element);return{left:c.css("left"),top:c.css("top")}},content:function(){var f=this,e=V(f.contentEl),g=[].slice.call(arguments);return g.length>0?(e.empty(),void e.append(g)):e.html()},resize:function(c){V(this.element).css(c),this._fixContent()},_scroll:function(f){var c=this,j=V(c.element),h=c._parentIsBody;c._pinned&&j.css({left:c.originalPosition.left+V(h?T:j.parent()).scrollLeft()+Q,top:c.originalPosition.top+V(h?T:j.parent()).scrollTop()+Q})},_onPin:function(b){this.pinned(!this._pinned,b)},pinned:function(){var q,m,c=this,p=[].slice.call(arguments),o=V(c.element),l=c._parentIsBody,n=c.titleBarEl,g=n.find(".sui-window-button-icon-pin").length>0?n.find(".sui-window-button-icon-pin"):n.find(".sui-window-button-icon-unpin");return p.length<=0?c._pinned:(q=!!p[0],void (c._pinned!=q&&(p[1]&&(m=c.trigger(C,{pinned:q}),m.isDefaultPrevented())||(c._pinned=q,g.removeClass("sui-window-button-icon-pin sui-window-button-icon-unpin"),g.addClass(c._pinned?"sui-window-button-icon-pin":"sui-window-button-icon-unpin"),c._pinned?(c.originalPosition=o.position(),V(l?T:o.parent()).on(H+"."+c._eventNS,P(c._scroll,c)),c.draggable&&c.draggable.enabled(!1)):(V(l?T:o.parent()).off(H+"."+c._eventNS),c.origininalPosition=null,c.draggable&&c.draggable.enabled(!0))))))},_onMinimize:function(b){this.minimized(!0,b)},minimized:function(){var p,r,m,s=this,o=[].slice.call(arguments),n=V(s.element),l=V(s.contentEl),q=s.titleBarEl,k=s.titleBarButtons.minimize;return o.length<=0?s._minimized:(r=!!o[0],void (s._minimized!=r&&(o[1]&&(m=s.trigger(E,{minimized:r}),m.isDefaultPrevented())||(s._minimized=r,p=q.find(".sui-window-button-icon-minimize").length>0?q.find(".sui-window-button-icon-minimize"):q.find(".sui-window-button-icon-unminimize"),p.removeClass("sui-window-button-icon-minimize sui-window-button-icon-unminimize"),p.addClass(s._minimized?"sui-window-button-icon-unminimize":"sui-window-button-icon-minimize"),r?(s._onMinCurrHeight=n.height(),n.height(q.height()),l.hide(),s.resizable&&s.resizable.enabled(!1)):(n.height(s._onMinCurrHeight),l.show(),s.resizable&&s.resizable.enabled(!0)),k&&k.visible(!r)))))},_onMaximize:function(c){var d=this;d._minimized?d.minimized(!1,c):d.maximized(!d._maximized,c)},maximized:function(){var p,g,o,c,s=this,n=[].slice.call(arguments),r=V(s.element),q=s._beforeMaximize,m=V(s.titleBarEl);return n.length>0?(p=!!n[0],g=!!n[1],s._minimized&&s.minimized(!1,!1),s._maximized!=p&&(g&&(c=s.trigger(F,{maximized:p}),c.isDefaultPrevented())||(s._maximized=!!p,o=m.find(".sui-window-button-icon-maximize").length>0?m.find(".sui-window-button-icon-maximize"):m.find(".sui-window-button-icon-restore"),o.removeClass("sui-window-button-icon-maximize sui-window-button-icon-restore"),o.addClass(s._maximized?"sui-window-button-icon-restore":"sui-window-button-icon-maximize"),s._maximized?(s._beforeMaximize={top:r.css("top"),left:r.css("left"),width:r.width(),height:r.height()},s.resize({width:"100%",height:V(s._parentIsBody?T:r.parent()).height()}),s._lockScroll(),s.center(),s._parentIsBody&&V(T).on(G+"."+s._eventNS,P(s._onWinResizeMax,s))):(q&&(r.css({top:q.top,left:q.left}),s.resize({width:q.width,height:q.height})),s._unlockScroll(),s._parentIsBody&&(V(T).off(G+"."+s._eventNS),s._winResize=null)))),void 0):s._maximized},_onWinResizeMax:function(){var c=this;V(c.element).height(V(T).height()),c._fixContent()},close:function(f){var e,d=this;f&&(e=d.trigger(D),e.isDefaultPrevented())||d.destroy()},visible:function(){var d=this,c=[].slice.call(arguments);if(!d._destroyed){return c.length>0&&d.options.modal&&(c[0]?d._createModal():d._closeModal()),R.fn.visible.apply(d,arguments)}},destroy:function(){var d=this,e=d.options.cls;d.visible(!1),d._destroyed=!0,d.resizable&&(d.resizable.destroy(),d.resizable=null),d.draggable&&(d.draggable.destroy(),d.draggable=null),d._destroyTitleBarButtons(),d.maximized(!1),d.pinned(!1),V(d.element).removeClass("sui-window"+(e?" "+e:"")),d._origHtml&&(V(d.element).html(d._origHtml),d._origHtml=null),R.fn.destroy.call(d)}}),O.defaults=M,U.ui.plugin("Window",O)}(jQuery,shield,this);
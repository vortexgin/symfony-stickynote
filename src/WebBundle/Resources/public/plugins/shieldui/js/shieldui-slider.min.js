/* Shield UI 1.7.18 Trial Version | Copyright 2013-2015 Shield UI Ltd. | http://www.shieldui.com/eula */
!function(a,d,u,f){"use strict";var x,r,o=d.ui.Widget,A=(d.Class,document,Math.abs),i=(Math.min,Math.max,Math.floor),h=a.proxy,e=(a.each,a.map,d.Constants.KeyCode),s=d.format,G=d.error,j=d.is,k=j.defined,F=(j.string,j.object,j.func,d.to.number),H="value",v="tabindex",g="disabled",c="horizontal",t="both",n="top",E="bottom",l="left",C="up",z="right",B="down",q="click",y="keydown",D="slide",w="change",p="focus",m="blur",b="px";x={cls:f,orientation:c,min:0,max:100,value:f,step:1,largeStep:2,enabled:!0,buttons:!1,values:{enabled:!0,template:"{0}"},ticks:{enabled:!1,type:t,step:1},tooltip:{enabled:!1,template:"{0}"},width:f,height:f,events:{}},r=o.extend({init:function(){o.fn.init.apply(this,arguments);var d,f,g,b=this,e=b.options,j=e.cls,i=e.value,l=e.dieOnError;e.orientation==c;return b._original=f=a(b.element),"input"!==f.prop("tagName").toLowerCase()?void G("shieldSlider: Underlying element is not INPUT",l):(b.element=d=f.wrap('<div class="sui-slider sui-slider-'+e.orientation+(j?" "+j:"")+'" />').parent(),f.hide(),g=f.attr(v),d.attr(v,k(g)?g:"0"),b._focusHandler=h(b._focus,b),d.on(p,b._focusHandler),b._blurHandler=h(b._blur,b),d.on(m,b._blurHandler),b._keyDownProxy=h(b._keyDown,b),d.on(y,b._keyDownProxy),a(u).on("resize.shieldSlider"+b.getInstanceId(),h(b._onWinResize,b)),k(e.width)&&d.css("width",e.width),k(e.height)&&d.css("height",e.height),b._buttonOffset=5,b._buttonScaleOffset=20,b._width=d.innerWidth(),b._height=d.innerHeight(),b._buttons=b._createButtons(),b._scale=b._createScale(),b._ticks=b._createTicks(),b._createBar(),b._showValues(),b._elWidth=d.width(),b._elHeight=d.height(),k(i)||(i=F(b._value())),b.value(i),void b.enabled(e.enabled))},refresh:function(a){this.refreshWithElement(this._original,a)},_createButtons:function(){var d,h,e,b=this,i=b.options,j=i.orientation,f=j==c,g=[];if(i.buttons)return d=a('<div class="sui-slider-button sui-unselectable" unselectable="on" />').appendTo(b.element),h=a('<div class="sui-slider-button-arrow-'+(f?l:C)+' sui-unselectable" unselectable="on" />').appendTo(d),e=d.outerWidth(),d.css({left:f?b._buttonOffset:(b._width-e)/2,top:f?(b._height-e)/2:b._buttonOffset}),d.click(function(){b._hasFocus||b.element.focus(),b._stepPrev()}),g.push(d),d=a('<div class="sui-slider-button sui-unselectable" unselectable="on" />').appendTo(b.element),h=a('<div class="sui-slider-button-arrow-'+(f?z:B)+' sui-unselectable" unselectable="on" />').appendTo(d),d.css({left:f?b._width-(b._buttonOffset+e):(b._width-e)/2,top:f?(b._height-e)/2:b._height-(b._buttonOffset+e)}),d.click(function(){b._hasFocus||b.element.focus(),b._stepNext()}),g.push(d),g},_createScale:function(){var b=this,i=b.options,g=i.orientation,f=g==c,e=b._buttons?b._buttons[0].outerWidth():0,d=a('<div class="sui-slider-scale sui-slider-scale-'+g+' sui-unselectable" unselectable="on" />').appendTo(b.element);return d.css({left:f?b._buttonOffset+e+b._buttonScaleOffset:(b._width-d.outerWidth())/2,top:f?(b._height-d.outerHeight())/2:b._buttonOffset+e+b._buttonScaleOffset}),f?d.width(b._width-2*(b._buttonOffset+b._buttonScaleOffset+e)):d.height(b._height-2*(b._buttonOffset+b._buttonScaleOffset+e)),d.on(q,h(b._scaleClick,b)),d},_scaleClick:function(o){var g,d,e,h,b,a=this,m=a.options.orientation,j=m==c,k=o.originalEvent,n=j?k.clientX:k.clientY,l=a.element.offset(),p=i(j?l.left:l.top);if(a._hasFocus||a.element.focus(),a._enabled){for(b=0;b<a._ticks.length;b++)g=a._ticks[b],d=A(n-(g.tick+p)),(e===f||e>d)&&(e=d,h=g);a._moveBar(h)}},_keyDown:function(d){var a=this,m=a.options.orientation,f=m==c,g=d.originalEvent,b=g.keyCode,o=a._ticks.length-1,j=b===(f?e.LEFT:e.UP),k=b===(f?e.RIGHT:e.DOWN),h=b===(f?e.PAGEDOWN:e.PAGEUP),i=b===(f?e.PAGEUP:e.PAGEDOWN),n=b==e.HOME,l=b==e.END;!g.ctrlKey&&a._enabled&&(j||h?(a._stepPrev(h),d.preventDefault()):k||i?(a._stepNext(i),d.preventDefault()):n?(a._moveBar(a._ticks[0]),d.preventDefault()):l&&(a._moveBar(a._ticks[o]),d.preventDefault()))},_createTicks:function(){var k,r,g,h,q,x,p,e,a=this,o=a.options,D=o.orientation,j=D==c,A=o.max,w=o.min,s=o.step,v=o.ticks,m=v.type,B=v.step,C=0,d=i((A-w)/s),y=f,u=0;for(r=[],h=j?a._scale.outerWidth():a._scale.outerHeight(),h>=d?(q=i(h/d),C=h%d,x=h/d-q):(y=d/h*s,d=h,q=1,s=1),p=j?a._scale.position().left:a._scale.position().top,e=0;d>=e;e++)g={value:w+e*(y||s),tick:p},r.push(g),u+=x,u>=1&&(p++,u--),p+=q;if(v.enabled)for(e=0;d>=e;e+=B)g=r[e],(m===n||m===l||m===t)&&(k=a._createTick(),k.css({left:j?g.tick+b:a._scale.position().left-k.outerWidth()+b,top:j?a._scale.position().top-k.outerHeight()+b:g.tick+b})),(m===E||m===z||m===t)&&(k=a._createTick(),k.css({left:j?g.tick+b:a._scale.position().left+a._scale.outerWidth()+b,top:j?a._scale.position().top+a._scale.outerHeight()+b:g.tick+b}));return r},_createTick:function(){return a('<div class="sui-slider-tick sui-slider-tick-'+this.options.orientation+' sui-unselectable" unselectable="on" />').insertAfter(this._scale)},_showValues:function(){var d,f,g,b=this,e=b.options,j=e.orientation,h=j==c,k=e.max,l=e.min,i=(e.step,e.values||{});if(i.enabled)for(g=0;g<b._ticks.length;g++)d=b._ticks[g],(d.value===l||d.value===k)&&(f=a('<div class="sui-slider-mark sui-unselectable" unselectable="on">'+s(i.template,d.value)+"</div>").insertAfter(b._scale),f.css({left:h?d.tick-2-f.width()/2:b._scale.position().left+b._scale.outerWidth()+b._bar.width()/2,top:h?b._scale.position().top-b._scale.height()-b._bar.width()/2:d.tick-f.height()/2}))},_createBar:function(){var g,l,m,j,k,h,e=this,i=e.options.orientation==c;for(e._bar=g=a('<div class="sui-slider-bar sui-unselectable" id="'+d.strid()+'" unselectable="on" />').appendTo(e.element).mousedown(function(){e._hasFocus||e.element.focus()}),l=(g.innerWidth()-e._scale.outerHeight())/2+1,m=(g.innerWidth()-e._scale.outerWidth())/2+1,g.css({left:i?e._scale.position().left-g.outerWidth()/2+b:e._scale.position().left-m+b,top:i?e._scale.position().top-l+b:e._scale.position().top-g.outerWidth()/2+b}),k=[],h=0;h<e._ticks.length;h++)j=e._ticks[h],k.push({x:i?j.tick-g.outerWidth()/2:f,y:i?f:j.tick-g.outerWidth()/2});e._dragBar=new d.ui.Draggable(g,{allowedPositions:k,events:{drag:function(a){e._changeTooltipValue(!0),e.trigger(D)},stop:function(b){e._value(e.value()),e._tooltip&&a("#"+e._bar.attr("id")+":hover").length<=0&&e._tooltip.visible(!1),e.trigger(w,{value:e.value()})}}}),e._createTooltip()},_stepNext:function(b){var d,e,g,a=this,f=a.options,h=(f.orientation==c,f.step),j=f.largeStep;a._enabled&&(b=!!b,d=a._getCurrentTickInfoIndex(),e=b?d+i(j/h):d+1,e>=a._ticks.length||(g=a._ticks[e],a._moveBar(g)))},_stepPrev:function(b){var d,e,g,a=this,f=a.options,h=(f.orientation==c,f.step),j=f.largeStep;a._enabled&&(b=!!b,d=a._getCurrentTickInfoIndex(),e=b?d-i(j/h):d-1,0>e||(g=a._ticks[e],a._moveBar(g)))},_moveBar:function(e,g){var a=this,f=a.options.orientation==c,d=a._bar;e&&(d.css({left:f?e.tick-d.outerWidth()/2+b:d.css(l),top:f?d.css(n):e.tick-d.outerWidth()/2+b}),a._changeTooltipValue(),a._value(a.value()),g||a.trigger(w,{value:a.value()}))},_createTooltip:function(){var a=this,e=a.options,b=e.tooltip,f=e.orientation==c;b&&b.enabled&&(a._tooltip=new d.ui.Tooltip(a._bar,{content:s(b.template,a.value()),position:f?n:l,delay:0}))},_changeTooltipValue:function(d){var c,a=this,e=a.options.tooltip,b=a._tooltip;b&&(c=s(e.template,a.value()),b.options.content!==c&&b.refresh({content:c,enabled:a._enabled}),d&&b.visible(!0,a._bar))},_getCurrentTickInfoIndex:function(){var b,a,d,e=this,l=e.options.orientation==c,j=e._ticks,f=e._bar,i=l?f.position().left:f.position().top,k=f.outerWidth()/2,h=Number.POSITIVE_INFINITY,g=-1;for(a=0;a<j.length;a++){if(b=j[a].tick-k,i==b)return a;d=A(i-b),h>d&&(h=d,g=a)}return g},_getTickInfoIndexByValue:function(c){var a,d=this,b=d._ticks;for(a=0;a<b.length;a++)if(c==b[a].value)return a;return-1},_focus:function(c){var b=this;b._hasFocus||(b._hasFocus=!0,a(b.element).addClass("sui-slider-focus"),b.trigger(p))},_blur:function(c){var b=this;b._hasFocus&&(b._hasFocus=!1,a(b.element).removeClass("sui-slider-focus"),b.trigger(m))},_onWinResize:function(b){var a=this;a._onWinResTimeout&&clearTimeout(a._onWinResTimeout),a._onWinResTimeout=setTimeout(h(a._winResized,a),100)},_winResized:function(){var a=this,b=a.element;(a._elWidth!==b.width()||a._elHeight!==b.height())&&a.refresh()},_value:function(){return this._original.attr.apply(this._original,[H].concat([].slice.call(arguments)))},value:function(){var b,c,a=this,e=a.options.min,d=[].slice.call(arguments);return d.length>0?(c=a._getTickInfoIndexByValue(d[0]),void(-1!==c&&(b=a._ticks[c],a._moveBar(b,!0)))):(c=a._getCurrentTickInfoIndex(),b=a._ticks[c],b?b.value:e)},enabled:function(){var c,b=this,d=a(b.element),e=b._original,f=[].slice.call(arguments);return f.length>0?(c=!!f[0],c?(d.removeAttr(g).removeClass("sui-slider-disabled"),e.removeAttr(g)):(d.attr(g,g).addClass("sui-slider-disabled"),e.attr(g,g)),b._enabled=c,b._dragBar.enabled(c),b._tooltip&&b._tooltip.enabled(c),void 0):b._enabled},destroy:function(){var c,b=this;if(a(u).off("resize.shieldSlider"+b.getInstanceId()),clearTimeout(b._onWinResTimeout),b._onWinResTimeout=null,a(b.element).off(y,b._keyDownProxy).off(p,b._focusHandler).off(m,b._blurHandler),b._dragBar&&(b._dragBar.destroy(),b._dragBar=null),b._buttons)for(c=0;c<b._buttons.length;c++)b._buttons[c].off(q);b._tooltip&&(b._tooltip.destroy(),b._tooltip=null),a(b.element).find(".sui-slider-scale, .sui-slider-mark, .sui-slider-tick, .sui-slider-bar, .sui-slider-button").remove(),b._original.unwrap().show(),b._scale.off(q),b._original=b._buttons=b._bar=b._scale=b._ticks=b._focusHandler=b._blurHandler=b._keyDownProxy=b._winResHandler=null,o.fn.destroy.call(b)}}),r.defaults=x,d.ui.plugin("Slider",r)}(jQuery,shield,this);
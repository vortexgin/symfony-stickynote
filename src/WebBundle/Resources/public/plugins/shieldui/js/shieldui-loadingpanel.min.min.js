!function(z,v,r,n){var t,u,x=v.ui.Widget,w=document,y=Math.ceil,q=navigator.userAgent,p=r.opera,o=/msie/i.test(q)&&!p,s=o&&7===w.documentMode;z.extend;t={show:!1,showImage:!0,text:null,template:null,useSmallImage:!1},u=x.extend({init:function(c,f){var e=this;x.fn.init.apply(e,arguments),e.refresh(),e.options.show?e.show():e.hide()},destroy:function(){var a=this;z(a.mainElement).remove(),a.options.showImage&&(z(a.loadingImage).remove(),a.loadingImage=null),a.loadingText&&(z(a.loadingText).remove(),a.loadingText=null),z(a.backgroundElement).remove(),a.mainElement=a.backgroundElement=null,x.fn.destroy.call(a)},_render:function(){var A,C=this,m=C.options,B=m.template;if(C.mainElement=A=z("<div/>").appendTo(w.body),A.addClass("sui-loading-panel"),s&&A.addClass("sui-loading-panel-ie7"),B){B=z(B.replace(/^\s+/,"").replace(/\s+$/,"")),B.appendTo(w.body);var b=y((C.element.height()-B.height())/2),a=y((C.element.width()-B.width())/2);B.css({"z-index":"inherit",position:"relative",dispaly:"block",top:b+"px",left:a+"px"}).appendTo(A),C.template=B}else{if(m.showImage){var h=z("<span/>").appendTo(A);C.loadingImage=h,m.useSmallImage?h.addClass("sui-loading-image-small"):h.addClass("sui-loading-image")}m.text&&C._generateTextElement()}var d=z("<span/>").appendTo(A);C.backgroundElement=d,d.addClass("sui-loading-back"),C._setPosition()},_generateTextElement:function(){var a=this,d=z("<span/>").appendTo(a.mainElement);d.get(0).innerHTML=a.options.text,d.addClass("sui-loading-text"),a.loadingText=d},refresh:function(){var d=this,c=(d.options,d.mainElement&&"none"!=d.mainElement.css("display")?!1:!0);d.destroy(),d._render(),c?d.hide():d.show()},_setPosition:function(){var b=this,e=(b.options,b.element),g=e.offset(),h=v.ui.Util.GetMaxZIndex("div")+1;b.mainElement.css({left:y(g.left)+"px",top:y(g.top)+"px","z-index":h}),s&&(b.loadingText&&b.loadingText.css({"z-index":h+1}),b.loadingImage&&b.loadingImage.css({"z-index":h+1}),b.template&&b.template.css("z-index",h+1))},_setElementsPosition:function(){var b=this,k=b.element.height(),A=b.loadingImage,m=b.loadingText,j=A?A.height():0,i=m?m.height():0,l=y((k-j-i)/2);A&&b.loadingImage.css("top",l+"px"),m&&b.loadingText.css("top",l+"px")},show:function(){var e=this,f=e.options,d=e.element;e.mainElement.width(d.get(0).offsetWidth),e.mainElement.height(d.get(0).offsetHeight),e._setPosition(),e.mainElement.css("display",""),f.template||e._setElementsPosition()},hide:function(){this.mainElement.css("display","none")},setText:function(b){this.options.text=b,this.refresh()}}),u.defaults=t,v.ui.plugin("LoadingPanel",u)}(jQuery,shield,this);
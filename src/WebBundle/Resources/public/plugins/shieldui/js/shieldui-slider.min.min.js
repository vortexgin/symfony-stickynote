!function(ap,am,Q,ak){var K,W,ab=am.ui.Widget,aa=(am.Class,document,Math.abs),ah=(Math.min,Math.max,Math.floor),ai=ap.proxy,al=(ap.each,ap.map,am.Constants.KeyCode),U=am.format,O=am.error,ag=am.is,af=ag.defined,P=(ag.string,ag.object,ag.func,am.to.number),M="value",N="tabindex",aj="disabled",an="horizontal",S="both",ac="top",R="bottom",ae="left",V="up",I="right",Y="down",X="click",J="keydown",T="slide",L="change",Z="focus",ad="blur",ao="px";K={cls:ak,orientation:an,min:0,max:100,value:ak,step:1,largeStep:2,enabled:!0,buttons:!1,values:{enabled:!0,template:"{0}"},ticks:{enabled:!1,type:S,step:1},tooltip:{enabled:!1,template:"{0}"},width:ak,height:ak,events:{}},W=ab.extend({init:function(){ab.fn.init.apply(this,arguments);var p,n,m,a=this,o=a.options,h=o.cls,k=o.value,c=o.dieOnError;o.orientation==an;return a._original=n=ap(a.element),"input"!==n.prop("tagName").toLowerCase()?void O("shieldSlider: Underlying element is not INPUT",c):(a.element=p=n.wrap('<div class="sui-slider sui-slider-'+o.orientation+(h?" "+h:"")+'" />').parent(),n.hide(),m=n.attr(N),p.attr(N,af(m)?m:"0"),a._focusHandler=ai(a._focus,a),p.on(Z,a._focusHandler),a._blurHandler=ai(a._blur,a),p.on(ad,a._blurHandler),a._keyDownProxy=ai(a._keyDown,a),p.on(J,a._keyDownProxy),ap(Q).on("resize.shieldSlider"+a.getInstanceId(),ai(a._onWinResize,a)),af(o.width)&&p.css("width",o.width),af(o.height)&&p.css("height",o.height),a._buttonOffset=5,a._buttonScaleOffset=20,a._width=p.innerWidth(),a._height=p.innerHeight(),a._buttons=a._createButtons(),a._scale=a._createScale(),a._ticks=a._createTicks(),a._createBar(),a._showValues(),a._elWidth=p.width(),a._elHeight=p.height(),af(k)||(k=P(a._value())),a.value(k),void a.enabled(o.enabled))},refresh:function(b){this.refreshWithElement(this._original,b)},_createButtons:function(){var p,l,o,a=this,k=a.options,c=k.orientation,n=c==an,m=[];if(k.buttons){return p=ap('<div class="sui-slider-button sui-unselectable" unselectable="on" />').appendTo(a.element),l=ap('<div class="sui-slider-button-arrow-'+(n?ae:V)+' sui-unselectable" unselectable="on" />').appendTo(p),o=p.outerWidth(),p.css({left:n?a._buttonOffset:(a._width-o)/2,top:n?(a._height-o)/2:a._buttonOffset}),p.click(function(){a._hasFocus||a.element.focus(),a._stepPrev()}),m.push(p),p=ap('<div class="sui-slider-button sui-unselectable" unselectable="on" />').appendTo(a.element),l=ap('<div class="sui-slider-button-arrow-'+(n?I:Y)+' sui-unselectable" unselectable="on" />').appendTo(p),p.css({left:n?a._width-(a._buttonOffset+o):(a._width-o)/2,top:n?(a._height-o)/2:a._height-(a._buttonOffset+o)}),p.click(function(){a._hasFocus||a.element.focus(),a._stepNext()}),m.push(p),m}},_createScale:function(){var a=this,c=a.options,h=c.orientation,j=h==an,k=a._buttons?a._buttons[0].outerWidth():0,l=ap('<div class="sui-slider-scale sui-slider-scale-'+h+' sui-unselectable" unselectable="on" />').appendTo(a.element);return l.css({left:j?a._buttonOffset+k+a._buttonScaleOffset:(a._width-l.outerWidth())/2,top:j?(a._height-l.outerHeight())/2:a._buttonOffset+k+a._buttonScaleOffset}),j?l.width(a._width-2*(a._buttonOffset+a._buttonScaleOffset+k)):l.height(a._height-2*(a._buttonOffset+a._buttonScaleOffset+k)),l.on(X,ai(a._scaleClick,a)),l},_scaleClick:function(f){var v,x,w,u,y,z=this,q=z.options.orientation,t=q==an,s=f.originalEvent,i=t?s.clientX:s.clientY,r=z.element.offset(),c=ah(t?r.left:r.top);if(z._hasFocus||z.element.focus(),z._enabled){for(y=0;y<z._ticks.length;y++){v=z._ticks[y],x=aa(i-(v.tick+c)),(w===ak||w>x)&&(w=x,u=v)}z._moveBar(u)}},_keyDown:function(x){var z=this,p=z.options.orientation,w=p==an,v=x.originalEvent,y=v.keyCode,c=z._ticks.length-1,s=y===(w?al.LEFT:al.UP),r=y===(w?al.RIGHT:al.DOWN),u=y===(w?al.PAGEDOWN:al.PAGEUP),t=y===(w?al.PAGEUP:al.PAGEDOWN),e=y==al.HOME,q=y==al.END;!v.ctrlKey&&z._enabled&&(s||u?(z._stepPrev(u),x.preventDefault()):r||t?(z._stepNext(t),x.preventDefault()):e?(z._moveBar(z._ticks[0]),x.preventDefault()):q&&(z._moveBar(z._ticks[c]),x.preventDefault()))},_createTicks:function(){var au,E,ax,aw,G,c,aq,ay,aA=this,ar=aA.options,t=ar.orientation,av=t==an,H=ar.max,f=ar.min,n=ar.step,i=ar.ticks,at=i.type,F=i.step,z=0,az=ah((H-f)/n),b=ak,l=0;for(E=[],aw=av?aA._scale.outerWidth():aA._scale.outerHeight(),aw>=az?(G=ah(aw/az),z=aw%az,c=aw/az-G):(b=az/aw*n,az=aw,G=1,n=1),aq=av?aA._scale.position().left:aA._scale.position().top,ay=0;az>=ay;ay++){ax={value:f+ay*(b||n),tick:aq},E.push(ax),l+=c,l>=1&&(aq++,l--),aq+=G}if(i.enabled){for(ay=0;az>=ay;ay+=F){ax=E[ay],(at===ac||at===ae||at===S)&&(au=aA._createTick(),au.css({left:av?ax.tick+ao:aA._scale.position().left-au.outerWidth()+ao,top:av?aA._scale.position().top-au.outerHeight()+ao:ax.tick+ao})),(at===R||at===I||at===S)&&(au=aA._createTick(),au.css({left:av?ax.tick+ao:aA._scale.position().left+aA._scale.outerWidth()+ao,top:av?aA._scale.position().top+aA._scale.outerHeight()+ao:ax.tick+ao}))}}return E},_createTick:function(){return ap('<div class="sui-slider-tick sui-slider-tick-'+this.options.orientation+' sui-unselectable" unselectable="on" />').insertAfter(this._scale)},_showValues:function(){var s,q,p,t=this,r=t.options,m=r.orientation,o=m==an,c=r.max,a=r.min,n=(r.step,r.values||{});if(n.enabled){for(p=0;p<t._ticks.length;p++){s=t._ticks[p],(s.value===a||s.value===c)&&(q=ap('<div class="sui-slider-mark sui-unselectable" unselectable="on">'+U(n.template,s.value)+"</div>").insertAfter(t._scale),q.css({left:o?s.tick-2-q.width()/2:t._scale.position().left+t._scale.outerWidth()+t._bar.width()/2,top:o?t._scale.position().top-t._scale.height()-t._bar.width()/2:s.tick-q.height()/2}))}}},_createBar:function(){var o,b,a,d,c,n,p=this,f=p.options.orientation==an;for(p._bar=o=ap('<div class="sui-slider-bar sui-unselectable" id="'+am.strid()+'" unselectable="on" />').appendTo(p.element).mousedown(function(){p._hasFocus||p.element.focus()}),b=(o.innerWidth()-p._scale.outerHeight())/2+1,a=(o.innerWidth()-p._scale.outerWidth())/2+1,o.css({left:f?p._scale.position().left-o.outerWidth()/2+ao:p._scale.position().left-a+ao,top:f?p._scale.position().top-b+ao:p._scale.position().top-o.outerWidth()/2+ao}),c=[],n=0;n<p._ticks.length;n++){d=p._ticks[n],c.push({x:f?d.tick-o.outerWidth()/2:ak,y:f?ak:d.tick-o.outerWidth()/2})}p._dragBar=new am.ui.Draggable(o,{allowedPositions:c,events:{drag:function(e){p._changeTooltipValue(!0),p.trigger(T)},stop:function(e){p._value(p.value()),p._tooltip&&ap("#"+p._bar.attr("id")+":hover").length<=0&&p._tooltip.visible(!1),p.trigger(L,{value:p.value()})}}}),p._createTooltip()},_stepNext:function(c){var p,o,m,i=this,n=i.options,l=(n.orientation==an,n.step),k=n.largeStep;i._enabled&&(c=!!c,p=i._getCurrentTickInfoIndex(),o=c?p+ah(k/l):p+1,o>=i._ticks.length||(m=i._ticks[o],i._moveBar(m)))},_stepPrev:function(c){var p,o,m,i=this,n=i.options,l=(n.orientation==an,n.step),k=n.largeStep;i._enabled&&(c=!!c,p=i._getCurrentTickInfoIndex(),o=c?p-ah(k/l):p-1,0>o||(m=i._ticks[o],i._moveBar(m)))},_moveBar:function(i,c){var b=this,h=b.options.orientation==an,j=b._bar;i&&(j.css({left:h?i.tick-j.outerWidth()/2+ao:j.css(ae),top:h?j.css(ac):i.tick-j.outerWidth()/2+ao}),b._changeTooltipValue(),b._value(b.value()),c||b.trigger(L,{value:b.value()}))},_createTooltip:function(){var d=this,h=d.options,c=h.tooltip,g=h.orientation==an;c&&c.enabled&&(d._tooltip=new am.ui.Tooltip(d._bar,{content:U(c.template,d.value()),position:g?ac:ae,delay:0}))},_changeTooltipValue:function(i){var j,g=this,h=g.options.tooltip,f=g._tooltip;f&&(j=U(h.template,g.value()),f.options.content!==j&&f.refresh({content:j,enabled:g._enabled}),i&&f.visible(!0,g._bar))},_getCurrentTickInfoIndex:function(){var u,v,t,s=this,c=s.options.orientation==an,n=s._ticks,r=s._bar,o=c?r.position().left:r.position().top,m=r.outerWidth()/2,p=Number.POSITIVE_INFINITY,q=-1;for(v=0;v<n.length;v++){if(u=n[v].tick-m,o==u){return v}t=aa(o-u),p>t&&(p=t,q=v)}return q},_getTickInfoIndexByValue:function(h){var f,g=this,e=g._ticks;for(f=0;f<e.length;f++){if(h==e[f].value){return f}}return -1},_focus:function(d){var a=this;a._hasFocus||(a._hasFocus=!0,ap(a.element).addClass("sui-slider-focus"),a.trigger(Z))},_blur:function(d){var a=this;a._hasFocus&&(a._hasFocus=!1,ap(a.element).removeClass("sui-slider-focus"),a.trigger(ad))},_onWinResize:function(c){var d=this;d._onWinResTimeout&&clearTimeout(d._onWinResTimeout),d._onWinResTimeout=setTimeout(ai(d._winResized,d),100)},_winResized:function(){var d=this,c=d.element;(d._elWidth!==c.width()||d._elHeight!==c.height())&&d.refresh()},_value:function(){return this._original.attr.apply(this._original,[M].concat([].slice.call(arguments)))},value:function(){var f,j,g=this,h=g.options.min,i=[].slice.call(arguments);return i.length>0?(j=g._getTickInfoIndexByValue(i[0]),void (-1!==j&&(f=g._ticks[j],g._moveBar(f,!0)))):(j=g._getCurrentTickInfoIndex(),f=g._ticks[j],f?f.value:h)},enabled:function(){var j,a=this,i=ap(a.element),h=a._original,g=[].slice.call(arguments);return g.length>0?(j=!!g[0],j?(i.removeAttr(aj).removeClass("sui-slider-disabled"),h.removeAttr(aj)):(i.attr(aj,aj).addClass("sui-slider-disabled"),h.attr(aj,aj)),a._enabled=j,a._dragBar.enabled(j),a._tooltip&&a._tooltip.enabled(j),void 0):a._enabled},destroy:function(){var d,a=this;if(ap(Q).off("resize.shieldSlider"+a.getInstanceId()),clearTimeout(a._onWinResTimeout),a._onWinResTimeout=null,ap(a.element).off(J,a._keyDownProxy).off(Z,a._focusHandler).off(ad,a._blurHandler),a._dragBar&&(a._dragBar.destroy(),a._dragBar=null),a._buttons){for(d=0;d<a._buttons.length;d++){a._buttons[d].off(X)}}a._tooltip&&(a._tooltip.destroy(),a._tooltip=null),ap(a.element).find(".sui-slider-scale, .sui-slider-mark, .sui-slider-tick, .sui-slider-bar, .sui-slider-button").remove(),a._original.unwrap().show(),a._scale.off(X),a._original=a._buttons=a._bar=a._scale=a._ticks=a._focusHandler=a._blurHandler=a._keyDownProxy=a._winResHandler=null,ab.fn.destroy.call(a)}}),W.defaults=K,am.ui.plugin("Slider",W)}(jQuery,shield,this);
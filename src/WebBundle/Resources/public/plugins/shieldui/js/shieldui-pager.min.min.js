!function(Q,R,A,w){var N=R.ui.Widget,E=(R.Class,R.DataSource),z=document,H=R.is,C=(R.get,R.format),P=R.to["int"],I=(Math.abs,Q.each,Q.proxy),x=(Q.extend,Q.map,A.opera),y=navigator.userAgent,M=/msie/i.test(y)&&!x,O=M&&7===z.documentMode,J="width",B="sui-selected",K="sui-disabled",G="click",F="px",D={currentPage:1,totalItems:null,pageSize:10,pageLinksCount:5,directionLinks:!0,boundaryLinks:!0,imageLinks:!1,messages:{infoBarTemplate:"{0} - {1} of {2} items",previousText:"&lsaquo;",nextText:"&rsaquo;",firstText:"&laquo;",lastText:"&raquo;",firstTooltip:"Go to the first page",previousTooltip:"Go to the previous page",nextTooltip:"Go to the next page",lastTooltip:"Go to the last page"}},L=N.extend({init:function(i,h){N.fn.init.apply(this,arguments);var j,f=this,e=f.options;f.currentPage=e.currentPage,f._createWrappers(),f._createPagerElements(),M&&f.element.on("selectstart",f._selectStart=function(){return !1}),f.element.on(G,"a",f._click=I(f._clickHandler,f)),e.dataSource?(j=f.dataSource=E.create(e.dataSource),j.on("change.shieldPager"+f.getInstanceId(),I(f._dataChange,f)),f._updateDataSource()):f.refresh(!0)},destroy:function(){var b=this;b.dataSource&&b.dataSource.off("change.shieldPager"+b.getInstanceId()),b.pagination=null,b.infoBox=null,b.element.off("selectstart",b._selectStart),b._selectStart=null,b.element.off(G,"a",b._click),b._click=null,b.startLinkIndex=null,b.endLinkIndex=null,b.element.remove(),N.fn.destroy.call(b)},_clickHandler:function(h){var g=Q(h.currentTarget),b=this;b.options;if(h.preventDefault(),!g.parent().hasClass(K)){var c=P(g.attr("data-page"));b.currentPage=c,b.refresh()}},_createWrappers:function(){var b=this,h=b.element;h.addClass("sui-pager sui-pager-core");var f=Q("<ul />").appendTo(h);O?f.addClass("sui-pagination sui-pagination-ie7"):f.addClass("sui-pagination");var d=Q("<div />").appendTo(h);M&&!O?d.addClass("sui-pager-info-box-ie"):d.addClass("sui-pager-info-box"),b.pagination=f,b.infoBox=d},_updateInfoBox:function(){var h=this,i=h.options,l=i.messages,n=i.pageSize*(h.currentPage-1)+1,m=n-1+i.pageSize,k=Math.ceil(i.totalItems/i.pageSize);m>i.totalItems&&(m=i.totalItems),0===i.totalItems&&(n=0);var j=C(l.infoBarTemplate,n,m,i.totalItems,h.currentPage,k);h.infoBox.empty(),h.infoBox.html(j)},_createPagerElements:function(){var aa=this,ab=aa.options,ad=ab.messages,Z=aa.currentPage,W=aa.pagination,Y=Math.ceil(ab.totalItems/ab.pageSize),U=Math.min(ab.pageLinksCount,Y),ae="",X="",q="",i="",S="",d=P((Z-1)/ab.pageLinksCount),m=d*ab.pageLinksCount+1;1==Z&&(q=" "+K),Z!=Y&&ab.totalItems||(i=" "+K),ab.imageLinks&&(ad.previousText="&nbsp;",ad.nextText="&nbsp;",ad.firstText="&nbsp;",ad.lastText="&nbsp;",X="sui-navigation-links ");var h=Math.min(m+U,Y+1);aa.startLinkIndex=m,aa.endLinkIndex=h-1,d>0&&(ae+="<li class='sui-pager-element'><a data-page='"+(aa.startLinkIndex-1)+"'>...</a></li>");for(var ac=m;h>ac;ac++){ac==Z&&(S=" "+B),ae+="<li class='sui-pager-element'><a data-page='"+ac+"' class='sui-pager-number"+S+"'>"+ac+"</a></li>",S=""}aa.endLinkIndex<Y&&(ae+="<li class='sui-pager-element'><a data-page='"+(aa.endLinkIndex+1)+"'>...</a></li>"),ab.directionLinks&&(ae="<li class='sui-pager-element"+q+"'><a title='"+ad.previousTooltip+"' data-page='"+(Z-1)+"' class='"+X+"sui-prev'>"+ad.previousText+"</a></li>"+ae,ae=ae+"<li class='sui-pager-element"+i+"'><a title='"+ad.nextTooltip+"' data-page='"+(Z+1)+"' class='"+X+"sui-next'>"+ad.nextText+"</a></li>"),ab.boundaryLinks&&(ae="<li class='sui-pager-element"+q+"'><a title='"+ad.firstTooltip+"' data-page='1' class='"+X+"'>"+ad.firstText+"</a></li>"+ae,ae=ae+"<li class='sui-pager-element"+i+"'><a title='"+ad.lastTooltip+"' data-page='"+Y+"' class='"+X+"'>"+ad.lastText+"</a></li>"),W.html(ae);var V=W.find("a");if(V.length>0&&(Q(V[0]).addClass("sui-first"),Q(V[V.length-1]).addClass("sui-last")),O){var T=W.find("li");if(T.length>0){var c=0;for(ac=0;ac<T.length;ac++){var b=T[ac].clientWidth;c+=b,Q(T[ac]).css(J,b+F)}W.css(J,c+F)}}},_dataChange:function(){var g=this,j=g.options,f=g.dataSource,i=f.take,h=Math.ceil(f.skip/i)+1;g.currentPage=h,j.pageSize=i,j.totalItems=f.total,g.refresh(!0)},refresh:function(f){var e=this,d=e.options;Math.ceil(d.totalItems/d.pageSize),e.currentPage,e.dataSource;e.pagination.empty(),e._createPagerElements(),e._updateInfoBox(),f||(e._updateDataSource(),e.trigger("change",{currentPage:e.currentPage,pageSize:d.pageSize}))},_updateDataSource:function(){var d=this,e=d.dataSource,f=d.options;e&&(e.skip=(d.currentPage-1)*f.pageSize,e.take=f.pageSize,e.read())},page:function(c){var e=this;if(!c){return e.currentPage}var f=P(c);e._isValidPage(f)&&(e.currentPage=f,e.refresh())},first:function(){this.currentPage=1,this.refresh()},last:function(){var e=this,d=e.options,f=Math.ceil(d.totalItems/d.pageSize);e.currentPage=f,e.refresh()},next:function(){var e=this,d=e.options,f=Math.ceil(d.totalItems/d.pageSize);e.currentPage!=f&&(e.currentPage=e.currentPage+1,e.refresh())},prev:function(){var b=this;b.options;1!=b.currentPage&&(b.currentPage=b.currentPage-1,b.refresh())},pageSize:function(c){var f=this,h=f.options;if(!c){return h.pageSize}var g=P(c);f._isValidPageSize(g)&&(f.currentPage=1,h.pageSize=g,f.refresh())},_isValidPage:function(f){var a=this.options,e=Math.ceil(a.totalItems/a.pageSize);return H.integer(f)?f>e||1>f?(R.error("Invalid page number. The page number must be greater than 0 and less than "+e+".",a.dieOnError),!1):!0:(R.error("Invalid page number. The page number must integer.",a.dieOnError),!1)},_isValidPageSize:function(a){var d=this.options;return H.integer(a)?1>a?(R.error("Invalid page number. The page number must be greater than 0 (zero).",d.dieOnError),!1):!0:(R.error("Invalid page size number. The page size number must be integer.",d.dieOnError),!1)}});L.defaults=D,R.ui.plugin("Pager",L),R.ui.Pager=L}(jQuery,shield,this);
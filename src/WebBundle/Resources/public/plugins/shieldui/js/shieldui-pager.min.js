/* Shield UI 1.7.18 Trial Version | Copyright 2013-2015 Shield UI Ltd. | http://www.shieldui.com/eula */
!function(b,a,r,v){"use strict";var e=a.ui.Widget,n=(a.Class,a.DataSource),s=document,k=a.is,p=(a.get,a.format),c=a.to["int"],j=(Math.abs,b.each,b.proxy),u=(b.extend,b.map,r.opera),t=navigator.userAgent,f=/msie/i.test(t)&&!u,d=f&&7===s.documentMode,i="width",q="sui-selected",h="sui-disabled",l="click",m="px",o={currentPage:1,totalItems:null,pageSize:10,pageLinksCount:5,directionLinks:!0,boundaryLinks:!0,imageLinks:!1,messages:{infoBarTemplate:"{0} - {1} of {2} items",previousText:"&lsaquo;",nextText:"&rsaquo;",firstText:"&laquo;",lastText:"&raquo;",firstTooltip:"Go to the first page",previousTooltip:"Go to the previous page",nextTooltip:"Go to the next page",lastTooltip:"Go to the last page"}},g=e.extend({init:function(d,g){e.fn.init.apply(this,arguments);var c,a=this,b=a.options;a.currentPage=b.currentPage,a._createWrappers(),a._createPagerElements(),f&&a.element.on("selectstart",a._selectStart=function(){return!1}),a.element.on(l,"a",a._click=j(a._clickHandler,a)),b.dataSource?(c=a.dataSource=n.create(b.dataSource),c.on("change.shieldPager"+a.getInstanceId(),j(a._dataChange,a)),a._updateDataSource()):a.refresh(!0)},destroy:function(){var a=this;a.dataSource&&a.dataSource.off("change.shieldPager"+a.getInstanceId()),a.pagination=null,a.infoBox=null,a.element.off("selectstart",a._selectStart),a._selectStart=null,a.element.off(l,"a",a._click),a._click=null,a.startLinkIndex=null,a.endLinkIndex=null,a.element.remove(),e.fn.destroy.call(a)},_clickHandler:function(d){var e=b(d.currentTarget),a=this;a.options;if(d.preventDefault(),!e.parent().hasClass(h)){var f=c(e.attr("data-page"));a.currentPage=f,a.refresh()}},_createWrappers:function(){var a=this,c=a.element;c.addClass("sui-pager sui-pager-core");var e=b("<ul />").appendTo(c);d?e.addClass("sui-pagination sui-pagination-ie7"):e.addClass("sui-pagination");var g=b("<div />").appendTo(c);f&&!d?g.addClass("sui-pager-info-box-ie"):g.addClass("sui-pager-info-box"),a.pagination=e,a.infoBox=g},_updateInfoBox:function(){var b=this,a=b.options,e=a.messages,c=a.pageSize*(b.currentPage-1)+1,d=c-1+a.pageSize,f=Math.ceil(a.totalItems/a.pageSize);d>a.totalItems&&(d=a.totalItems),0===a.totalItems&&(c=0);var g=p(e.infoBarTemplate,c,d,a.totalItems,b.currentPage,f);b.infoBox.empty(),b.infoBox.html(g)},_createPagerElements:function(){var j=this,g=j.options,e=g.messages,k=j.currentPage,o=j.pagination,l=Math.ceil(g.totalItems/g.pageSize),A=Math.min(g.pageLinksCount,l),a="",n="",t="",v="",s="",x=c((k-1)/g.pageLinksCount),u=x*g.pageLinksCount+1;1==k&&(t=" "+h),k!=l&&g.totalItems||(v=" "+h),g.imageLinks&&(e.previousText="&nbsp;",e.nextText="&nbsp;",e.firstText="&nbsp;",e.lastText="&nbsp;",n="sui-navigation-links ");var w=Math.min(u+A,l+1);j.startLinkIndex=u,j.endLinkIndex=w-1,x>0&&(a+="<li class='sui-pager-element'><a data-page='"+(j.startLinkIndex-1)+"'>...</a></li>");for(var f=u;w>f;f++)f==k&&(s=" "+q),a+="<li class='sui-pager-element'><a data-page='"+f+"' class='sui-pager-number"+s+"'>"+f+"</a></li>",s="";j.endLinkIndex<l&&(a+="<li class='sui-pager-element'><a data-page='"+(j.endLinkIndex+1)+"'>...</a></li>"),g.directionLinks&&(a="<li class='sui-pager-element"+t+"'><a title='"+e.previousTooltip+"' data-page='"+(k-1)+"' class='"+n+"sui-prev'>"+e.previousText+"</a></li>"+a,a=a+"<li class='sui-pager-element"+v+"'><a title='"+e.nextTooltip+"' data-page='"+(k+1)+"' class='"+n+"sui-next'>"+e.nextText+"</a></li>"),g.boundaryLinks&&(a="<li class='sui-pager-element"+t+"'><a title='"+e.firstTooltip+"' data-page='1' class='"+n+"'>"+e.firstText+"</a></li>"+a,a=a+"<li class='sui-pager-element"+v+"'><a title='"+e.lastTooltip+"' data-page='"+l+"' class='"+n+"'>"+e.lastText+"</a></li>"),o.html(a);var p=o.find("a");if(p.length>0&&(b(p[0]).addClass("sui-first"),b(p[p.length-1]).addClass("sui-last")),d){var r=o.find("li");if(r.length>0){var y=0;for(f=0;f<r.length;f++){var z=r[f].clientWidth;y+=z,b(r[f]).css(i,z+m)}o.css(i,y+m)}}},_dataChange:function(){var a=this,c=a.options,b=a.dataSource,d=b.take,e=Math.ceil(b.skip/d)+1;a.currentPage=e,c.pageSize=d,c.totalItems=b.total,a.refresh(!0)},refresh:function(c){var a=this,b=a.options;Math.ceil(b.totalItems/b.pageSize),a.currentPage,a.dataSource;a.pagination.empty(),a._createPagerElements(),a._updateInfoBox(),c||(a._updateDataSource(),a.trigger("change",{currentPage:a.currentPage,pageSize:b.pageSize}))},_updateDataSource:function(){var b=this,a=b.dataSource,c=b.options;a&&(a.skip=(b.currentPage-1)*c.pageSize,a.take=c.pageSize,a.read())},page:function(b){var a=this;if(!b)return a.currentPage;var d=c(b);a._isValidPage(d)&&(a.currentPage=d,a.refresh())},first:function(){this.currentPage=1,this.refresh()},last:function(){var a=this,b=a.options,c=Math.ceil(b.totalItems/b.pageSize);a.currentPage=c,a.refresh()},next:function(){var a=this,b=a.options,c=Math.ceil(b.totalItems/b.pageSize);a.currentPage!=c&&(a.currentPage=a.currentPage+1,a.refresh())},prev:function(){var a=this;a.options;1!=a.currentPage&&(a.currentPage=a.currentPage-1,a.refresh())},pageSize:function(b){var a=this,d=a.options;if(!b)return d.pageSize;var e=c(b);a._isValidPageSize(e)&&(a.currentPage=1,d.pageSize=e,a.refresh())},_isValidPage:function(c){var b=this.options,d=Math.ceil(b.totalItems/b.pageSize);return k.integer(c)?c>d||1>c?(a.error("Invalid page number. The page number must be greater than 0 and less than "+d+".",b.dieOnError),!1):!0:(a.error("Invalid page number. The page number must integer.",b.dieOnError),!1)},_isValidPageSize:function(b){var c=this.options;return k.integer(b)?1>b?(a.error("Invalid page number. The page number must be greater than 0 (zero).",c.dieOnError),!1):!0:(a.error("Invalid page size number. The page size number must be integer.",c.dieOnError),!1)}});g.defaults=o,a.ui.plugin("Pager",g),a.ui.Pager=g}(jQuery,shield,this);